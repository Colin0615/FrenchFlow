(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function nb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}},Il={};var nv;function sb(){if(nv)return Il;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:f,ref:o!==void 0?o:null,props:c}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var sv;function ib(){return sv||(sv=1,Yd.exports=sb()),Yd.exports}var E=ib(),Qd={exports:{}},Ee={};var iv;function rb(){if(iv)return Ee;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,W={};function le(M,$,ne){this.props=M,this.context=$,this.refs=W,this.updater=ne||Z}le.prototype.isReactComponent={},le.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},le.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ce(){}ce.prototype=le.prototype;function de(M,$,ne){this.props=M,this.context=$,this.refs=W,this.updater=ne||Z}var Me=de.prototype=new ce;Me.constructor=de,F(Me,le.prototype),Me.isPureReactComponent=!0;var et=Array.isArray;function Ve(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(M,$,ne){var re=ne.ref;return{$$typeof:r,type:M,key:$,ref:re!==void 0?re:null,props:ne}}function V(M,$){return R(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return $[ne]})}var I=/\/+/g;function at(M,$){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):$.toString(36)}function Vt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ve,Ve):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,$,ne,re,_e){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case A:return Le=M._init,K(Le(M._payload),$,ne,re,_e)}}if(Le)return _e=_e(M),Le=re===""?"."+at(M,0):re,et(_e)?(ne="",Le!=null&&(ne=Le.replace(I,"$&/")+"/"),K(_e,$,ne,"",function(mr){return mr})):_e!=null&&(O(_e)&&(_e=V(_e,ne+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Le)),$.push(_e)),1;Le=0;var kt=re===""?".":re+":";if(et(M))for(var ot=0;ot<M.length;ot++)re=M[ot],xe=kt+at(re,ot),Le+=K(re,$,ne,xe,_e);else if(ot=q(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(re=M.next()).done;)re=re.value,xe=kt+at(re,ot++),Le+=K(re,$,ne,xe,_e);else if(xe==="object"){if(typeof M.then=="function")return K(Vt(M),$,ne,re,_e);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(M,$,ne){if(M==null)return M;var re=[],_e=0;return K(M,re,"","",function(xe){return $.call(ne,xe,_e++)}),re}function fe(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:te,forEach:function(M,$,ne){te(M,function(){$.apply(this,arguments)},ne)},count:function(M){var $=0;return te(M,function(){$++}),$},toArray:function(M){return te(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=S,Ee.Children=Ke,Ee.Component=le,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=de,Ee.StrictMode=i,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,$,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=F({},M.props),_e=M.key;if($!=null)for(xe in $.key!==void 0&&(_e=""+$.key),$)!x.call($,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&$.ref===void 0||(re[xe]=$[xe]);var xe=arguments.length-2;if(xe===1)re.children=ne;else if(1<xe){for(var Le=Array(xe),kt=0;kt<xe;kt++)Le[kt]=arguments[kt+2];re.children=Le}return R(M.type,_e,re)},Ee.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ee.createElement=function(M,$,ne){var re,_e={},xe=null;if($!=null)for(re in $.key!==void 0&&(xe=""+$.key),$)x.call($,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(_e[re]=$[re]);var Le=arguments.length-2;if(Le===1)_e.children=ne;else if(1<Le){for(var kt=Array(Le),ot=0;ot<Le;ot++)kt[ot]=arguments[ot+2];_e.children=kt}if(M&&M.defaultProps)for(re in Le=M.defaultProps,Le)_e[re]===void 0&&(_e[re]=Le[re]);return R(M,xe,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:p,render:M}},Ee.isValidElement=O,Ee.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:fe}},Ee.memo=function(M,$){return{$$typeof:y,type:M,compare:$===void 0?null:$}},Ee.startTransition=function(M){var $=N.T,ne={};N.T=ne;try{var re=M(),_e=N.S;_e!==null&&_e(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ve,Ue)}catch(xe){Ue(xe)}finally{$!==null&&ne.types!==null&&($.types=ne.types),N.T=$}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(M){return N.H.use(M)},Ee.useActionState=function(M,$,ne){return N.H.useActionState(M,$,ne)},Ee.useCallback=function(M,$){return N.H.useCallback(M,$)},Ee.useContext=function(M){return N.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Ee.useEffect=function(M,$){return N.H.useEffect(M,$)},Ee.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(M,$,ne){return N.H.useImperativeHandle(M,$,ne)},Ee.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Ee.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Ee.useMemo=function(M,$){return N.H.useMemo(M,$)},Ee.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Ee.useReducer=function(M,$,ne){return N.H.useReducer(M,$,ne)},Ee.useRef=function(M){return N.H.useRef(M)},Ee.useState=function(M){return N.H.useState(M)},Ee.useSyncExternalStore=function(M,$,ne){return N.H.useSyncExternalStore(M,$,ne)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.2.3",Ee}var rv;function Hp(){return rv||(rv=1,Qd.exports=rb()),Qd.exports}var me=Hp();const ab=nb(me);var Xd={exports:{}},Cl={},$d={exports:{}},Jd={};var av;function ob(){return av||(av=1,(function(r){function e(K,te){var fe=K.length;K.push(te);e:for(;0<fe;){var Ue=fe-1>>>1,Ke=K[Ue];if(0<o(Ke,te))K[Ue]=te,K[fe]=Ke,fe=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var te=K[0],fe=K.pop();if(fe!==te){K[0]=fe;e:for(var Ue=0,Ke=K.length,M=Ke>>>1;Ue<M;){var $=2*(Ue+1)-1,ne=K[$],re=$+1,_e=K[re];if(0>o(ne,fe))re<Ke&&0>o(_e,ne)?(K[Ue]=_e,K[re]=fe,Ue=re):(K[Ue]=ne,K[$]=fe,Ue=$);else if(re<Ke&&0>o(_e,fe))K[Ue]=_e,K[re]=fe,Ue=re;else break e}}return te}function o(K,te){var fe=K.sortIndex-te.sortIndex;return fe!==0?fe:K.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],A=1,S=null,w=3,q=!1,Z=!1,F=!1,W=!1,le=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Me(K){for(var te=n(y);te!==null;){if(te.callback===null)i(y);else if(te.startTime<=K)i(y),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(y)}}function et(K){if(F=!1,Me(K),!Z)if(n(g)!==null)Z=!0,Ve||(Ve=!0,L());else{var te=n(y);te!==null&&Vt(et,te.startTime-K)}}var Ve=!1,N=-1,x=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<x)}function O(){if(W=!1,Ve){var K=r.unstable_now();R=K;var te=!0;try{e:{Z=!1,F&&(F=!1,ce(N),N=-1),q=!0;var fe=w;try{t:{for(Me(K),S=n(g);S!==null&&!(S.expirationTime>K&&V());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,w=S.priorityLevel;var Ke=Ue(S.expirationTime<=K);if(K=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,Me(K),te=!0;break t}S===n(g)&&i(g),Me(K)}else i(g);S=n(g)}if(S!==null)te=!0;else{var M=n(y);M!==null&&Vt(et,M.startTime-K),te=!1}}break e}finally{S=null,w=fe,q=!1}te=void 0}}finally{te?L():Ve=!1}}}var L;if(typeof de=="function")L=function(){de(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=O,L=function(){at.postMessage(null)}}else L=function(){le(O,0)};function Vt(K,te){N=le(function(){K(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var fe=w;w=te;try{return K()}finally{w=fe}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return te()}finally{w=fe}},r.unstable_scheduleCallback=function(K,te,fe){var Ue=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,K={id:A++,callback:te,priorityLevel:K,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Ue?(K.sortIndex=fe,e(y,K),n(g)===null&&K===n(y)&&(F?(ce(N),N=-1):F=!0,Vt(et,fe-Ue))):(K.sortIndex=Ke,e(g,K),Z||q||(Z=!0,Ve||(Ve=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var te=w;return function(){var fe=w;w=te;try{return K.apply(this,arguments)}finally{w=fe}}}})(Jd)),Jd}var ov;function lb(){return ov||(ov=1,$d.exports=ob()),$d.exports}var Zd={exports:{}},en={};var lv;function cb(){if(lv)return en;lv=1;var r=Hp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,A)},en.flushSync=function(g){var y=f.T,A=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=A,i.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:q}):A==="script"&&i.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);i.d.L(g,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},en.requestFormReset=function(g){i.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,A){return f.H.useFormState(g,y,A)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.3",en}var cv;function ub(){if(cv)return Zd.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=cb(),Zd.exports}var uv;function hb(){if(uv)return Cl;uv=1;var r=lb(),e=Hp(),n=ub();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function A(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=A(t),s!==null)return s;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case le:return"Profiler";case W:return"StrictMode";case et:return"Suspense";case Ve:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case de:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:at(t.type)||"Memo";case x:s=t._payload,t=t._init;try{return at(t(s))}catch{}}return null}var Vt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Ke=-1;function M(t){return{current:t}}function $(t){0>Ke||(t.current=Ue[Ke],Ue[Ke]=null,Ke--)}function ne(t,s){Ke++,Ue[Ke]=t.current,t.current=s}var re=M(null),_e=M(null),xe=M(null),Le=M(null);function kt(t,s){switch(ne(xe,s),ne(_e,t),ne(re,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=S_(s),t=w_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(re),ne(re,t)}function ot(){$(re),$(_e),$(xe)}function mr(t){t.memoizedState!==null&&ne(Le,t);var s=re.current,a=w_(s,t.type);s!==a&&(ne(_e,t),ne(re,a))}function sa(t){_e.current===t&&($(re),$(_e)),Le.current===t&&($(Le),xl._currentValue=fe)}var ia,ra;function ls(t){if(ia===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ia=s&&s[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+t+ra}var xo=!1;function gr(t,s){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ls(a):""}function So(t,s){switch(t.tag){case 26:case 27:case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return t.child!==s&&s!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return gr(t.type,!1);case 11:return gr(t.type.render,!1);case 1:return gr(t.type,!0);case 31:return ls("Activity");default:return""}}function wo(t){try{var s="",a=null;do s+=So(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Lt=r.unstable_scheduleCallback,pi=r.unstable_cancelCallback,Qh=r.unstable_shouldYield,hc=r.unstable_requestPaint,on=r.unstable_now,yr=r.unstable_getCurrentPriorityLevel,Ro=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Xh=r.unstable_LowPriority,fc=r.unstable_IdlePriority,dc=r.log,pc=r.unstable_setDisableYieldValue,Kn=null,Ft=null;function Dn(t){if(typeof dc=="function"&&pc(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Kn,t)}catch{}}var mt=Math.clz32?Math.clz32:gc,mc=Math.log,aa=Math.LN2;function gc(t){return t>>>=0,t===0?32:31-(mc(t)/aa|0)|0}var cs=256,_r=262144,At=4194304;function us(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hs(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=us(l):(_&=T,_!==0?h=us(_):a||(a=T&~t,a!==0&&(h=us(a))))):(T=l&~d,T!==0?h=us(T):_!==0?h=us(_):a||(a=l&~t,a!==0&&(h=us(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function Yn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function $h(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function fs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function vr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,s,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-mt(a),X=1<<G;T[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&Er(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~s))}function Er(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-mt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Co(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function No(t,s){var a=s&-s;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ps(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _c(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function Qn(t,s){var a=te.p;try{return te.p=t,s()}finally{te.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,zt="__reactProps$"+Xn,ds="__reactContainer$"+Xn,oa="__reactEvents$"+Xn,Zh="__reactListeners$"+Xn,vc="__reactHandles$"+Xn,Ec="__reactResources$"+Xn,ps="__reactMarker$"+Xn;function la(t){delete t[bt],delete t[zt],delete t[oa],delete t[Zh],delete t[vc]}function ms(t){var s=t[bt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ds]||a[bt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=M_(t);t!==null;){if(a=t[bt])return a;t=M_(t)}return s}t=a,a=t.parentNode}return null}function On(t){if(t=t[bt]||t[ds]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function vn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function gs(t){var s=t[Ec];return s||(s=t[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(t){t[ps]=!0}var Do=new Set,Oo={};function ys(t,s){_s(t,s),_s(t+"Capture",s)}function _s(t,s){for(Oo[t]=s,t=0;t<s.length;t++)Do.add(s[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function Tc(t){return Tt.call(ko,t)?!0:Tt.call(Vo,t)?!1:Mo.test(t)?ko[t]=!0:(Vo[t]=!0,!1)}function ca(t,s,a){if(Tc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function En(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function St(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ye(t){if(!t._valueTracker){var s=gi(t)?"checked":"value";t._valueTracker=Lo(t,s,""+t[s])}}function Ar(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=gi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function vs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function un(t){return t.replace(br,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ua(t,s,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Bt(s)):t.value!==""+Bt(s)&&(t.value=""+Bt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?jo(t,_,Bt(s)):a!=null?jo(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Bt(T):t.removeAttribute("name")}function Ac(t,s,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Ye(t);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function jo(t,s,a){s==="number"&&vs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yi(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function bc(t,s,a){if(s!=null&&(s=""+Bt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Bt(a):""}function _i(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Vt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Bt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||xc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Po(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var d in s)s.hasOwnProperty(d)&&Uo(t,d,s[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return vi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var zo=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Es=null;function xr(t){var s=On(t);if(s&&(t=s.stateNode)){var a=t[zt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(i(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Ar(l)}break e;case"textarea":bc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&yi(t,!!a.multiple,s,!1)}}}var da=!1;function Ti(t,s,a){if(da)return t(s,a);da=!0;try{var l=t(s);return l}finally{if(da=!1,(Ei!==null||Es!==null)&&(_u(),Ei&&(s=Ei,t=Es,Es=Ei=null,xr(s),t)))for(s=0;s<t.length;s++)xr(t[s])}}function Jn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Vn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Sr=!1}var Ts=null,Bo=null,wr=null;function qo(){if(wr)return wr;var t,s=Bo,a=s.length,l,h="value"in Ts?Ts.value:Ts.textContent,d=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===h[d-l];l++);return wr=h.slice(t,1<l?1-l:void 0)}function Rr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function zs(){return!0}function Zn(){return!1}function Gt(t){function s(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zs:Zn,this.isPropagationStopped=Zn,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),s}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Gt(Bs),Ai=S({},Bs,{view:0,detail:0}),Ho=Gt(Ai),bi,pa,bs,ma=S({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(bi=t.screenX-bs.screenX,pa=t.screenY-bs.screenY):pa=bi=0,bs=t),bi)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Fo=Gt(ma),Ir=S({},ma,{dataTransfer:0}),wc=Gt(Ir),Rc=S({},Ai,{relatedTarget:0}),Cr=Gt(Rc),Go=S({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=Gt(Go),ga=S({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cc=Gt(ga),Nc=S({},Bs,{data:0}),xs=Gt(Nc),Dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mc[t])?!!s[t]:!1}function xi(){return Vc}var ln=S({},Ai,{key:function(t){if(t.key){var s=Dc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(t){return t.type==="keypress"?Rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kc=Gt(ln),Lc=S({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Gt(Lc),u=S({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),m=Gt(u),v=S({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Gt(v),j=S({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Gt(j),ee=S({},Bs,{newState:0,oldState:0}),Ae=Gt(ee),gt=[9,13,27,32],qe=Vn&&"CompositionEvent"in window,lt=null;Vn&&"documentMode"in document&&(lt=document.documentMode);var kn=Vn&&"TextEvent"in window&&!lt,Ss=Vn&&(!qe||lt&&8<lt&&11>=lt),Wn=" ",es=!1;function Nr(t,s){switch(t){case"keyup":return gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function wT(t,s){switch(t){case"compositionend":return ya(s);case"keypress":return s.which!==32?null:(es=!0,Wn);case"textInput":return t=s.data,t===Wn&&es?null:t;default:return null}}function RT(t,s){if(_a)return t==="compositionend"||!qe&&Nr(t,s)?(t=qo(),wr=Bo=Ts=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ss&&s.locale!=="ko"?null:s.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!IT[t.type]:s==="textarea"}function jm(t,s,a,l){Ei?Es?Es.push(l):Es=[l]:Ei=l,s=Su(s,"onChange"),0<s.length&&(a=new As("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Ko=null,Yo=null;function CT(t){v_(t,0)}function jc(t){var s=vn(t);if(Ar(s))return t}function Um(t,s){if(t==="change")return s}var Pm=!1;if(Vn){var Wh;if(Vn){var ef="oninput"in document;if(!ef){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),ef=typeof zm.oninput=="function"}Wh=ef}else Wh=!1;Pm=Wh&&(!document.documentMode||9<document.documentMode)}function Bm(){Ko&&(Ko.detachEvent("onpropertychange",qm),Yo=Ko=null)}function qm(t){if(t.propertyName==="value"&&jc(Yo)){var s=[];jm(s,Yo,t,Mn(t)),Ti(CT,s)}}function NT(t,s,a){t==="focusin"?(Bm(),Ko=s,Yo=a,Ko.attachEvent("onpropertychange",qm)):t==="focusout"&&Bm()}function DT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(Yo)}function OT(t,s){if(t==="click")return jc(s)}function MT(t,s){if(t==="input"||t==="change")return jc(s)}function VT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Tn=typeof Object.is=="function"?Object.is:VT;function Qo(t,s){if(Tn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(s,h)||!Tn(t[h],s[h]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,s){var a=Hm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hm(a)}}function Gm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Gm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=vs(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=vs(t.document)}return s}function tf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var kT=Vn&&"documentMode"in document&&11>=document.documentMode,va=null,nf=null,Xo=null,sf=!1;function Ym(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||va==null||va!==vs(l)||(l=va,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Su(nf,"onSelect"),0<l.length&&(s=new As("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=va)))}function Dr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ea={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},rf={},Qm={};Vn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Or(t){if(rf[t])return rf[t];if(!Ea[t])return t;var s=Ea[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Qm)return rf[t]=s[a];return t}var Xm=Or("animationend"),$m=Or("animationiteration"),Jm=Or("animationstart"),LT=Or("transitionrun"),jT=Or("transitionstart"),UT=Or("transitioncancel"),Zm=Or("transitionend"),Wm=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function ts(t,s){Wm.set(t,s),ys(s,[t])}var Uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Ta=0,of=0;function Pc(){for(var t=Ta,s=of=Ta=0;s<t;){var a=Ln[s];Ln[s++]=null;var l=Ln[s];Ln[s++]=null;var h=Ln[s];Ln[s++]=null;var d=Ln[s];if(Ln[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&eg(a,h,d)}}function zc(t,s,a,l){Ln[Ta++]=t,Ln[Ta++]=s,Ln[Ta++]=a,Ln[Ta++]=l,of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,s,a,l){return zc(t,s,a,l),Bc(t)}function Mr(t,s){return zc(t,null,null,s),Bc(t)}function eg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&s!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function Bc(t){if(50<yl)throw yl=0,yd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Aa={};function PT(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,s,a,l){return new PT(t,s,a,l)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hs(t,s){var a=t.alternate;return a===null?(a=An(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function tg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function qc(t,s,a,l,h,d){var _=0;if(l=t,typeof t=="function")cf(t)&&(_=1);else if(typeof t=="string")_=FA(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,s,h),t.elementType=R,t.lanes=d,t;case F:return Vr(a.children,h,d,s);case W:_=8,h|=24;break;case le:return t=An(12,a,s,h|2),t.elementType=le,t.lanes=d,t;case et:return t=An(13,a,s,h),t.elementType=et,t.lanes=d,t;case Ve:return t=An(19,a,s,h),t.elementType=Ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:_=10;break e;case ce:_=9;break e;case Me:_=11;break e;case N:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=An(_,a,s,h),s.elementType=t,s.type=l,s.lanes=d,s}function Vr(t,s,a,l){return t=An(7,t,l,s),t.lanes=a,t}function uf(t,s,a){return t=An(6,t,null,s),t.lanes=a,t}function ng(t){var s=An(18,null,null,0);return s.stateNode=t,s}function hf(t,s,a){return s=An(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var sg=new WeakMap;function jn(t,s){if(typeof t=="object"&&t!==null){var a=sg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:wo(s)},sg.set(t,s),s)}return{value:t,source:s,stack:wo(s)}}var ba=[],xa=0,Hc=null,$o=0,Un=[],Pn=0,Si=null,ws=1,Rs="";function Fs(t,s){ba[xa++]=$o,ba[xa++]=Hc,Hc=t,$o=s}function ig(t,s,a){Un[Pn++]=ws,Un[Pn++]=Rs,Un[Pn++]=Si,Si=t;var l=ws;t=Rs;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(s)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ws=1<<32-mt(s)+h|a<<h|l,Rs=d+t}else ws=1<<d|a<<h|l,Rs=t}function ff(t){t.return!==null&&(Fs(t,1),ig(t,1,0))}function df(t){for(;t===Hc;)Hc=ba[--xa],ba[xa]=null,$o=ba[--xa],ba[xa]=null;for(;t===Si;)Si=Un[--Pn],Un[Pn]=null,Rs=Un[--Pn],Un[Pn]=null,ws=Un[--Pn],Un[Pn]=null}function rg(t,s){Un[Pn++]=ws,Un[Pn++]=Rs,Un[Pn++]=Si,ws=s.id,Rs=s.overflow,Si=t}var Kt=null,st=null,ke=!1,wi=null,zn=!1,pf=Error(i(519));function Ri(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(jn(s,t)),pf}function ag(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[bt]=t,s[zt]=l,a){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(a=0;a<vl.length;a++)Re(vl[a],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Re("invalid",s),Ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",s);break;case"textarea":Re("invalid",s),_i(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||b_(s.textContent,a)?(l.popover!=null&&(Re("beforetoggle",s),Re("toggle",s)),l.onScroll!=null&&Re("scroll",s),l.onScrollEnd!=null&&Re("scrollend",s),l.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||Ri(t,!0)}function og(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Kt=Kt.return}}function Sa(t){if(t!==Kt)return!1;if(!ke)return og(t),ke=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&st&&Ri(t),og(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));st=O_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));st=O_(t)}else s===27?(s=st,Bi(t.type)?(t=jd,jd=null,st=t):st=s):st=Kt?qn(t.stateNode.nextSibling):null;return!0}function kr(){st=Kt=null,ke=!1}function mf(){var t=wi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),wi=null),t}function Jo(t){wi===null?wi=[t]:wi.push(t)}var gf=M(null),Lr=null,Gs=null;function Ii(t,s,a){ne(gf,s._currentValue),s._currentValue=a}function Ks(t){t._currentValue=gf.current,$(gf)}function yf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function _f(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<s.length;C++)if(T.context===s[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(t,s,a,l){t=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var T=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&_f(s,t,a,l),s.flags|=262144}function Fc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){Lr=t,Gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return lg(Lr,t)}function Gc(t,s){return Lr===null&&jr(t),lg(t,s)}function lg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Gs===null){if(t===null)throw Error(i(308));Gs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Gs=Gs.next=s;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},BT=r.unstable_scheduleCallback,qT=r.unstable_NormalPriority,wt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new zT,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&BT(qT,function(){t.controller.abort()})}var Wo=null,Ef=0,Ra=0,Ia=null;function HT(t,s){if(Wo===null){var a=Wo=[];Ef=0,Ra=bd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,s.then(cg,cg),s}function cg(){if(--Ef===0&&Wo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Wo;Wo=null,Ra=0,Ia=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function FT(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ug=K.S;K.S=function(t,s){Yy=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HT(t,s),ug!==null&&ug(t,s)};var Ur=M(null);function Tf(){var t=Ur.current;return t!==null?t:tt.pooledCache}function Kc(t,s){s===null?ne(Ur,Ur.current):ne(Ur,s.pool)}function hg(){var t=Tf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ca=Error(i(460)),Af=Error(i(474)),Yc=Error(i(542)),Qc={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then($n,$n),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mg(t),t;default:if(typeof s.status=="string")s.then($n,$n);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mg(t),t}throw zr=s,Ca}}function Pr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Ca):a}}var zr=null;function pg(){if(zr===null)throw Error(i(459));var t=zr;return zr=null,t}function mg(t){if(t===Ca||t===Yc)throw Error(i(483))}var Na=null,el=0;function Xc(t){var s=el;return el+=1,Na===null&&(Na=[]),dg(Na,t,s)}function tl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function $c(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function gg(t){function s(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)s(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Hs(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,U,Y){return D===null||D.tag!==6?(D=uf(U,k.mode,Y),D.return=k,D):(D=h(D,U),D.return=k,D)}function C(k,D,U,Y){var ue=U.type;return ue===F?G(k,D,U.props.children,Y,U.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===x&&Pr(ue)===D.type)?(D=h(D,U.props),tl(D,U),D.return=k,D):(D=qc(U.type,U.key,U.props,null,k.mode,Y),tl(D,U),D.return=k,D)}function P(k,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=hf(U,k.mode,Y),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Y,ue){return D===null||D.tag!==7?(D=Vr(U,k.mode,Y,ue),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=uf(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return U=qc(D.type,D.key,D.props,null,k.mode,U),tl(U,D),U.return=k,U;case Z:return D=hf(D,k.mode,U),D.return=k,D;case x:return D=Pr(D),X(k,D,U)}if(Vt(D)||L(D))return D=Vr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Xc(D),U);if(D.$$typeof===de)return X(k,Gc(k,D),U);$c(k,D)}return null}function z(k,D,U,Y){var ue=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:T(k,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===ue?C(k,D,U,Y):null;case Z:return U.key===ue?P(k,D,U,Y):null;case x:return U=Pr(U),z(k,D,U,Y)}if(Vt(U)||L(U))return ue!==null?null:G(k,D,U,Y,null);if(typeof U.then=="function")return z(k,D,Xc(U),Y);if(U.$$typeof===de)return z(k,D,Gc(k,U),Y);$c(k,U)}return null}function H(k,D,U,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,T(D,k,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return k=k.get(Y.key===null?U:Y.key)||null,C(D,k,Y,ue);case Z:return k=k.get(Y.key===null?U:Y.key)||null,P(D,k,Y,ue);case x:return Y=Pr(Y),H(k,D,U,Y,ue)}if(Vt(Y)||L(Y))return k=k.get(U)||null,G(D,k,Y,ue,null);if(typeof Y.then=="function")return H(k,D,U,Xc(Y),ue);if(Y.$$typeof===de)return H(k,D,U,Gc(D,Y),ue);$c(D,Y)}return null}function ae(k,D,U,Y){for(var ue=null,Pe=null,oe=D,Se=D=0,Ce=null;oe!==null&&Se<U.length;Se++){oe.index>Se?(Ce=oe,oe=null):Ce=oe.sibling;var ze=z(k,oe,U[Se],Y);if(ze===null){oe===null&&(oe=Ce);break}t&&oe&&ze.alternate===null&&s(k,oe),D=d(ze,D,Se),Pe===null?ue=ze:Pe.sibling=ze,Pe=ze,oe=Ce}if(Se===U.length)return a(k,oe),ke&&Fs(k,Se),ue;if(oe===null){for(;Se<U.length;Se++)oe=X(k,U[Se],Y),oe!==null&&(D=d(oe,D,Se),Pe===null?ue=oe:Pe.sibling=oe,Pe=oe);return ke&&Fs(k,Se),ue}for(oe=l(oe);Se<U.length;Se++)Ce=H(oe,k,Se,U[Se],Y),Ce!==null&&(t&&Ce.alternate!==null&&oe.delete(Ce.key===null?Se:Ce.key),D=d(Ce,D,Se),Pe===null?ue=Ce:Pe.sibling=Ce,Pe=Ce);return t&&oe.forEach(function(Ki){return s(k,Ki)}),ke&&Fs(k,Se),ue}function pe(k,D,U,Y){if(U==null)throw Error(i(151));for(var ue=null,Pe=null,oe=D,Se=D=0,Ce=null,ze=U.next();oe!==null&&!ze.done;Se++,ze=U.next()){oe.index>Se?(Ce=oe,oe=null):Ce=oe.sibling;var Ki=z(k,oe,ze.value,Y);if(Ki===null){oe===null&&(oe=Ce);break}t&&oe&&Ki.alternate===null&&s(k,oe),D=d(Ki,D,Se),Pe===null?ue=Ki:Pe.sibling=Ki,Pe=Ki,oe=Ce}if(ze.done)return a(k,oe),ke&&Fs(k,Se),ue;if(oe===null){for(;!ze.done;Se++,ze=U.next())ze=X(k,ze.value,Y),ze!==null&&(D=d(ze,D,Se),Pe===null?ue=ze:Pe.sibling=ze,Pe=ze);return ke&&Fs(k,Se),ue}for(oe=l(oe);!ze.done;Se++,ze=U.next())ze=H(oe,k,Se,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&oe.delete(ze.key===null?Se:ze.key),D=d(ze,D,Se),Pe===null?ue=ze:Pe.sibling=ze,Pe=ze);return t&&oe.forEach(function(tb){return s(k,tb)}),ke&&Fs(k,Se),ue}function We(k,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var ue=U.key;D!==null;){if(D.key===ue){if(ue=U.type,ue===F){if(D.tag===7){a(k,D.sibling),Y=h(D,U.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===x&&Pr(ue)===D.type){a(k,D.sibling),Y=h(D,U.props),tl(Y,U),Y.return=k,k=Y;break e}a(k,D);break}else s(k,D);D=D.sibling}U.type===F?(Y=Vr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=qc(U.type,U.key,U.props,null,k.mode,Y),tl(Y,U),Y.return=k,k=Y)}return _(k);case Z:e:{for(ue=U.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),Y=h(D,U.children||[]),Y.return=k,k=Y;break e}else{a(k,D);break}else s(k,D);D=D.sibling}Y=hf(U,k.mode,Y),Y.return=k,k=Y}return _(k);case x:return U=Pr(U),We(k,D,U,Y)}if(Vt(U))return ae(k,D,U,Y);if(L(U)){if(ue=L(U),typeof ue!="function")throw Error(i(150));return U=ue.call(U),pe(k,D,U,Y)}if(typeof U.then=="function")return We(k,D,Xc(U),Y);if(U.$$typeof===de)return We(k,D,Gc(k,U),Y);$c(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,U),Y.return=k,k=Y):(a(k,D),Y=uf(U,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,D)}return function(k,D,U,Y){try{el=0;var ue=We(k,D,U,Y);return Na=null,ue}catch(oe){if(oe===Ca||oe===Yc)throw oe;var Pe=An(29,oe,null,k.mode);return Pe.lanes=Y,Pe.return=k,Pe}}}var Br=gg(!0),yg=gg(!1),Ci=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Di(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Bc(t),eg(t,null,a),s}return zc(t,l,s,a),Bc(t)}function nl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Co(t,a)}}function Sf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var wf=!1;function sl(){if(wf){var t=Ia;if(t!==null)throw t}}function il(t,s,a,l){wf=!1;var h=t.updateQueue;Ci=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,_===null?d=P:_.next=P,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;_=0,G=P=C=null,T=d;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Ie&z)===z:(l&z)===z){z!==0&&z===Ra&&(wf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ae=t,pe=T;z=s;var We=a;switch(pe.tag){case 1:if(ae=pe.payload,typeof ae=="function"){X=ae.call(We,X,z);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=pe.payload,z=typeof ae=="function"?ae.call(We,X,z):ae,z==null)break e;X=S({},X,z);break e;case 2:Ci=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,C=X):G=G.next=H,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Li|=_,t.lanes=_,t.memoizedState=X}}function _g(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function vg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_g(a[t],s)}var Da=M(null),Jc=M(0);function Eg(t,s){t=ti,ne(Jc,t),ne(Da,s),ti=t|s.baseLanes}function Rf(){ne(Jc,ti),ne(Da,Da.current)}function If(){ti=Jc.current,$(Da),$(Jc)}var bn=M(null),Bn=null;function Oi(t){var s=t.alternate;ne(yt,yt.current&1),ne(bn,t),Bn===null&&(s===null||Da.current!==null||s.memoizedState!==null)&&(Bn=t)}function Cf(t){ne(yt,yt.current),ne(bn,t),Bn===null&&(Bn=t)}function Tg(t){t.tag===22?(ne(yt,yt.current),ne(bn,t),Bn===null&&(Bn=t)):Mi()}function Mi(){ne(yt,yt.current),ne(bn,bn.current)}function xn(t){$(bn),Bn===t&&(Bn=null),$(yt)}var yt=M(0);function Zc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ys=0,be=null,Je=null,Rt=null,Wc=!1,Oa=!1,qr=!1,eu=0,rl=0,Ma=null,GT=0;function dt(){throw Error(i(321))}function Nf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Tn(t[a],s[a]))return!1;return!0}function Df(t,s,a,l,h,d){return Ys=d,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=t===null||t.memoizedState===null?iy:Kf,qr=!1,d=a(l,h),qr=!1,Oa&&(d=bg(s,a,l,h)),Ag(t),d}function Ag(t){K.H=ll;var s=Je!==null&&Je.next!==null;if(Ys=0,Rt=Je=be=null,Wc=!1,rl=0,Ma=null,s)throw Error(i(300));t===null||It||(t=t.dependencies,t!==null&&Fc(t)&&(It=!0))}function bg(t,s,a,l){be=t;var h=0;do{if(Oa&&(Ma=null),rl=0,Oa=!1,25<=h)throw Error(i(301));if(h+=1,Rt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=ry,d=s(a,l)}while(Oa);return d}function KT(){var t=K.H,s=t.useState()[0];return s=typeof s.then=="function"?al(s):s,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(be.flags|=1024),s}function Of(){var t=eu!==0;return eu=0,t}function Mf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Vf(t){if(Wc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Wc=!1}Ys=0,Rt=Je=be=null,Oa=!1,rl=eu=0,Ma=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Je===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var s=Rt===null?be.memoizedState:Rt.next;if(s!==null)Rt=s,Je=t;else{if(t===null)throw be.alternate===null?Error(i(467)):Error(i(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var s=rl;return rl+=1,Ma===null&&(Ma=[]),t=dg(Ma,t,s),s=be,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?iy:Kf),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===de)return Yt(t)}throw Error(i(438,String(t)))}function kf(t){var s=null,a=be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=tu(),be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=V;return s.index++,a}function Qs(t,s){return typeof s=="function"?s(t):s}function su(t){var s=_t();return Lf(s,Je,t)}function Lf(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}s.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{s=h.next;var T=_=null,C=null,P=s,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ie&X)===X:(Ys&X)===X){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ra&&(G=!0);else if((Ys&z)===z){P=P.next,z===Ra&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=X,_=d):C=C.next=X,be.lanes|=z,Li|=z;X=P.action,qr&&a(d,X),d=P.hasEagerState?P.eagerState:a(d,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,_=d):C=C.next=z,be.lanes|=X,Li|=X;P=P.next}while(P!==null&&P!==s);if(C===null?_=d:C.next=T,!Tn(d,t.memoizedState)&&(It=!0,G&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var s=_t(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Tn(d,s.memoizedState)||(It=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(t,s,a){var l=be,h=_t(),d=ke;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Tn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,zf(Rg.bind(null,l,h,t),[t]),h.getSnapshot!==s||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},wg.bind(null,l,h,a,s),null),tt===null)throw Error(i(349));d||(Ys&127)!==0||Sg(l,s,a)}return a}function Sg(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=be.updateQueue,s===null?(s=tu(),be.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function wg(t,s,a,l){s.value=a,s.getSnapshot=l,Ig(s)&&Cg(t)}function Rg(t,s,a){return a(function(){Ig(s)&&Cg(t)})}function Ig(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Tn(t,a)}catch{return!0}}function Cg(t){var s=Mr(t,2);s!==null&&gn(s,t,2)}function Uf(t){var s=cn();if(typeof t=="function"){var a=t;if(t=a(),qr){Dn(!0);try{a()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},s}function Ng(t,s,a,l){return t.baseState=a,Lf(t,Je,typeof l=="function"?l:Qs)}function YT(t,s,a,l,h){if(au(t))throw Error(i(485));if(t=s.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Dg(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Dg(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),C=K.S;C!==null&&C(_,T),Og(t,s,T)}catch(P){Pf(t,s,P)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Og(t,s,d)}catch(P){Pf(t,s,P)}}function Og(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mg(t,s,l)},function(l){return Pf(t,s,l)}):Mg(t,s,a)}function Mg(t,s,a){s.status="fulfilled",s.value=a,Vg(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Dg(t,a)))}function Pf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Vg(s),s=s.next;while(s!==l)}t.action=null}function Vg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function kg(t,s){return s}function Lg(t,s){if(ke){var a=tt.formState;if(a!==null){e:{var l=be;if(ke){if(st){t:{for(var h=st,d=zn;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=qn(h.nextSibling),l=h.data==="F!";break e}}Ri(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:s},a.queue=l,a=ty.bind(null,be,l),l.dispatch=a,l=Uf(!1),d=Gf.bind(null,be,!1,l.queue),l=cn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=YT.bind(null,be,h,d,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function jg(t){var s=_t();return Ug(s,Je,t)}function Ug(t,s,a){if(s=Lf(t,s,kg)[0],t=su(Qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=al(s)}catch(_){throw _===Ca?Yc:_}else l=s;s=_t();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(be.flags|=2048,Va(9,{destroy:void 0},QT.bind(null,h,a),null)),[l,d,t]}function QT(t,s){t.action=s}function Pg(t){var s=_t(),a=Je;if(a!==null)return Ug(s,a,t);_t(),s=s.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Va(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=be.updateQueue,s===null&&(s=tu(),be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function zg(){return _t().memoizedState}function iu(t,s,a,l){var h=cn();be.flags|=t,h.memoizedState=Va(1|s,{destroy:void 0},a,l===void 0?null:l)}function ru(t,s,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Nf(l,Je.memoizedState.deps)?h.memoizedState=Va(s,d,a,l):(be.flags|=t,h.memoizedState=Va(1|s,d,a,l))}function Bg(t,s){iu(8390656,8,t,s)}function zf(t,s){ru(2048,8,t,s)}function XT(t){be.flags|=4;var s=be.updateQueue;if(s===null)s=tu(),be.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function qg(t){var s=_t().memoizedState;return XT({ref:s,nextImpl:t}),function(){if((He&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Hg(t,s){return ru(4,2,t,s)}function Fg(t,s){return ru(4,4,t,s)}function Gg(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Kg(t,s,a){a=a!=null?a.concat([t]):null,ru(4,4,Gg.bind(null,s,t),a)}function Bf(){}function Yg(t,s){var a=_t();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Nf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Qg(t,s){var a=_t();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Nf(s,l[1]))return l[0];if(l=t(),qr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,s],l}function qf(t,s,a){return a===void 0||(Ys&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Xy(),be.lanes|=t,Li|=t,a)}function Xg(t,s,a,l){return Tn(a,s)?a:Da.current!==null?(t=qf(t,a,l),Tn(t,s)||(It=!0),t):(Ys&42)===0||(Ys&1073741824)!==0&&(Ie&261930)===0?(It=!0,t.memoizedState=a):(t=Xy(),be.lanes|=t,Li|=t,s)}function $g(t,s,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Gf(t,!1,s,a);try{var C=h(),P=K.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=FT(C,l);ol(t,s,G,Rn(t))}else ol(t,s,l,Rn(t))}catch(X){ol(t,s,{then:function(){},status:"rejected",reason:X},Rn())}finally{te.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function $T(){}function Hf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var h=Jg(t).queue;$g(t,h,s,fe,a===null?$T:function(){return Zg(t),a(l)})}function Jg(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Zg(t){var s=Jg(t);s.next===null&&(s=t.alternate.memoizedState),ol(t,s.next.queue,{},Rn())}function Ff(){return Yt(xl)}function Wg(){return _t().memoizedState}function ey(){return _t().memoizedState}function JT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Rn();t=Ni(a);var l=Di(s,t,a);l!==null&&(gn(l,s,a),nl(l,s,a)),s={cache:vf()},t.payload=s;return}s=s.return}}function ZT(t,s,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},au(t)?ny(s,a):(a=lf(t,s,a,l),a!==null&&(gn(a,t,l),sy(a,s,l)))}function ty(t,s,a){var l=Rn();ol(t,s,a,l)}function ol(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(t))ny(s,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,_))return zc(t,s,h,0),tt===null&&Pc(),!1}catch{}if(a=lf(t,s,h,l),a!==null)return gn(a,t,l),sy(a,s,l),!0}return!1}function Gf(t,s,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(s)throw Error(i(479))}else s=lf(t,a,l,2),s!==null&&gn(s,t,2)}function au(t){var s=t.alternate;return t===be||s!==null&&s===be}function ny(t,s){Oa=Wc=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function sy(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Co(t,a)}}var ll={readContext:Yt,use:nu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ll.useEffectEvent=dt;var iy={readContext:Yt,use:nu,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Yt,useEffect:Bg,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,iu(4194308,4,Gg.bind(null,s,t),a)},useLayoutEffect:function(t,s){return iu(4194308,4,t,s)},useInsertionEffect:function(t,s){iu(4,2,t,s)},useMemo:function(t,s){var a=cn();s=s===void 0?null:s;var l=t();if(qr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=cn();if(a!==void 0){var h=a(s);if(qr){Dn(!0);try{a(s)}finally{Dn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ZT.bind(null,be,t),[l.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=Uf(t);var s=t.queue,a=ty.bind(null,be,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,s){var a=cn();return qf(a,t,s)},useTransition:function(){var t=Uf(!1);return t=$g.bind(null,be,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=be,h=cn();if(ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),tt===null)throw Error(i(349));(Ie&127)!==0||Sg(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,Bg(Rg.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},wg.bind(null,l,d,a,s),null),a},useId:function(){var t=cn(),s=tt.identifierPrefix;if(ke){var a=Rs,l=ws;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=eu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=GT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Ff,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gf.bind(null,be,!0,a),a.dispatch=s,[t,s]},useMemoCache:kf,useCacheRefresh:function(){return cn().memoizedState=JT.bind(null,be)},useEffectEvent:function(t){var s=cn(),a={impl:t};return s.memoizedState=a,function(){if((He&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Yt,use:nu,useCallback:Yg,useContext:Yt,useEffect:zf,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Qg,useReducer:su,useRef:zg,useState:function(){return su(Qs)},useDebugValue:Bf,useDeferredValue:function(t,s){var a=_t();return Xg(a,Je.memoizedState,t,s)},useTransition:function(){var t=su(Qs)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:al(t),s]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Ff,useFormState:jg,useActionState:jg,useOptimistic:function(t,s){var a=_t();return Ng(a,Je,t,s)},useMemoCache:kf,useCacheRefresh:ey};Kf.useEffectEvent=qg;var ry={readContext:Yt,use:nu,useCallback:Yg,useContext:Yt,useEffect:zf,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Qg,useReducer:jf,useRef:zg,useState:function(){return jf(Qs)},useDebugValue:Bf,useDeferredValue:function(t,s){var a=_t();return Je===null?qf(a,t,s):Xg(a,Je.memoizedState,t,s)},useTransition:function(){var t=jf(Qs)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:al(t),s]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Ff,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,s){var a=_t();return Je!==null?Ng(a,Je,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ey};ry.useEffectEvent=qg;function Yf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:S({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Rn(),h=Ni(l);h.payload=s,a!=null&&(h.callback=a),s=Di(t,h,l),s!==null&&(gn(s,t,l),nl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Rn(),h=Ni(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Di(t,h,l),s!==null&&(gn(s,t,l),nl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Rn(),l=Ni(a);l.tag=2,s!=null&&(l.callback=s),s=Di(t,l,a),s!==null&&(gn(s,t,a),nl(s,t,a))}};function ay(t,s,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function oy(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Qf.enqueueReplaceState(s,s.state,null)}function Hr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ly(t){Uc(t)}function cy(t){console.error(t)}function uy(t){Uc(t)}function ou(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function hy(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,s,a){return a=Ni(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(t,s)},a}function fy(t){return t=Ni(t),t.tag=3,t}function dy(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){hy(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){hy(s,a,l),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function WT(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&wa(s,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?vu():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===Qc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(i(435,a.tag))}return Ed(t,l,h),vu(),!1}if(ke)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==pf&&(t=Error(i(422),{cause:l}),Jo(jn(t,a)))):(l!==pf&&(s=Error(i(423),{cause:l}),Jo(jn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=Xf(t.stateNode,l,h),Sf(t,h),pt!==4&&(pt=2)),!1;var d=Error(i(520),{cause:l});if(d=jn(d,a),gl===null?gl=[d]:gl.push(d),pt!==4&&(pt=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),Sf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ji===null||!ji.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fy(h),dy(h,t,a,l),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(i(461)),It=!1;function Qt(t,s,a,l){s.child=t===null?yg(s,null,a,l):Br(s,t.child,a,l)}function py(t,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return jr(s),l=Df(t,s,a,_,d,h),T=Of(),t!==null&&!It?(Mf(t,s,h),Xs(t,s,h)):(ke&&T&&ff(s),s.flags|=1,Qt(t,s,l,h),s.child)}function my(t,s,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,gy(t,s,d,l,h)):(t=qc(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!id(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&t.ref===s.ref)return Xs(t,s,h)}return s.flags|=1,t=Hs(d,l),t.ref=s.ref,t.return=s,s.child=t}function gy(t,s,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===s.ref)if(It=!1,s.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(It=!0);else return s.lanes=t.lanes,Xs(t,s,h)}return Jf(t,s,a,l,h)}function yy(t,s,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,s.child=null;return _y(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kc(s,d!==null?d.cachePool:null),d!==null?Eg(s,d):Rf(),Tg(s);else return l=s.lanes=536870912,_y(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Kc(s,d.cachePool),Eg(s,d),Mi(),s.memoizedState=null):(t!==null&&Kc(s,null),Rf(),Mi());return Qt(t,s,h,a),s.child}function cl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _y(t,s,a,l,h){var d=Tf();return d=d===null?null:{parent:wt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Kc(s,null),Rf(),Tg(s),t!==null&&wa(t,s,l,!0),s.childLanes=h,null}function lu(t,s){return s=uu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function vy(t,s,a){return Br(s,t.child,null,a),t=lu(s,s.pendingProps),t.flags|=2,xn(s),s.memoizedState=null,t}function eA(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=lu(s,l),s.lanes=536870912,cl(null,t);if(Cf(s),(t=st)?(t=D_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Si!==null?{id:ws,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=s,s.child=a,Kt=s,st=null)):t=null,t===null)throw Ri(s);return s.lanes=536870912,null}return lu(s,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Cf(s),h)if(s.flags&256)s.flags&=-257,s=vy(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(It||wa(t,s,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=tt,l!==null&&(_=No(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Mr(t,_),gn(l,t,_),$f;vu(),s=vy(t,s,a)}else t=d.treeContext,st=qn(_.nextSibling),Kt=s,ke=!0,wi=null,zn=!1,t!==null&&rg(s,t),s=lu(s,l),s.flags|=4096;return s}return t=Hs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function cu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Jf(t,s,a,l,h){return jr(s),a=Df(t,s,a,l,void 0,h),l=Of(),t!==null&&!It?(Mf(t,s,h),Xs(t,s,h)):(ke&&l&&ff(s),s.flags|=1,Qt(t,s,a,h),s.child)}function Ey(t,s,a,l,h,d){return jr(s),s.updateQueue=null,a=bg(s,l,a,h),Ag(t),l=Of(),t!==null&&!It?(Mf(t,s,d),Xs(t,s,d)):(ke&&l&&ff(s),s.flags|=1,Qt(t,s,a,d),s.child)}function Ty(t,s,a,l,h){if(jr(s),s.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},bf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):Aa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Yf(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),il(s,l,d,h),sl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var T=s.memoizedProps,C=Hr(a,T);d.props=C;var P=d.context,G=a.contextType;_=Aa,typeof G=="object"&&G!==null&&(_=Yt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&oy(s,d,l,_),Ci=!1;var z=s.memoizedState;d.state=z,il(s,l,d,h),sl(),P=s.memoizedState,T||z!==P||Ci?(typeof X=="function"&&(Yf(s,a,X,l),P=s.memoizedState),(C=Ci||ay(s,a,C,l,z,P,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=P),d.props=l,d.state=P,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,xf(t,s),_=s.memoizedProps,G=Hr(a,_),d.props=G,X=s.pendingProps,z=d.context,P=a.contextType,C=Aa,typeof P=="object"&&P!==null&&(C=Yt(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||z!==C)&&oy(s,d,l,C),Ci=!1,z=s.memoizedState,d.state=z,il(s,l,d,h),sl();var H=s.memoizedState;_!==X||z!==H||Ci||t!==null&&t.dependencies!==null&&Fc(t.dependencies)?(typeof T=="function"&&(Yf(s,a,T,l),H=s.memoizedState),(G=Ci||ay(s,a,G,l,z,H,C)||t!==null&&t.dependencies!==null&&Fc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,cu(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Br(s,t.child,null,h),s.child=Br(s,null,a,h)):Qt(t,s,a,h),s.memoizedState=d.state,t=s.child):t=Xs(t,s,h),t}function Ay(t,s,a,l){return kr(),s.flags|=256,Qt(t,s,a,l),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:hg()}}function ed(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=wn),t}function by(t,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(ke){if(h?Oi(s):Mi(),(t=st)?(t=D_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Si!==null?{id:ws,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=s,s.child=a,Kt=s,st=null)):t=null,t===null)throw Ri(s);return Ld(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Mi(),h=s.mode,T=uu({mode:"hidden",children:T},h),l=Vr(l,h,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Wf(a),l.childLanes=ed(t,_,a),s.memoizedState=Zf,cl(null,l)):(Oi(s),td(s,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)s.flags&256?(Oi(s),s.flags&=-257,s=nd(t,s,a)):s.memoizedState!==null?(Mi(),s.child=t.child,s.flags|=128,s=null):(Mi(),T=l.fallback,h=s.mode,l=uu({mode:"visible",children:l.children},h),T=Vr(T,h,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Br(s,t.child,null,a),l=s.child,l.memoizedState=Wf(a),l.childLanes=ed(t,_,a),s.memoizedState=Zf,s=cl(null,l));else if(Oi(s),Ld(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(i(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),s=nd(t,s,a)}else if(It||wa(t,s,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=tt,_!==null&&(l=No(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Mr(t,l),gn(_,t,l),$f;kd(T)||vu(),s=nd(t,s,a)}else kd(T)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,st=qn(T.nextSibling),Kt=s,ke=!0,wi=null,zn=!1,t!==null&&rg(s,t),s=td(s,l.children),s.flags|=4096);return s}return h?(Mi(),T=l.fallback,h=s.mode,C=t.child,P=C.sibling,l=Hs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Hs(P,T):(T=Vr(T,h,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,cl(null,l),l=s.child,T=t.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(C=wt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=hg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(t,_,a),s.memoizedState=Zf,cl(t.child,l)):(Oi(s),a=t.child,t=a.sibling,a=Hs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function td(t,s){return s=uu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function uu(t,s){return t=An(22,t,null,s),t.lanes=0,t}function nd(t,s,a){return Br(s,t.child,null,a),t=td(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xy(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),yf(t.return,s,a)}function sd(t,s,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Sy(t,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,ne(yt,_),Qt(t,s,l,a),l=ke?$o:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,a,s);else if(t.tag===19)xy(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Zc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),sd(s,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Zc(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(s,!0,a,null,d,l);break;case"together":sd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Xs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Li|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(wa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Hs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Hs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function id(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Fc(t)))}function tA(t,s,a){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),Ii(s,wt,t.memoizedState.cache),kr();break;case 27:case 5:mr(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:Ii(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?by(t,s,a):(Oi(s),t=Xs(t,s,a),t!==null?t.sibling:null);Oi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(wa(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Sy(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(yt,yt.current),l)break;return null;case 22:return s.lanes=0,yy(t,s,a,s.pendingProps);case 24:Ii(s,wt,t.memoizedState.cache)}return Xs(t,s,a)}function wy(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)It=!0;else{if(!id(t,a)&&(s.flags&128)===0)return It=!1,tA(t,s,a);It=(t.flags&131072)!==0}else It=!1,ke&&(s.flags&1048576)!==0&&ig(s,$o,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Pr(s.elementType),s.type=t,typeof t=="function")cf(t)?(l=Hr(t,l),s.tag=1,s=Ty(null,s,t,l,a)):(s.tag=0,s=Jf(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Me){s.tag=11,s=py(null,s,t,l,a);break e}else if(h===N){s.tag=14,s=my(null,s,t,l,a);break e}}throw s=at(t)||t,Error(i(306,s,""))}}return s;case 0:return Jf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Hr(l,s.pendingProps),Ty(t,s,l,h,a);case 3:e:{if(kt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,xf(t,s),il(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Ii(s,wt,l),l!==d.cache&&_f(s,[wt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Ay(t,s,l,a);break e}else if(l!==h){h=jn(Error(i(424)),s),Jo(h),s=Ay(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=qn(t.firstChild),Kt=s,ke=!0,wi=null,zn=!0,a=yg(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(kr(),l===h){s=Xs(t,s,a);break e}Qt(t,s,l,a)}s=s.child}return s;case 26:return cu(t,s),t===null?(a=j_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ke||(a=s.type,t=s.pendingProps,l=wu(xe.current).createElement(a),l[bt]=s,l[zt]=t,Xt(l,a,t),xt(l),s.stateNode=l):s.memoizedState=j_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return mr(s),t===null&&ke&&(l=s.stateNode=V_(s.type,s.pendingProps,xe.current),Kt=s,zn=!0,h=st,Bi(s.type)?(jd=h,st=qn(l.firstChild)):st=h),Qt(t,s,s.pendingProps.children,a),cu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ke&&((h=l=st)&&(l=DA(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Kt=s,st=qn(l.firstChild),zn=!1,h=!0):h=!1),h||Ri(s)),mr(s),h=s.type,d=s.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Od(h,d)?l=null:_!==null&&Od(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Df(t,s,KT,null,null,a),xl._currentValue=h),cu(t,s),Qt(t,s,l,a),s.child;case 6:return t===null&&ke&&((t=a=st)&&(a=OA(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Kt=s,st=null,t=!0):t=!1),t||Ri(s)),null;case 13:return by(t,s,a);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Br(s,null,l,a):Qt(t,s,l,a),s.child;case 11:return py(t,s,s.type,s.pendingProps,a);case 7:return Qt(t,s,s.pendingProps,a),s.child;case 8:return Qt(t,s,s.pendingProps.children,a),s.child;case 12:return Qt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ii(s,s.type,l.value),Qt(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,jr(s),h=Yt(h),l=l(h),s.flags|=1,Qt(t,s,l,a),s.child;case 14:return my(t,s,s.type,s.pendingProps,a);case 15:return gy(t,s,s.type,s.pendingProps,a);case 19:return Sy(t,s,a);case 31:return eA(t,s,a);case 22:return yy(t,s,a,s.pendingProps);case 24:return jr(s),l=Yt(wt),t===null?(h=Tf(),h===null&&(h=tt,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},bf(s),Ii(s,wt,h)):((t.lanes&a)!==0&&(xf(t,s),il(s,null,null,a),sl()),h=t.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ii(s,wt,l)):(l=d.cache,Ii(s,wt,l),l!==h.cache&&_f(s,[wt],a,!0))),Qt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $s(t){t.flags|=4}function rd(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Wy())t.flags|=8192;else throw zr=Qc,Af}else t.flags&=-16777217}function Ry(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!q_(s))if(Wy())t.flags|=8192;else throw zr=Qc,Af}function hu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?yc():536870912,t.lanes|=s,Ua|=s)}function ul(t,s){if(!ke)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function nA(t,s,a){var l=s.pendingProps;switch(df(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ks(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Sa(s)?$s(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mf())),it(s),null;case 26:var h=s.type,d=s.memoizedState;return t===null?($s(s),d!==null?(it(s),Ry(s,d)):(it(s),rd(s,h,null,l,a))):d?d!==t.memoizedState?($s(s),it(s),Ry(s,d)):(it(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&$s(s),it(s),rd(s,h,t,l,a)),null;case 27:if(sa(s),a=xe.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}t=re.current,Sa(s)?ag(s):(t=V_(h,l,a),s.stateNode=t,$s(s))}return it(s),null;case 5:if(sa(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(d=re.current,Sa(s))ag(s);else{var _=wu(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=s,d[zt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;e:switch(Xt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$s(s)}}return it(s),rd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=xe.current,Sa(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||Ri(s,!0)}else t=wu(t).createTextNode(l),t[bt]=s,s.stateNode=t}return it(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Sa(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[bt]=s}else kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Sa(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[bt]=s}else kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),hu(s,s.updateQueue),it(s),null);case 4:return ot(),t===null&&Rd(s.stateNode.containerInfo),it(s),null;case 10:return Ks(s.type),it(s),null;case 19:if($(yt),l=s.memoizedState,l===null)return it(s),null;if(h=(s.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Zc(t),d!==null){for(s.flags|=128,ul(l,!1),t=d.updateQueue,s.updateQueue=t,hu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)tg(a,t),a=a.sibling;return ne(yt,yt.current&1|2),ke&&Fs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&on()>gu&&(s.flags|=128,h=!0,ul(l,!1),s.lanes=4194304)}else{if(!h)if(t=Zc(d),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,hu(s,t),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(s),null}else 2*on()-l.renderingStartTime>gu&&a!==536870912&&(s.flags|=128,h=!0,ul(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=yt.current,ne(yt,h?a&1|2:a&1),ke&&Fs(s,l.treeForkCount),t):(it(s),null);case 22:case 23:return xn(s),If(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&hu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&$(Ur),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ks(wt),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function sA(t,s){switch(df(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ks(wt),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return sa(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(i(340));kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(xn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return $(yt),null;case 4:return ot(),null;case 10:return Ks(s.type),null;case 22:case 23:return xn(s),If(),t!==null&&$(Ur),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ks(wt),null;case 25:return null;default:return null}}function Iy(t,s){switch(df(s),s.tag){case 3:Ks(wt),ot();break;case 26:case 27:case 5:sa(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:$(yt);break;case 10:Ks(s.type);break;case 22:case 23:xn(s),If(),t!==null&&$(Ur);break;case 24:Ks(wt)}}function hl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Xe(s,s.return,T)}}function Vi(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=s;var C=a,P=T;try{P()}catch(G){Xe(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){Xe(s,s.return,G)}}function Cy(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{vg(s,a)}catch(l){Xe(t,t.return,l)}}}function Ny(t,s,a){a.props=Hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,s,l)}}function fl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,s,h)}}function Is(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,s,h)}else a.current=null}function Dy(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function ad(t,s,a){try{var l=t.stateNode;SA(l,t.type,a,s),l[zt]=s}catch(h){Xe(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bi(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=$n));else if(l!==4&&(l===27&&Bi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(ld(t,s,a),t=t.sibling;t!==null;)ld(t,s,a),t=t.sibling}function fu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Bi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,s,a),t=t.sibling;t!==null;)fu(t,s,a),t=t.sibling}function My(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Xt(s,l,a),s[bt]=t,s[zt]=a}catch(d){Xe(t,t.return,d)}}var Js=!1,Ct=!1,cd=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,qt=null;function iA(t,s){if(t=t.containerInfo,Nd=Mu,t=Km(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,P=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(C=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===a&&++P===h&&(T=_),z===d&&++G===l&&(C=_),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Mu=!1,qt=s;qt!==null;)if(s=qt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,qt=t;else for(;qt!==null;){switch(s=qt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ae=Hr(a.type,h);t=l.getSnapshotBeforeUpdate(ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Xe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,qt=t;break}qt=s.return}}function ky(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ws(t,a),l&4&&hl(5,a);break;case 1:if(Ws(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Hr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Cy(a),l&512&&fl(a,a.return);break;case 3:if(Ws(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{vg(t,s)}catch(_){Xe(a,a.return,_)}}break;case 27:s===null&&l&4&&My(a);case 26:case 5:Ws(t,a),s===null&&l&4&&Dy(a),l&512&&fl(a,a.return);break;case 12:Ws(t,a);break;case 31:Ws(t,a),l&4&&Uy(t,a);break;case 13:Ws(t,a),l&4&&Py(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dA.bind(null,a),MA(t,a))));break;case 22:if(l=a.memoizedState!==null||Js,!l){s=s!==null&&s.memoizedState!==null||Ct,h=Js;var d=Ct;Js=l,(Ct=s)&&!d?ei(t,a,(a.subtreeFlags&8772)!==0):Ws(t,a),Js=h,Ct=d}break;case 30:break;default:Ws(t,a)}}function Ly(t){var s=t.alternate;s!==null&&(t.alternate=null,Ly(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&la(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function Zs(t,s,a){for(a=a.child;a!==null;)jy(t,s,a),a=a.sibling}function jy(t,s,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ct||Is(a,s),Zs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Is(a,s);var l=ct,h=fn;Bi(a.type)&&(ct=a.stateNode,fn=!1),Zs(t,s,a),Tl(a.stateNode),ct=l,fn=h;break;case 5:Ct||Is(a,s);case 6:if(l=ct,h=fn,ct=null,Zs(t,s,a),ct=l,fn=h,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,s,d)}break;case 18:ct!==null&&(fn?(t=ct,C_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):C_(ct,a.stateNode));break;case 4:l=ct,h=fn,ct=a.stateNode.containerInfo,fn=!0,Zs(t,s,a),ct=l,fn=h;break;case 0:case 11:case 14:case 15:Vi(2,a,s),Ct||Vi(4,a,s),Zs(t,s,a);break;case 1:Ct||(Is(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,s,l)),Zs(t,s,a);break;case 21:Zs(t,s,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Zs(t,s,a),Ct=l;break;default:Zs(t,s,a)}}function Uy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Xe(s,s.return,a)}}}function Py(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Xe(s,s.return,a)}}function rA(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Vy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Vy),s;default:throw Error(i(435,t.tag))}}function du(t,s){var a=rA(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=pA.bind(null,t,l);l.then(h,h)}})}function dn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Bi(T.type)){ct=T.stateNode,fn=!1;break e}break;case 5:ct=T.stateNode,fn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(ct===null)throw Error(i(160));jy(d,_,h),ct=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)zy(s,t),s=s.sibling}var ns=null;function zy(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(s,t),pn(t),l&4&&(Vi(3,t,t.return),hl(3,t),Vi(5,t,t.return));break;case 1:dn(s,t),pn(t),l&512&&(Ct||a===null||Is(a,a.return)),l&64&&Js&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ns;if(dn(s,t),pn(t),l&512&&(Ct||a===null||Is(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[bt]=t,xt(d),l=d;break e;case"link":var _=z_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[bt]=t,xt(d),l=d}t.stateNode=l}else B_(h,t.type,t.stateNode);else t.stateNode=P_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(h,t.type,t.stateNode):P_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(s,t),pn(t),l&512&&(Ct||a===null||Is(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,t),pn(t),l&512&&(Ct||a===null||Is(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(ae){Xe(t,t.return,ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(dn(s,t),pn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ae){Xe(t,t.return,ae)}}break;case 3:if(Cu=null,h=ns,ns=Ru(s.containerInfo),dn(s,t),ns=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(s.containerInfo)}catch(ae){Xe(t,t.return,ae)}cd&&(cd=!1,By(t));break;case 4:l=ns,ns=Ru(t.stateNode.containerInfo),dn(s,t),pn(t),ns=l;break;case 12:dn(s,t),pn(t);break;case 31:dn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 13:dn(s,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Js,G=Ct;if(Js=P||h,Ct=G||C,dn(s,t),Ct=G,Js=P,pn(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||Js||Ct||Fr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ae){Xe(C,C.return,ae)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ae){Xe(C,C.return,ae)}}}else if(s.tag===18){if(a===null){C=s;try{var H=C.stateNode;h?N_(H,!0):N_(C.stateNode,!1)}catch(ae){Xe(C,C.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,du(t,a))));break;case 19:dn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 30:break;case 21:break;default:dn(s,t),pn(t)}}function pn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Oy(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);fu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var T=od(t);fu(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,P=od(t);ld(t,P,C);break;default:throw Error(i(161))}}catch(G){Xe(t,t.return,G)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;By(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ws(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ky(t,s.alternate,s),s=s.sibling}function Fr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Vi(4,s,s.return),Fr(s);break;case 1:Is(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Ny(s,s.return,a),Fr(s);break;case 27:Tl(s.stateNode);case 26:case 5:Is(s,s.return),Fr(s);break;case 22:s.memoizedState===null&&Fr(s);break;case 30:Fr(s);break;default:Fr(s)}t=t.sibling}}function ei(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ei(h,d,a),hl(4,d);break;case 1:if(ei(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)_g(C[h],T)}catch(P){Xe(l,l.return,P)}}a&&_&64&&Cy(d),fl(d,d.return);break;case 27:My(d);case 26:case 5:ei(h,d,a),a&&l===null&&_&4&&Dy(d),fl(d,d.return);break;case 12:ei(h,d,a);break;case 31:ei(h,d,a),a&&_&4&&Uy(h,d);break;case 13:ei(h,d,a),a&&_&4&&Py(h,d);break;case 22:d.memoizedState===null&&ei(h,d,a),fl(d,d.return);break;case 30:break;default:ei(h,d,a)}s=s.sibling}}function ud(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function hd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t))}function ss(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qy(t,s,a,l),s=s.sibling}function qy(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ss(t,s,a,l),h&2048&&hl(9,s);break;case 1:ss(t,s,a,l);break;case 3:ss(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){ss(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(s,s.return,C)}}else ss(t,s,a,l);break;case 31:ss(t,s,a,l);break;case 13:ss(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ss(t,s,a,l):dl(t,s):d._visibility&2?ss(t,s,a,l):(d._visibility|=2,ka(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&ud(_,s);break;case 24:ss(t,s,a,l),h&2048&&hd(s.alternate,s);break;default:ss(t,s,a,l)}}function ka(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,_=s,T=a,C=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,T,C,h),hl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ka(d,_,T,C,h):dl(d,_):(G._visibility|=2,ka(d,_,T,C,h)),h&&P&2048&&ud(_.alternate,_);break;case 24:ka(d,_,T,C,h),h&&P&2048&&hd(_.alternate,_);break;default:ka(d,_,T,C,h)}s=s.sibling}}function dl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&ud(l.alternate,l);break;case 24:dl(a,l),h&2048&&hd(l.alternate,l);break;default:dl(a,l)}s=s.sibling}}var pl=8192;function La(t,s,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Hy(t,s,a),t=t.sibling}function Hy(t,s,a){switch(t.tag){case 26:La(t,s,a),t.flags&pl&&t.memoizedState!==null&&GA(a,ns,t.memoizedState,t.memoizedProps);break;case 5:La(t,s,a);break;case 3:case 4:var l=ns;ns=Ru(t.stateNode.containerInfo),La(t,s,a),ns=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,La(t,s,a),pl=l):La(t,s,a));break;default:La(t,s,a)}}function Fy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ml(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,Ky(l,t)}Fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,pu(t)):ml(t);break;default:ml(t)}}function pu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,Ky(l,t)}Fy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Vi(8,s,s.return),pu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pu(s));break;default:pu(s)}t=t.sibling}}function Ky(t,s){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Vi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(Ly(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var aA={getCacheForType:function(t){var s=Yt(wt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Yt(wt).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,we=null,Ie=0,Qe=0,Sn=null,ki=!1,ja=!1,fd=!1,ti=0,pt=0,Li=0,Gr=0,dd=0,wn=0,Ua=0,gl=null,mn=null,pd=!1,mu=0,Yy=0,gu=1/0,yu=null,ji=null,jt=0,Ui=null,Pa=null,ni=0,md=0,gd=null,Qy=null,yl=0,yd=null;function Rn(){return(He&2)!==0&&Ie!==0?Ie&-Ie:K.T!==null?bd():_c()}function Xy(){if(wn===0)if((Ie&536870912)===0||ke){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function gn(t,s,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(za(t,0),Pi(t,Ie,wn,!1)),vr(t,a),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(Gr|=a),pt===4&&Pi(t,Ie,wn,!1)),Cs(t))}function $y(t,s,a){if((He&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Yn(t,s),h=l?uA(t,s):vd(t,s,!0),d=l;do{if(h===0){ja&&!l&&Pi(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!lA(a)){h=vd(t,s,!1),d=!1;continue}if(h===2){if(d=s,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=t;h=gl;var C=T.current.memoizedState.isDehydrated;if(C&&(za(T,_).flags|=256),_=vd(T,_,!1),_!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=d,Gr|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Pi(t,s,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Pi(l,s,wn,!ki);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=mu+300-on(),10<h)){if(Pi(l,s,wn,!ki),hs(l,0,!0)!==0)break e;ni=s,l.timeoutHandle=R_(Jy.bind(null,l,a,mn,yu,pd,s,wn,Gr,Ua,ki,d,"Throttled",-0,0),h);break e}Jy(l,a,mn,yu,pd,s,wn,Gr,Ua,ki,d,null,-0,0)}}break}while(!0);Cs(t)}function Jy(t,s,a,l,h,d,_,T,C,P,G,X,z,H){if(t.timeoutHandle=-1,X=s.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Hy(s,d,X);var ae=(d&62914560)===d?mu-on():(d&4194048)===d?Yy-on():0;if(ae=KA(X,ae),ae!==null){ni=d,t.cancelPendingCommit=ae(r_.bind(null,t,s,d,a,l,h,_,T,C,G,X,null,z,H)),Pi(t,d,_,!P);return}}r_(t,s,d,a,l,h,_,T,C)}function lA(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pi(t,s,a,l){s&=~dd,s&=~Gr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Er(t,a,s)}function _u(){return(He&6)===0?(_l(0),!1):!0}function _d(){if(we!==null){if(Qe===0)var t=we.return;else t=we,Gs=Lr=null,Vf(t),Na=null,el=0,t=we;for(;t!==null;)Iy(t.alternate,t),t=t.return;we=null}}function za(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ni=0,_d(),tt=t,we=a=Hs(t.current,null),Ie=s,Qe=0,Sn=null,ki=!1,ja=Yn(t,s),fd=!1,Ua=wn=dd=Gr=Li=pt=0,mn=gl=null,pd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-mt(l),d=1<<h;s|=t[h],l&=~d}return ti=s,Pc(),a}function Zy(t,s){be=null,K.H=ll,s===Ca||s===Yc?(s=pg(),Qe=3):s===Af?(s=pg(),Qe=4):Qe=s===$f?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,we===null&&(pt=1,ou(t,jn(s,t.current)))}function Wy(){var t=bn.current;return t===null?!0:(Ie&4194048)===Ie?Bn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===Bn:!1}function e_(){var t=K.H;return K.H=ll,t===null?ll:t}function t_(){var t=K.A;return K.A=aA,t}function vu(){pt=4,ki||(Ie&4194048)!==Ie&&bn.current!==null||(ja=!0),(Li&134217727)===0&&(Gr&134217727)===0||tt===null||Pi(tt,Ie,wn,!1)}function vd(t,s,a){var l=He;He|=2;var h=e_(),d=t_();(tt!==t||Ie!==s)&&(yu=null,za(t,s)),s=!1;var _=pt;e:do try{if(Qe!==0&&we!==null){var T=we,C=Sn;switch(Qe){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(s=!0);var P=Qe;if(Qe=0,Sn=null,Ba(t,T,C,P),a&&ja){_=0;break e}break;default:P=Qe,Qe=0,Sn=null,Ba(t,T,C,P)}}cA(),_=pt;break}catch(G){Zy(t,G)}while(!0);return s&&t.shellSuspendCounter++,Gs=Lr=null,He=l,K.H=h,K.A=d,we===null&&(tt=null,Ie=0,Pc()),_}function cA(){for(;we!==null;)n_(we)}function uA(t,s){var a=He;He|=2;var l=e_(),h=t_();tt!==t||Ie!==s?(yu=null,gu=on()+500,za(t,s)):ja=Yn(t,s);e:do try{if(Qe!==0&&we!==null){s=we;var d=Sn;t:switch(Qe){case 1:Qe=0,Sn=null,Ba(t,s,d,1);break;case 2:case 9:if(fg(d)){Qe=0,Sn=null,s_(s);break}s=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),Cs(t)},d.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:fg(d)?(Qe=0,Sn=null,s_(s)):(Qe=0,Sn=null,Ba(t,s,d,7));break;case 5:var _=null;switch(we.tag){case 26:_=we.memoizedState;case 5:case 27:var T=we;if(_?q_(_):T.stateNode.complete){Qe=0,Sn=null;var C=T.sibling;if(C!==null)we=C;else{var P=T.return;P!==null?(we=P,Eu(P)):we=null}break t}}Qe=0,Sn=null,Ba(t,s,d,5);break;case 6:Qe=0,Sn=null,Ba(t,s,d,6);break;case 8:_d(),pt=6;break e;default:throw Error(i(462))}}hA();break}catch(G){Zy(t,G)}while(!0);return Gs=Lr=null,K.H=l,K.A=h,He=a,we!==null?0:(tt=null,Ie=0,Pc(),pt)}function hA(){for(;we!==null&&!Qh();)n_(we)}function n_(t){var s=wy(t.alternate,t,ti);t.memoizedProps=t.pendingProps,s===null?Eu(t):we=s}function s_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Ey(a,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=Ey(a,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:Vf(s);default:Iy(a,s),s=we=tg(s,ti),s=wy(a,s,ti)}t.memoizedProps=t.pendingProps,s===null?Eu(t):we=s}function Ba(t,s,a,l){Gs=Lr=null,Vf(s),Na=null,el=0;var h=s.return;try{if(WT(t,h,s,a,Ie)){pt=1,ou(t,jn(a,t.current)),we=null;return}}catch(d){if(h!==null)throw we=h,d;pt=1,ou(t,jn(a,t.current)),we=null;return}s.flags&32768?(ke||l===1?t=!0:ja||(Ie&536870912)!==0?t=!1:(ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(s,t)):Eu(s)}function Eu(t){var s=t;do{if((s.flags&32768)!==0){i_(s,ki);return}t=s.return;var a=nA(s.alternate,s,ti);if(a!==null){we=a;return}if(s=s.sibling,s!==null){we=s;return}we=s=t}while(s!==null);pt===0&&(pt=5)}function i_(t,s){do{var a=sA(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);pt=6,we=null}function r_(t,s,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Tu();while(jt!==0);if((He&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=of,Jh(t,a,d,_,T,C),t===tt&&(we=tt=null,Ie=0),Pa=s,Ui=t,ni=a,md=d,gd=h,Qy=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mA(mi,function(){return u_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=te.p,te.p=2,_=He,He|=4;try{iA(t,s,a)}finally{He=_,te.p=h,K.T=l}}jt=1,a_(),o_(),l_()}}function a_(){if(jt===1){jt=0;var t=Ui,s=Pa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=te.p;te.p=2;var h=He;He|=4;try{zy(s,t);var d=Dd,_=Km(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Gm(T.ownerDocument.documentElement,T)){if(C!==null&&tf(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ae=T.textContent.length,pe=Math.min(C.start,ae),We=C.end===void 0?pe:Math.min(C.end,ae);!H.extend&&pe>We&&(_=We,We=pe,pe=_);var k=Fm(T,pe),D=Fm(T,We);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),pe>We?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mu=!!Nd,Dd=Nd=null}finally{He=h,te.p=l,K.T=a}}t.current=s,jt=2}}function o_(){if(jt===2){jt=0;var t=Ui,s=Pa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=te.p;te.p=2;var h=He;He|=4;try{ky(t,s.alternate,s)}finally{He=h,te.p=l,K.T=a}}jt=3}}function l_(){if(jt===4||jt===3){jt=0,hc();var t=Ui,s=Pa,a=ni,l=Qy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,Pa=Ui=null,c_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ji=null),Ps(a),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,h=te.p,te.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=s,te.p=h}}(ni&3)!==0&&Tu(),Cs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?yl++:(yl=0,yd=t):yl=0,_l(0)}}function c_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Zo(s)))}function Tu(){return a_(),o_(),l_(),u_()}function u_(){if(jt!==5)return!1;var t=Ui,s=md;md=0;var a=Ps(ni),l=K.T,h=te.p;try{te.p=32>a?32:a,K.T=null,a=gd,gd=null;var d=Ui,_=ni;if(jt=0,Pa=Ui=null,ni=0,(He&6)!==0)throw Error(i(331));var T=He;if(He|=4,Gy(d.current),qy(d,d.current,_,a),He=T,_l(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{te.p=h,K.T=l,c_(t,s)}}function h_(t,s,a){s=jn(a,s),s=Xf(t.stateNode,s,2),t=Di(t,s,2),t!==null&&(vr(t,2),Cs(t))}function Xe(t,s,a){if(t.tag===3)h_(t,t,a);else for(;s!==null;){if(s.tag===3){h_(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ji===null||!ji.has(l))){t=jn(a,t),a=fy(2),l=Di(s,a,2),l!==null&&(dy(a,l,s,t),vr(l,2),Cs(l));break}}s=s.return}}function Ed(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oA;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(fd=!0,h.add(a),t=fA.bind(null,t,s,a),s.then(t,t))}function fA(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ie&a)===a&&(pt===4||pt===3&&(Ie&62914560)===Ie&&300>on()-mu?(He&2)===0&&za(t,0):dd|=a,Ua===Ie&&(Ua=0)),Cs(t)}function f_(t,s){s===0&&(s=yc()),t=Mr(t,s),t!==null&&(vr(t,s),Cs(t))}function dA(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),f_(t,a)}function pA(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),f_(t,a)}function mA(t,s){return Lt(t,s)}var Au=null,qa=null,Td=!1,bu=!1,Ad=!1,zi=0;function Cs(t){t!==qa&&t.next===null&&(qa===null?Au=qa=t:qa=qa.next=t),bu=!0,Td||(Td=!0,yA())}function _l(t,s){if(!Ad&&bu){Ad=!0;do for(var a=!1,l=Au;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,g_(l,d))}else d=Ie,d=hs(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,g_(l,d));l=l.next}while(a);Ad=!1}}function gA(){d_()}function d_(){bu=Td=!1;var t=0;zi!==0&&RA()&&(t=zi);for(var s=on(),a=null,l=Au;l!==null;){var h=l.next,d=p_(l,s);d===0?(l.next=null,a===null?Au=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(bu=!0)),l=h}jt!==0&&jt!==5||_l(t),zi!==0&&(zi=0)}function p_(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=$h(T,s)):C<=s&&(t.expiredLanes|=T),d&=~T}if(s=tt,a=Ie,a=hs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&pi(l),Ps(a)){case 2:case 8:a=Io;break;case 32:a=mi;break;case 268435456:a=fc;break;default:a=mi}return l=m_.bind(null,t),a=Lt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&pi(l),t.callbackPriority=2,t.callbackNode=null,2}function m_(t,s){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tu()&&t.callbackNode!==a)return null;var l=Ie;return l=hs(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($y(t,l,s),p_(t,on()),t.callbackNode!=null&&t.callbackNode===a?m_.bind(null,t):null)}function g_(t,s){if(Tu())return null;$y(t,s,!0)}function yA(){CA(function(){(He&6)!==0?Lt(Ro,gA):d_()})}function bd(){if(zi===0){var t=Ra;t===0&&(t=cs,cs<<=1,(cs&261888)===0&&(cs=256)),zi=t}return zi}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function __(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function _A(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=y_((h[zt]||null).action),_=l.submitter;_&&(s=(s=_[zt]||null)?y_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var T=new As("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zi!==0){var C=_?__(h,_):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?__(h,_):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var xd=0;xd<af.length;xd++){var Sd=af[xd],vA=Sd.toLowerCase(),EA=Sd[0].toUpperCase()+Sd.slice(1);ts(vA,"on"+EA)}ts(Xm,"onAnimationEnd"),ts($m,"onAnimationIteration"),ts(Jm,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(LT,"onTransitionRun"),ts(jT,"onTransitionStart"),ts(UT,"onTransitionCancel"),ts(Zm,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function v_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){Uc(G)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,P=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){Uc(G)}h.currentTarget=null,d=C}}}}function Re(t,s){var a=s[oa];a===void 0&&(a=s[oa]=new Set);var l=t+"__bubble";a.has(l)||(E_(s,t,2,!1),a.add(l))}function wd(t,s,a){var l=0;s&&(l|=4),E_(a,t,l,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[xu]){t[xu]=!0,Do.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||wd(a,!1,t),wd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[xu]||(s[xu]=!0,wd("selectionchange",!1,s))}}function E_(t,s,a,l){switch(X_(s)){case 2:var h=XA;break;case 8:h=$A;break;default:h=qd}a=h.bind(null,s,a,t),h=void 0,!Sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Id(t,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ms(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ti(function(){var P=d,G=Mn(a),X=[];e:{var z=Wm.get(t);if(z!==void 0){var H=As,ae=t;switch(t){case"keypress":if(Rr(a)===0)break e;case"keydown":case"keyup":H=kc;break;case"focusin":ae="focus",H=Cr;break;case"focusout":ae="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Xm:case $m:case Jm:H=Ic;break;case Zm:H=b;break;case"scroll":case"scrollend":H=Ho;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qs;break;case"toggle":case"beforetoggle":H=Ae}var pe=(s&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),k=pe?z!==null?z+"Capture":null:z;pe=[];for(var D=P,U;D!==null;){var Y=D;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=Jn(D,k),Y!=null&&pe.push(El(D,Y,U))),We)break;D=D.return}0<pe.length&&(z=new H(z,ae,null,a,G),X.push({event:z,listeners:pe}))}}if((s&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==zo&&(ae=a.relatedTarget||a.fromElement)&&(ms(ae)||ae[ds]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ae=a.relatedTarget||a.toElement,H=P,ae=ae?ms(ae):null,ae!==null&&(We=c(ae),pe=ae.tag,ae!==We||pe!==5&&pe!==27&&pe!==6)&&(ae=null)):(H=null,ae=P),H!==ae)){if(pe=Fo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=qs,Y="onPointerLeave",k="onPointerEnter",D="pointer"),We=H==null?z:vn(H),U=ae==null?z:vn(ae),z=new pe(Y,D+"leave",H,a,G),z.target=We,z.relatedTarget=U,Y=null,ms(G)===P&&(pe=new pe(k,D+"enter",ae,a,G),pe.target=U,pe.relatedTarget=We,Y=pe),We=Y,H&&ae)t:{for(pe=AA,k=H,D=ae,U=0,Y=k;Y;Y=pe(Y))U++;Y=0;for(var ue=D;ue;ue=pe(ue))Y++;for(;0<U-Y;)k=pe(k),U--;for(;0<Y-U;)D=pe(D),Y--;for(;U--;){if(k===D||D!==null&&k===D.alternate){pe=k;break t}k=pe(k),D=pe(D)}pe=null}else pe=null;H!==null&&T_(X,z,H,pe,!1),ae!==null&&We!==null&&T_(X,We,ae,pe,!0)}}e:{if(z=P?vn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Pe=Um;else if(Lm(z))if(Pm)Pe=MT;else{Pe=DT;var oe=NT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ha(P.elementType)&&(Pe=Um):Pe=OT;if(Pe&&(Pe=Pe(t,P))){jm(X,Pe,a,G);break e}oe&&oe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&jo(z,"number",z.value)}switch(oe=P?vn(P):window,t){case"focusin":(Lm(oe)||oe.contentEditable==="true")&&(va=oe,nf=P,Xo=null);break;case"focusout":Xo=nf=va=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Ym(X,a,G);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Ym(X,a,G)}var Se;if(qe)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else _a?Nr(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ss&&a.locale!=="ko"&&(_a||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&_a&&(Se=qo()):(Ts=G,Bo="value"in Ts?Ts.value:Ts.textContent,_a=!0)),oe=Su(P,Ce),0<oe.length&&(Ce=new xs(Ce,t,null,a,G),X.push({event:Ce,listeners:oe}),Se?Ce.data=Se:(Se=ya(a),Se!==null&&(Ce.data=Se)))),(Se=kn?wT(t,a):RT(t,a))&&(Ce=Su(P,"onBeforeInput"),0<Ce.length&&(oe=new xs("onBeforeInput","beforeinput",null,a,G),X.push({event:oe,listeners:Ce}),oe.data=Se)),_A(X,t,P,a,G)}v_(X,s)})}function El(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Su(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(t,a),h!=null&&l.unshift(El(t,h,d)),h=Jn(t,s),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function AA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,s,a,l,h){for(var d=s._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=Jn(a,d),P!=null&&_.unshift(El(a,P,C))):h||(P=Jn(a,d),P!=null&&_.push(El(a,P,C)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var bA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(bA,`
`).replace(xA,"")}function b_(t,s){return s=A_(s),A_(t)===s}function Ze(t,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&hn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(s!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Ze(t,s,"name",h.name,h,null),Ze(t,s,"formEncType",h.formEncType,h,null),Ze(t,s,"formMethod",h.formMethod,h,null),Ze(t,s,"formTarget",h.formTarget,h,null)):(Ze(t,s,"encType",h.encType,h,null),Ze(t,s,"method",h.method,h,null),Ze(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sc.get(a)||a,ca(t,a,l))}}function Cd(t,s,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Xt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(t,s,d,_,a,null)}}h&&Ze(t,s,"srcSet",a.srcSet,a,null),l&&Ze(t,s,"src",a.src,a,null);return;case"input":Re("invalid",t);var T=d=_=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:Ze(t,s,l,G,a,null)}}Ac(t,d,T,C,P,_,h,!1);return;case"select":Re("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ze(t,s,h,T,a,null)}s=d,a=_,t.multiple=!!l,s!=null?yi(t,!!l,s,!1):a!=null&&yi(t,!!l,a,!0);return;case"textarea":Re("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ze(t,s,_,T,a,null)}_i(t,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,s,C,l,a,null));return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Re(vl[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(t,s,P,l,a,null)}return;default:if(ha(s)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Cd(t,s,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,s,T,l,a,null))}function SA(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,P=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||Ze(t,s,H,null,l,X)}}for(var z in l){var H=l[z];if(X=a[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==X&&Ze(t,s,z,H,l,X)}}ua(t,_,T,C,P,G,d,h);return;case"select":H=_=T=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Ze(t,s,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Ze(t,s,h,d,l,C)}s=T,a=_,l=H,z!=null?yi(t,!!a,z,!1):!!l!=!!a&&(s!=null?yi(t,!!a,s,!0):yi(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,s,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&Ze(t,s,_,h,l,d)}bc(t,z,H);return;case"option":for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:Ze(t,s,ae,null,l,z));for(C in l)z=l[C],H=a[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Ze(t,s,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!l.hasOwnProperty(pe)&&Ze(t,s,pe,null,l,z);for(P in l)if(z=l[P],H=a[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:Ze(t,s,P,z,l,H)}return;default:if(ha(s)){for(var We in a)z=a[We],a.hasOwnProperty(We)&&z!==void 0&&!l.hasOwnProperty(We)&&Cd(t,s,We,void 0,l,z);for(G in l)z=l[G],H=a[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Cd(t,s,G,z,l,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Ze(t,s,k,null,l,z);for(X in l)z=l[X],H=a[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||Ze(t,s,X,z,l,H)}function x_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&x_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>T)break;var G=C.transferSize,X=C.initiatorType;G&&x_(X)&&(C=C.responseEnd,_+=G*(C<T?1:(T-P)/(C-P)))}if(--l,s+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Od(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Md=null;function RA(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(NA)}:R_;function NA(t){setTimeout(function(){throw t})}function Bi(t){return t==="head"}function C_(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ps]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);Ka(s)}function N_(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DA(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ps])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function OA(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function D_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MA(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var jd=null;function O_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function M_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function V_(t,s,a){switch(s=wu(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Tl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);la(t)}var Hn=new Map,k_=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=te.d;te.d={f:VA,r:kA,D:LA,C:jA,L:UA,m:PA,X:BA,S:zA,M:qA};function VA(){var t=si.f(),s=_u();return t||s}function kA(t){var s=On(t);s!==null&&s.tag===5&&s.type==="form"?Zg(s):si.r(t)}var Ha=typeof document>"u"?null:document;function L_(t,s,a){var l=Ha;if(l&&typeof s=="string"&&s){var h=un(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Xt(s,"link",t),xt(s),l.head.appendChild(s)))}}function LA(t){si.D(t),L_("dns-prefetch",t,null)}function jA(t,s){si.C(t,s),L_("preconnect",t,s)}function UA(t,s,a){si.L(t,s,a);var l=Ha;if(l&&t&&s){var h='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(s){case"style":d=Fa(t);break;case"script":d=Ga(t)}Hn.has(d)||(t=S({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Hn.set(d,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Al(d))||s==="script"&&l.querySelector(bl(d))||(s=l.createElement("link"),Xt(s,"link",t),xt(s),l.head.appendChild(s)))}}function PA(t,s){si.m(t,s);var a=Ha;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Hn.has(d)&&(t=S({rel:"modulepreload",href:t},s),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Xt(l,"link",t),xt(l),a.head.appendChild(l)}}}function zA(t,s,a){si.S(t,s,a);var l=Ha;if(l&&t){var h=gs(l).hoistableStyles,d=Fa(t);s=s||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Al(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Hn.get(d))&&Ud(t,a);var C=_=l.createElement("link");xt(C),Xt(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Iu(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function BA(t,s){si.X(t,s);var a=Ha;if(a&&t){var l=gs(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=S({src:t,async:!0},s),(s=Hn.get(h))&&Pd(t,s),d=a.createElement("script"),xt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qA(t,s){si.M(t,s);var a=Ha;if(a&&t){var l=gs(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=S({src:t,async:!0,type:"module"},s),(s=Hn.get(h))&&Pd(t,s),d=a.createElement("script"),xt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function j_(t,s,a,l){var h=(h=xe.current)?Ru(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Fa(a.href),a=gs(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=gs(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||HA(h,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ga(a),a=gs(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Fa(t){return'href="'+un(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function U_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xt(s,"link",a),xt(s),t.head.appendChild(s))}function Ga(t){return'[src="'+un(t)+'"]'}function bl(t){return"script[async]"+t}function P_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,xt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Xt(l,"style",h),Iu(l,a.precedence,t),s.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(Al(h));if(d)return s.state.loading|=4,s.instance=d,xt(d),d;l=U_(a),(h=Hn.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Xt(d,"link",l),s.state.loading|=4,Iu(d,a.precedence,t),s.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(bl(d)))?(s.instance=h,xt(h),h):(l=a,(h=Hn.get(d))&&(l=S({},a),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Xt(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Iu(l,a.precedence,t));return s.instance}function Iu(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===s)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Ud(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Cu=null;function z_(t,s,a){if(Cu===null){var l=new Map,h=Cu=new Map;h.set(a,l)}else h=Cu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function B_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function FA(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GA(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=s.querySelector(Al(h));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Nu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=s.ownerDocument||s,l=U_(l),(h=Hn.get(h))&&Ud(l,h),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var zd=0;function KA(t,s){return t.stylesheets&&t.count===0&&Ou(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&zd===0&&(zd=62500*wA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function Ou(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,s.forEach(YA,t),Du=null,Nu.call(t))}function YA(t,s){if(!(s.state.loading&4)){var a=Du.get(t);if(a)var l=a.get(null);else{a=new Map,Du.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var xl={$$typeof:de,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function QA(t,s,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function H_(t,s,a,l,h,d,_,T,C,P,G,X){return t=new QA(t,s,a,_,C,P,G,X,T),s=1,d===!0&&(s|=24),d=An(3,null,null,s),t.current=d,d.stateNode=t,s=vf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},bf(d),t}function F_(t){return t?(t=Aa,t):Aa}function G_(t,s,a,l,h,d){h=F_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ni(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Di(t,l,s),a!==null&&(gn(a,t,s),nl(a,t,s))}function K_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Bd(t,s){K_(t,s),(t=t.alternate)&&K_(t,s)}function Y_(t){if(t.tag===13||t.tag===31){var s=Mr(t,67108864);s!==null&&gn(s,t,67108864),Bd(t,67108864)}}function Q_(t){if(t.tag===13||t.tag===31){var s=Rn();s=Tr(s);var a=Mr(t,s);a!==null&&gn(a,t,s),Bd(t,s)}}var Mu=!0;function XA(t,s,a,l){var h=K.T;K.T=null;var d=te.p;try{te.p=2,qd(t,s,a,l)}finally{te.p=d,K.T=h}}function $A(t,s,a,l){var h=K.T;K.T=null;var d=te.p;try{te.p=8,qd(t,s,a,l)}finally{te.p=d,K.T=h}}function qd(t,s,a,l){if(Mu){var h=Hd(l);if(h===null)Id(t,s,l,Vu,a),$_(t,l);else if(ZA(h,t,s,a,l))l.stopPropagation();else if($_(t,l),s&4&&-1<JA.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=us(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-mt(_);T.entanglements[1]|=C,_&=~C}Cs(d),(He&6)===0&&(gu=on()+500,_l(0))}}break;case 31:case 13:T=Mr(d,2),T!==null&&gn(T,d,2),_u(),Bd(d,2)}if(d=Hd(l),d===null&&Id(t,s,l,Vu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Id(t,s,l,null,a)}}function Hd(t){return t=Mn(t),Fd(t)}var Vu=null;function Fd(t){if(Vu=null,t=ms(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Vu=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ro:return 2;case Io:return 8;case mi:case Xh:return 32;case fc:return 268435456;default:return 32}default:return 32}}var Gd=!1,qi=null,Hi=null,Fi=null,Sl=new Map,wl=new Map,Gi=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(t,s){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(s.pointerId)}}function Rl(t,s,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=On(s),s!==null&&Y_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function ZA(t,s,a,l,h){switch(s){case"focusin":return qi=Rl(qi,t,s,a,l,h),!0;case"dragenter":return Hi=Rl(Hi,t,s,a,l,h),!0;case"mouseover":return Fi=Rl(Fi,t,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Rl(Sl.get(d)||null,t,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,s,a,l,h)),!0}return!1}function J_(t){var s=ms(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Q_(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Q_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return s=On(a),s!==null&&Y_(s),t.blockedOn=a,!1;s.shift()}return!0}function Z_(t,s,a){ku(t)&&a.delete(s)}function WA(){Gd=!1,qi!==null&&ku(qi)&&(qi=null),Hi!==null&&ku(Hi)&&(Hi=null),Fi!==null&&ku(Fi)&&(Fi=null),Sl.forEach(Z_),wl.forEach(Z_)}function Lu(t,s){t.blockedOn===s&&(t.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WA)))}var ju=null;function W_(t){ju!==t&&(ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ju===t&&(ju=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(s,3),s-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function s(C){return Lu(C,t)}qi!==null&&Lu(qi,t),Hi!==null&&Lu(Hi,t),Fi!==null&&Lu(Fi,t),Sl.forEach(s),wl.forEach(s);for(var a=0;a<Gi.length;a++){var l=Gi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gi.length&&(a=Gi[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&Gi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[zt]||null;if(typeof d=="function")_||W_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[zt]||null)T=_.formAction;else if(Fd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),W_(a)}}}function ev(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}Uu.prototype.render=Kd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Rn();G_(a,l,t,s,null,null)},Uu.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;G_(t.current,2,null,t,null,null),_u(),s[ds]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var s=_c();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Gi.length&&s!==0&&s<Gi[a].priority;a++);Gi.splice(a,0,t),a===0&&J_(t)}};var tv=e.version;if(tv!=="19.2.3")throw Error(i(527,tv,"19.2.3"));te.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Kn=Pu.inject(eb),Ft=Pu}catch{}}return Cl.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",h=ly,d=cy,_=uy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=H_(t,1,!1,null,null,a,l,null,h,d,_,ev),t[ds]=s.current,Rd(t),new Kd(s)},Cl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,h="",d=ly,_=cy,T=uy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),s=H_(t,1,!0,s,a??null,l,h,C,d,_,T,ev),s.context=F_(null),a=s.current,l=Rn(),l=Tr(l),h=Ni(l),h.callback=null,Di(a,h,l),a=l,s.current.lanes=a,vr(s,a),Cs(s),t[ds]=s.current,Rd(t),new Uu(s)},Cl.version="19.2.3",Cl}var hv;function fb(){if(hv)return Xd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=hb(),Xd.exports}var db=fb();const pb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),fv=r=>{const e=mb(r);return e.charAt(0).toUpperCase()+e.slice(1)},F0=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),gb=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var yb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _b=me.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...p},g)=>me.createElement("svg",{ref:g,...yb,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:F0("lucide",o),...!c&&!gb(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,A])=>me.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Et=(r,e)=>{const n=me.forwardRef(({className:i,...o},c)=>me.createElement(_b,{ref:c,iconNode:e,className:F0(`lucide-${pb(fv(r))}`,`lucide-${r}`,i),...o}));return n.displayName=fv(r),n};const vb=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Eb=Et("book",vb);const Tb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],pp=Et("brain",Tb);const Ab=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bb=Et("briefcase",Ab);const xb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sb=Et("camera",xb);const wb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ku=Et("circle-check-big",wb);const Rb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ib=Et("cloud",Rb);const Cb=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Nb=Et("coffee",Cb);const Db=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ob=Et("graduation-cap",Db);const Mb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vb=Et("log-out",Mb);const kb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lb=Et("music",kb);const jb=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ub=Et("pause",jb);const Pb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zb=Et("play",Pb);const Bb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wh=Et("refresh-cw",Bb);const qb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hb=Et("save",qb);const Fb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],G0=Et("search",Fb);const Gb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K0=Et("settings",Gb);const Kb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yb=Et("triangle-alert",Kb);const Qb=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Xb=Et("type",Qb);const $b=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jb=Et("user",$b);const Zb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Wb=Et("volume-2",Zb);const ex=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zl=Et("x",ex);const tx=()=>{};var dv={};const Y0=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nx=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,q=y&63;g||(q=64,f||(w=64)),i.push(n[A],n[S],n[w],n[q])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new sx;const w=c<<2|p>>4;if(i.push(w),y!==64){const q=p<<4&240|y>>2;if(i.push(q),S!==64){const Z=y<<6&192|S;i.push(Z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ix=function(r){const e=Y0(r);return Q0.encodeByteArray(e,!0)},ah=function(r){return ix(r).replace(/\./g,"")},X0=function(r){try{return Q0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ax=()=>rx().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof dv>"u")return;const r=dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&X0(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return tx()||ax()||ox()||lx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$0=r=>Rh()?.emulatorHosts?.[r],cx=r=>{const e=$0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},J0=()=>Rh()?.config,Z0=r=>Rh()?.[`_${r}`];class ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(r){return(await fetch(r,{credentials:"include"})).ok}function hx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const jl={};function fx(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function dx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let pv=!1;function e1(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||jl[r]===e||jl[r]||pv)return;jl[r]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",c=fx().prod.length>0;function f(){const w=document.getElementById(i);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,q){w.setAttribute("width","24"),w.setAttribute("id",q),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{pv=!0,f()},w}function A(w,q){w.setAttribute("id",q),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=dx(i),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),F=n("learnmore"),W=document.getElementById(F)||document.createElement("a"),le=n("preprendIcon"),ce=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const de=w.element;p(de),A(W,F);const Me=y();g(ce,le),de.append(ce,Z,W,Me),document.body.appendChild(de)}c?(Z.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function px(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function mx(){const r=Rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vx(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ex(){return!mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ax(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const bx="FirebaseError";class fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=bx,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?xx(c,i):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new fi(o,p,i)}}function xx(r,e){return r.replace(Sx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Sx=/\{\$([^}]+)}/g;function wx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xr(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=r[o],f=e[o];if(mv(c)&&mv(f)){if(!Xr(c,f))return!1}else if(c!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function mv(r){return r!==null&&typeof r=="object"}function ec(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Dl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ol(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Rx(r,e){const n=new Ix(r,e);return n.subscribe.bind(n)}class Ix{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Cx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wd(){}function Pt(r){return r&&r._delegate?r._delegate:r}class $r{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class Nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ux;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ox(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&f.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Dx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dx(r){return r===Kr?void 0:r}function Ox(r){return r.instantiationMode==="EAGER"}class Mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const Vx={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},kx=Ne.INFO,Lx={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},jx=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Lx[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=kx,this._logHandler=jx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Ux=(r,e)=>e.some(n=>r instanceof n);let gv,yv;function Px(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zx(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,mp=new WeakMap,n1=new WeakMap,ep=new WeakMap,Gp=new WeakMap;function Bx(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Wi(r.result)),o()},f=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&t1.set(n,r)}).catch(()=>{}),Gp.set(e,r),e}function qx(r){if(mp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});mp.set(r,e)}let gp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||n1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Hx(r){gp=r(gp)}function Fx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(tp(this),e,...n);return n1.set(i,e.sort?e.sort():[e]),Wi(i)}:zx().includes(r)?function(...e){return r.apply(tp(this),e),Wi(t1.get(this))}:function(...e){return Wi(r.apply(tp(this),e))}}function Gx(r){return typeof r=="function"?Fx(r):(r instanceof IDBTransaction&&qx(r),Ux(r,Px())?new Proxy(r,gp):r)}function Wi(r){if(r instanceof IDBRequest)return Bx(r);if(ep.has(r))return ep.get(r);const e=Gx(r);return e!==r&&(ep.set(r,e),Gp.set(e,r)),e}const tp=r=>Gp.get(r);function Kx(r,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=Wi(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Wi(f.result),g.oldVersion,g.newVersion,Wi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Yx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],np=new Map;function _v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Qx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Yx.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return np.set(e,c),c}Hx(r=>({...r,get:(e,n,i)=>_v(e,n)||r.get(e,n,i),has:(e,n)=>!!_v(e,n)||r.has(e,n)}));class Xx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($x(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $x(r){return r.getComponent()?.type==="VERSION"}const yp="@firebase/app",vv="0.14.8";const oi=new Fp("@firebase/app"),Jx="@firebase/app-compat",Zx="@firebase/analytics-compat",Wx="@firebase/analytics",eS="@firebase/app-check-compat",tS="@firebase/app-check",nS="@firebase/auth",sS="@firebase/auth-compat",iS="@firebase/database",rS="@firebase/data-connect",aS="@firebase/database-compat",oS="@firebase/functions",lS="@firebase/functions-compat",cS="@firebase/installations",uS="@firebase/installations-compat",hS="@firebase/messaging",fS="@firebase/messaging-compat",dS="@firebase/performance",pS="@firebase/performance-compat",mS="@firebase/remote-config",gS="@firebase/remote-config-compat",yS="@firebase/storage",_S="@firebase/storage-compat",vS="@firebase/firestore",ES="@firebase/ai",TS="@firebase/firestore-compat",AS="firebase",bS="12.9.0";const _p="[DEFAULT]",xS={[yp]:"fire-core",[Jx]:"fire-core-compat",[Wx]:"fire-analytics",[Zx]:"fire-analytics-compat",[tS]:"fire-app-check",[eS]:"fire-app-check-compat",[nS]:"fire-auth",[sS]:"fire-auth-compat",[iS]:"fire-rtdb",[rS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[oS]:"fire-fn",[lS]:"fire-fn-compat",[cS]:"fire-iid",[uS]:"fire-iid-compat",[hS]:"fire-fcm",[fS]:"fire-fcm-compat",[dS]:"fire-perf",[pS]:"fire-perf-compat",[mS]:"fire-rc",[gS]:"fire-rc-compat",[yS]:"fire-gcs",[_S]:"fire-gcs-compat",[vS]:"fire-fst",[TS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const oh=new Map,SS=new Map,vp=new Map;function Ev(r,e){try{r.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ao(r){const e=r.name;if(vp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const n of oh.values())Ev(n,r);for(const n of SS.values())Ev(n,r);return!0}function Kp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Wl("app","Firebase",wS);class RS{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const mo=bS;function s1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:_p,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(n||(n=J0()),!n)throw er.create("no-options");const c=oh.get(o);if(c){if(Xr(n,c.options)&&Xr(i,c.config))return c;throw er.create("duplicate-app",{appName:o})}const f=new Mx(o);for(const g of vp.values())f.addComponent(g);const p=new RS(n,i,f);return oh.set(o,p),p}function i1(r=_p){const e=oh.get(r);if(!e&&r===_p&&J0())return s1();if(!e)throw er.create("no-app",{appName:r});return e}function tr(r,e,n){let i=xS[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}ao(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const IS="firebase-heartbeat-database",CS=1,Hl="firebase-heartbeat-store";let sp=null;function r1(){return sp||(sp=Kx(IS,CS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),sp}async function NS(r){try{const n=(await r1()).transaction(Hl),i=await n.objectStore(Hl).get(a1(r));return await n.done,i}catch(e){if(e instanceof fi)oi.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function Tv(r,e){try{const i=(await r1()).transaction(Hl,"readwrite");await i.objectStore(Hl).put(e,a1(r)),await i.done}catch(n){if(n instanceof fi)oi.warn(n.message);else{const i=er.create("idb-set",{originalErrorMessage:n?.message});oi.warn(i.message)}}}function a1(r){return`${r.name}!${r.options.appId}`}const DS=1024,OS=30;class MS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>OS){const o=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Av(),{heartbeatsToSend:n,unsentEntries:i}=VS(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function Av(){return new Date().toISOString().substring(0,10)}function VS(r,e=DS){const n=[];let i=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),bv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class kS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tx()?Ax().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function LS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function jS(r){ao(new $r("platform-logger",e=>new Xx(e),"PRIVATE")),ao(new $r("heartbeat",e=>new MS(e),"PRIVATE")),tr(yp,vv,r),tr(yp,vv,"esm2020"),tr("fire-js","")}jS("");var US="firebase",PS="12.9.0";tr(US,PS,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zS=o1,l1=new Wl("auth","Firebase",o1());const lh=new Fp("@firebase/auth");function BS(r,...e){lh.logLevel<=Ne.WARN&&lh.warn(`Auth (${mo}): ${r}`,...e)}function Yu(r,...e){lh.logLevel<=Ne.ERROR&&lh.error(`Auth (${mo}): ${r}`,...e)}function as(r,...e){throw Yp(r,...e)}function Os(r,...e){return Yp(r,...e)}function c1(r,e,n){const i={...zS(),[e]:n};return new Wl("auth","Firebase",i).create(e,{appName:r.name})}function Ms(r){return c1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yp(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return l1.create(r,...e)}function ge(r,e,...n){if(!r)throw Yp(e,...n)}function ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yu(e),new Error(e)}function li(r,e){r||ii(e)}function Ep(){return typeof self<"u"&&self.location?.href||""}function qS(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function HS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qS()||yx()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=px()||_x()}get(){return HS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qp(r,e){li(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class u1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YS=new tc(3e4,6e4);function di(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hr(r,e,n,i,o={}){return h1(r,o,async()=>{let c={},f={};i&&(e==="GET"?f=i:c={body:JSON.stringify(i)});const p=ec({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return gx()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),u1.fetch()(await f1(r,r.config.apiHost,n,p),y)})}async function h1(r,e,n){r._canInitEmulator=!1;const i={...GS,...e};try{const o=new XS(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw zu(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw zu(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw zu(r,"user-disabled",f);const A=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw c1(r,A,y);as(r,A)}}catch(o){if(o instanceof fi)throw o;as(r,"network-request-failed",{message:String(o)})}}async function go(r,e,n,i,o={}){const c=await hr(r,e,n,i,o);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function f1(r,e,n,i){const o=`${e}${n}?${i}`,c=r,f=c.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`;return KS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function QS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Os(this.auth,"network-request-failed")),YS.get())})}}function zu(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Os(r,e,i);return o.customData._tokenResponse=n,o}function Sv(r){return r!==void 0&&r.enterprise!==void 0}class $S{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JS(r,e){return hr(r,"GET","/v2/recaptchaConfig",di(r,e))}async function ZS(r,e){return hr(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return hr(r,"POST","/v1/accounts:lookup",e)}function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WS(r,e=!1){const n=Pt(r),i=await n.getIdToken(e),o=Xp(i);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:i,authTime:Ul(ip(o.auth_time)),issuedAtTime:Ul(ip(o.iat)),expirationTime:Ul(ip(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ip(r){return Number(r)*1e3}function Xp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const o=X0(n);return o?JSON.parse(o):(Yu("Failed to decode base64 JWT payload"),null)}catch(o){return Yu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wv(r){const e=Xp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof fi&&e2(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function e2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class t2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(r){const e=r.auth,n=await r.getIdToken(),i=await Fl(r,ch(e,{idToken:n}));ge(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?d1(o.providerUserInfo):[],f=s2(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function n2(r){const e=Pt(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function d1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function i2(r,e){const n=await h1(r,{},async()=>{const i=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await f1(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),u1.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r2(r,e){return hr(r,"POST","/v2/accounts:revokeToken",di(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await i2(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,f=new Za;return i&&(ge(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return ii("not implemented")}}function Yi(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WS(this,e)}reload(){return n2(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await Fl(this,ZS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:q,providerData:Z,stsTokenManager:F}=n;ge(S&&F,e,"internal-error");const W=Za.fromJSON(this.name,F);ge(typeof S=="string",e,"internal-error"),Yi(i,e.name),Yi(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof q=="boolean",e,"internal-error"),Yi(c,e.name),Yi(f,e.name),Yi(p,e.name),Yi(g,e.name),Yi(y,e.name),Yi(A,e.name);const le=new is({uid:S,auth:e,email:o,emailVerified:w,displayName:i,isAnonymous:q,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(le.providerData=Z.map(ce=>({...ce}))),g&&(le._redirectEventId=g),le}static async _fromIdTokenResponse(e,n,i=!1){const o=new Za;o.updateFromServerResponse(n);const c=new is({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await uh(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?d1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,p=new Za;p.updateFromIdToken(i);const g=new is({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Rv=new Map;function ri(r){li(r instanceof Function,"Expected a class definition");let e=Rv.get(r);return e?(li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Rv.set(r,e),e)}class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p1.type="NONE";const Iv=p1;function Qu(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Wa(ri(Iv),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ri(Iv);const f=Qu(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const A=await y._get(f);if(A){let S;if(typeof A=="string"){const w=await ch(e,{idToken:A}).catch(()=>{});if(!w)break;S=await is._fromGetAccountInfoResponse(e,w,A)}else S=is._fromJSON(e,A);y!==c&&(p=S),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Wa(c,e,i):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Wa(c,e,i))}}function Cv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E1(e))return"Blackberry";if(T1(e))return"Webos";if(g1(e))return"Safari";if((e.includes("chrome/")||y1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function m1(r=an()){return/firefox\//i.test(r)}function g1(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y1(r=an()){return/crios\//i.test(r)}function _1(r=an()){return/iemobile/i.test(r)}function v1(r=an()){return/android/i.test(r)}function E1(r=an()){return/blackberry/i.test(r)}function T1(r=an()){return/webos/i.test(r)}function $p(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function a2(r=an()){return $p(r)&&!!window.navigator?.standalone}function o2(){return vx()&&document.documentMode===10}function A1(r=an()){return $p(r)||v1(r)||T1(r)||E1(r)||/windows phone/i.test(r)||_1(r)}function b1(r,e=[]){let n;switch(r){case"Browser":n=Cv(an());break;case"Worker":n=`${Cv(an())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${i}`}class l2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function c2(r,e={}){return hr(r,"GET","/v2/passwordPolicy",di(r,e))}const u2=6;class h2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class f2{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new l2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),i=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Ms(this));const n=e?Pt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),n=new h2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await r2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fr(r){return Pt(r)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rx(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d2(r){Ih=r}function x1(r){return Ih.loadJS(r)}function p2(){return Ih.recaptchaEnterpriseScript}function m2(){return Ih.gapiScript}function g2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class y2{constructor(){this.enterprise=new _2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const v2="recaptcha-enterprise",S1="NO_RECAPTCHA";class E2{constructor(e){this.type=v2,this.auth=fr(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{JS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new $S(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,f,p){const g=window.grecaptcha;Sv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(S1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y2().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{i(this.auth).then(p=>{if(!n&&Sv(window.grecaptcha))o(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=p2();g.length!==0&&(g+=p),x1(g).then(()=>{o(p,c,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function Dv(r,e,n,i=!1,o=!1){const c=new E2(r);let f;if(o)f=S1;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ap(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Dv(r,e,n,n==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Dv(r,e,n,n==="getOobCode");return i(r,f)}else return Promise.reject(c)})}function T2(r,e){const n=Kp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Xr(c,e??{}))return o;as(o,"already-initialized")}return n.initialize({options:e})}function A2(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function b2(r,e,n){const i=fr(r);ge(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=w1(e),{host:f,port:p}=x2(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},A=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ge(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ge(Xr(y,i.config.emulator)&&Xr(A,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=A,i.settings.appVerificationDisabledForTesting=!0,po(f)?(W0(`${c}//${f}${g}`),e1("Auth",!0)):S2()}function w1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function x2(r){const e=w1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Ov(i.substr(c.length+1))}}else{const[c,f]=i.split(":");return{host:c,port:Ov(f)}}}function Ov(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function S2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function w2(r,e){return hr(r,"POST","/v1/accounts:signUp",e)}async function R2(r,e){return go(r,"POST","/v1/accounts:signInWithPassword",di(r,e))}async function I2(r,e){return go(r,"POST","/v1/accounts:signInWithEmailLink",di(r,e))}async function C2(r,e){return go(r,"POST","/v1/accounts:signInWithEmailLink",di(r,e))}class Gl extends Jp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Gl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,n,"signInWithPassword",R2);case"emailLink":return I2(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,i,"signUpPassword",w2);case"emailLink":return C2(e,{idToken:n,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eo(r,e){return go(r,"POST","/v1/accounts:signInWithIdp",di(r,e))}const N2="http://localhost";class Jr extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):as("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const f=new Jr(i,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,eo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:N2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ec(n)}return e}}function D2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O2(r){const e=Dl(Ol(r)).link,n=e?Dl(Ol(e)).deep_link_id:null,i=Dl(Ol(r)).deep_link_id;return(i?Dl(Ol(i)).link:null)||i||n||e||r}class Zp{constructor(e){const n=Dl(Ol(e)),i=n.apiKey??null,o=n.oobCode??null,c=D2(n.mode??null);ge(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=O2(e);try{return new Zp(n)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Zp.parseLink(n);return ge(i,"argument-error"),Gl._fromEmailAndCode(e,i.code,i.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qi extends nc{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";class Xi extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class $i extends nc{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";class Ji extends nc{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ji.credential(n,i)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";async function M2(r,e){return go(r,"POST","/v1/accounts:signUp",di(r,e))}class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await is._fromIdTokenResponse(e,i,o),f=Mv(i);return new ir({user:c,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Mv(i);return new ir({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Mv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hh extends fi{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new hh(e,n,i,o)}}function I1(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,c,e,i):c})}async function V2(r,e,n=!1){const i=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ir._forOperation(r,"link",i)}async function k2(r,e,n=!1){const{auth:i}=r;if(In(i.app))return Promise.reject(Ms(i));const o="reauthenticate";try{const c=await Fl(r,I1(i,o,e,r),n);ge(c.idToken,i,"internal-error");const f=Xp(c.idToken);ge(f,i,"internal-error");const{sub:p}=f;return ge(r.uid===p,i,"user-mismatch"),ir._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(i,"user-mismatch"),c}}async function C1(r,e,n=!1){if(In(r.app))return Promise.reject(Ms(r));const i="signIn",o=await I1(r,i,e),c=await ir._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(c.user),c}async function L2(r,e){return C1(fr(r),e)}async function j2(r,e){return go(r,"POST","/v1/accounts:signInWithCustomToken",di(r,e))}async function N1(r,e){if(In(r.app))return Promise.reject(Ms(r));const n=fr(r),i=await j2(n,{token:e,returnSecureToken:!0}),o=await ir._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(o.user),o}async function D1(r){const e=fr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U2(r,e,n){if(In(r.app))return Promise.reject(Ms(r));const i=fr(r),f=await Ap(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&D1(r),g}),p=await ir._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(p.user),p}function P2(r,e,n){return In(r.app)?Promise.reject(Ms(r)):L2(Pt(r),yo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&D1(r),i})}function z2(r,e,n,i){return Pt(r).onIdTokenChanged(e,n,i)}function B2(r,e,n){return Pt(r).beforeAuthStateChanged(e,n)}function q2(r,e,n,i){return Pt(r).onAuthStateChanged(e,n,i)}function H2(r){return Pt(r).signOut()}const fh="__sak";class O1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const F2=1e3,G2=10;class M1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},c=this.storage.getItem(i);o2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,G2):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M1.type="LOCAL";const K2=M1;class V1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V1.type="SESSION";const k1=V1;function Y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Ch(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await Y2(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function Wp(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class Q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=Wp("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vs(){return window}function X2(r){Vs().location.href=r}function L1(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function $2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){return navigator?.serviceWorker?.controller||null}function Z2(){return L1()?self:null}const j1="firebaseLocalStorageDb",W2=1,dh="firebaseLocalStorage",U1="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function ew(){const r=indexedDB.deleteDatabase(j1);return new sc(r).toPromise()}function bp(){const r=indexedDB.open(j1,W2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(dh,{keyPath:U1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(dh)?e(i):(i.close(),await ew(),e(await bp()))})})}async function Vv(r,e,n){const i=Nh(r,!0).put({[U1]:e,value:n});return new sc(i).toPromise()}async function tw(r,e){const n=Nh(r,!1).get(e),i=await new sc(n).toPromise();return i===void 0?null:i.value}function kv(r,e){const n=Nh(r,!0).delete(e);return new sc(n).toPromise()}const nw=800,sw=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>sw)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await Vv(e,fh,"1"),await kv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tw(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Nh(o,!1).getAll();return new sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const iw=P1;new tc(3e4,6e4);function rw(r,e){return e?ri(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class em extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aw(r){return C1(r.auth,new em(r),r.bypassAuthState)}function ow(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),k2(n,new em(r),r.bypassAuthState)}async function lw(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),V2(n,new em(r),r.bypassAuthState)}class z1{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aw;case"linkViaPopup":case"linkViaRedirect":return lw;case"reauthViaPopup":case"reauthViaRedirect":return ow;default:as(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cw=new tc(2e3,1e4);class Ja extends z1{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cw.get())};e()}}Ja.currentPopupAction=null;const uw="pendingRedirect",Xu=new Map;class hw extends z1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const i=await fw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fw(r,e){const n=mw(e),i=pw(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function dw(r,e){Xu.set(r._key(),e)}function pw(r){return ri(r._redirectPersistence)}function mw(r){return Qu(uw,r.config.apiKey,r.name)}async function gw(r,e,n=!1){if(In(r.app))return Promise.reject(Ms(r));const i=fr(r),o=rw(i,e),f=await new hw(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}const yw=600*1e3;class _w{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!B1(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function B1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function vw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B1(r);default:return!1}}async function Ew(r,e={}){return hr(r,"GET","/v1/projects",e)}const Tw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;async function bw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Ew(r);for(const n of e)try{if(xw(n))return}catch{}as(r,"unauthorized-domain")}function xw(r){const e=Ep(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!Aw.test(n))return!1;if(Tw.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const Sw=new tc(3e4,6e4);function jv(){const r=Vs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ww(r){return new Promise((e,n)=>{function i(){jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(Os(r,"network-request-failed"))},timeout:Sw.get()})}if(Vs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vs().gapi?.load)i();else{const o=g2("iframefcb");return Vs()[o]=()=>{gapi.load?i():n(Os(r,"network-request-failed"))},x1(`${m2()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw $u=null,e})}let $u=null;function Rw(r){return $u=$u||ww(r),$u}const Iw=new tc(5e3,15e3),Cw="__/auth/iframe",Nw="emulator/auth/iframe",Dw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ow=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mw(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Qp(e,Nw):`https://${r.config.authDomain}/${Cw}`,i={apiKey:e.apiKey,appName:r.name,v:mo},o=Ow.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${ec(i).slice(1)}`}async function Vw(r){const e=await Rw(r),n=Vs().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:Mw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dw,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const f=Os(r,"network-request-failed"),p=Vs().setTimeout(()=>{c(f)},Iw.get());function g(){Vs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(f)})}))}const kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lw=500,jw=600,Uw="_blank",Pw="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zw(r,e,n,i=Lw,o=jw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...kw,width:i.toString(),height:o.toString(),top:c,left:f},y=an().toLowerCase();n&&(p=y1(y)?Uw:n),m1(y)&&(e=e||Pw,g.scrollbars="yes");const A=Object.entries(g).reduce((w,[q,Z])=>`${w}${q}=${Z},`,"");if(a2(y)&&p!=="_self")return Bw(e||"",p),new Uv(null);const S=window.open(e||"",p,A);ge(S,r,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function Bw(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const qw="__/auth/handler",Hw="emulator/auth/handler",Fw=encodeURIComponent("fac");async function Pv(r,e,n,i,o,c){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:mo,eventId:o};if(e instanceof R1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))f[A]=S}if(e instanceof nc){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await r._getAppCheckToken(),y=g?`#${Fw}=${encodeURIComponent(g)}`:"";return`${Gw(r)}?${ec(p).slice(1)}${y}`}function Gw({config:r}){return r.emulator?Qp(r,Hw):`https://${r.authDomain}/${qw}`}const rp="webStorageSupport";class Kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=gw,this._overrideRedirectResult=dw}async _openPopup(e,n,i,o){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,n,i,Ep(),o);return zw(e,c,Wp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await Pv(e,n,i,Ep(),o);return X2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(li(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Vw(e),i=new _w(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},o=>{const c=o?.[0]?.[rp];c!==void 0&&n(!!c),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A1()||g1()||$p()}}const Yw=Kw;var zv="@firebase/auth",Bv="1.12.0";class Qw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $w(r){ao(new $r("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=i.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(r)},y=new f2(i,o,c,g);return A2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ao(new $r("auth-internal",e=>{const n=fr(e.getProvider("auth").getImmediate());return(i=>new Qw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(zv,Bv,Xw(r)),tr(zv,Bv,"esm2020")}const Jw=300,Zw=Z0("authIdTokenMaxAge")||Jw;let qv=null;const Ww=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Zw)return;const o=n?.token;qv!==o&&(qv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eR(r=i1()){const e=Kp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=T2(r,{popupRedirectResolver:Yw,persistence:[iw,K2,k1]}),i=Z0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const f=Ww(c.toString());B2(n,f,()=>f(n.currentUser)),z2(n,p=>f(p))}}const o=$0("auth");return o&&b2(n,`http://${o}`),n}function tR(){return document.getElementsByTagName("head")?.[0]??document}d2({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=Os("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",tR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$w("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,q1;(function(){var r;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,L){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return x.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)V[O]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],O=N.g[2];let L=N.g[3],I;I=x+(L^R&(O^L))+V[0]+3614090360&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(O^x&(R^O))+V[1]+3905402710&4294967295,L=x+(I<<12&4294967295|I>>>20),I=O+(R^L&(x^R))+V[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(x^O&(L^x))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(L^R&(O^L))+V[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(O^x&(R^O))+V[5]+1200080426&4294967295,L=x+(I<<12&4294967295|I>>>20),I=O+(R^L&(x^R))+V[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(x^O&(L^x))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(L^R&(O^L))+V[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(O^x&(R^O))+V[9]+2336552879&4294967295,L=x+(I<<12&4294967295|I>>>20),I=O+(R^L&(x^R))+V[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(x^O&(L^x))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(L^R&(O^L))+V[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(O^x&(R^O))+V[13]+4254626195&4294967295,L=x+(I<<12&4294967295|I>>>20),I=O+(R^L&(x^R))+V[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(x^O&(L^x))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(O^L&(R^O))+V[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(x^R))+V[6]+3225465664&4294967295,L=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(L^x))+V[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(O^L))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^L&(R^O))+V[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(x^R))+V[10]+38016083&4294967295,L=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(L^x))+V[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(O^L))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^L&(R^O))+V[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(x^R))+V[14]+3275163606&4294967295,L=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(L^x))+V[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(O^L))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^L&(R^O))+V[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(x^R))+V[2]+4243563512&4294967295,L=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(L^x))+V[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(O^L))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(R^O^L)+V[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^O)+V[8]+2272392833&4294967295,L=x+(I<<11&4294967295|I>>>21),I=O+(L^x^R)+V[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^x)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^L)+V[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^O)+V[4]+1272893353&4294967295,L=x+(I<<11&4294967295|I>>>21),I=O+(L^x^R)+V[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^x)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^L)+V[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^O)+V[0]+3936430074&4294967295,L=x+(I<<11&4294967295|I>>>21),I=O+(L^x^R)+V[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^x)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^L)+V[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^O)+V[12]+3873151461&4294967295,L=x+(I<<11&4294967295|I>>>21),I=O+(L^x^R)+V[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^x)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(O^(R|~L))+V[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~O))+V[7]+1126891415&4294967295,L=x+(I<<10&4294967295|I>>>22),I=O+(x^(L|~R))+V[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~x))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~L))+V[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~O))+V[3]+2399980690&4294967295,L=x+(I<<10&4294967295|I>>>22),I=O+(x^(L|~R))+V[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~x))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~L))+V[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~O))+V[15]+4264355552&4294967295,L=x+(I<<10&4294967295|I>>>22),I=O+(x^(L|~R))+V[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~x))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~L))+V[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~O))+V[11]+3174756917&4294967295,L=x+(I<<10&4294967295|I>>>22),I=O+(x^(L|~R))+V[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}i.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<x;){if(O==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<x;)if(V[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<x;)if(V[O++]=N[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=x},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[x++]=this.g[R]>>>V&255;return N};function c(N,x){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function f(N,x){this.h=x;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;V&&L==x||(R[O]=L,V=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?c(N,function(x){return new f([x|0],x<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(y(-N));const x=[];let R=1;for(let V=0;N>=R;V++)x[V]=N/R|0,R*=4294967296;return new f(x,0)}function A(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return W(A(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(x,8));let V=S;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const I=parseInt(N.substring(L,L+O),x);O<8?(O=y(Math.pow(x,O)),V=V.j(O).add(y(I))):(V=V.j(R),V=V.add(y(I)))}return V}var S=g(0),w=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(F(this))return-W(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(F(this))return"-"+W(this).toString(N);const x=y(Math.pow(N,6));var R=this;let V="";for(;;){const O=Me(R,x).g;R=le(R,O.j(x));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,Z(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function F(N){return N.h==-1}r.l=function(N){return N=le(this,N),F(N)?-1:Z(N)?0:1};function W(N){const x=N.g.length,R=[];for(let V=0;V<x;V++)R[V]=~N.g[V];return new f(R,~N.h).add(w)}r.abs=function(){return F(this)?W(this):this},r.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=x;O++){let L=V+(this.i(O)&65535)+(N.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function le(N,x){return N.add(W(x))}r.j=function(N){if(Z(this)||Z(N))return S;if(F(this))return F(N)?W(this).j(W(N)):W(W(this).j(N));if(F(N))return W(this.j(W(N)));if(this.l(q)<0&&N.l(q)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const L=this.i(V)>>>16,I=this.i(V)&65535,at=N.i(O)>>>16,Vt=N.i(O)&65535;R[2*V+2*O]+=I*Vt,ce(R,2*V+2*O),R[2*V+2*O+1]+=L*Vt,ce(R,2*V+2*O+1),R[2*V+2*O+1]+=I*at,ce(R,2*V+2*O+1),R[2*V+2*O+2]+=L*at,ce(R,2*V+2*O+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new f(R,0)};function ce(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function de(N,x){this.g=N,this.h=x}function Me(N,x){if(Z(x))throw Error("division by zero");if(Z(N))return new de(S,S);if(F(N))return x=Me(W(N),x),new de(W(x.g),W(x.h));if(F(x))return x=Me(N,W(x)),new de(W(x.g),x.h);if(N.g.length>30){if(F(N)||F(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=x;V.l(N)<=0;)R=et(R),V=et(V);var O=Ve(R,1),L=Ve(V,1);for(V=Ve(V,2),R=Ve(R,2);!Z(V);){var I=L.add(V);I.l(N)<=0&&(O=O.add(R),L=I),V=Ve(V,1),R=Ve(R,1)}return x=le(N,O.j(x)),new de(O,x)}for(O=S;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),I=L.j(x);F(I)||I.l(N)>0;)R-=V,L=y(R),I=L.j(x);Z(L)&&(L=w),O=O.add(L),N=le(N,I)}return new de(O,N)}r.B=function(N){return Me(this,N).h},r.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&N.i(V);return new f(R,this.h&N.h)},r.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|N.i(V);return new f(R,this.h|N.h)},r.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^N.i(V);return new f(R,this.h^N.h)};function et(N){const x=N.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(R,N.h)}function Ve(N,x){const R=x>>5;x%=32;const V=N.g.length-R,O=[];for(let L=0;L<V;L++)O[L]=x>0?N.i(L+R)>>>x|N.i(L+R+1)<<32-x:N.i(L+R);return new f(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,q1=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,nr=f}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H1,Ml,F1,Ju,xp,G1,K1,Y1;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break e;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},f=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,B){for(var ee=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ee[Ae-2]=arguments[Ae];return m.prototype[j].apply(b,ee)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=j[ee]}else u.push(j)}}class F{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){f.setTimeout(()=>{throw u},0)}function le(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,v){const b=de.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var de=new F(()=>new Me,u=>u.reset());class Me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,Ve=!1,N=new ce,x=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(R)}};function R(){for(var u;u=le();){try{u.h.call(u.g)}catch(v){W(v)}var m=de;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,O),at.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++K,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=xe(u,m,b,j);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,B,!!b,j),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(b,j,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xe(u,m,v,b){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return j}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(u,m,v,b,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,b,j);return null}return v=wo(v),u&&u[Vt]?u.J(m,v,p(b)?!!b.capture:!1,j):mr(u,m,v,!1,b,j)}function mr(u,m,v,b,j,B){if(!m)throw Error("Invalid event type");const ee=p(j)?!!j.capture:!!j;let Ae=gr(u);if(Ae||(u[Le]=Ae=new re(u)),v=Ae.add(m,v,b,ee,B),v.proxy)return v;if(b=sa(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(j=ee),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(ls(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function u(v){return m.call(u.src,u.listener,v)}const m=xo;return u}function ia(u,m,v,b,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)ia(u,m[B],v,b,j);else b=p(b)?!!b.capture:!!b,v=wo(v),u&&u[Vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=xe(m,v,b,j),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=gr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,v,b,j)),(v=u>-1?m[u]:null)&&ra(v))}function ra(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Vt])_e(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ls(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=gr(m))?(_e(v,u),v.h==0&&(v.src=null,m[Le]=null)):fe(u)}}}function ls(u){return u in kt?kt[u]:kt[u]="on"+u}function xo(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ra(u),u=v.call(b,m)}return u}function gr(u){return u=u[Le],u instanceof re?u:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(u){return typeof u=="function"?u:(u[So]||(u[So]=function(m){return u.handleEvent(m)}),u[So])}function Tt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(Tt,V),Tt.prototype[Vt]=!0,Tt.prototype.removeEventListener=function(u,m,v,b){ia(this,u,m,v,b)};function Lt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var j=m;m=new O(b,u),ne(m,j)}j=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],j=pi(B,b,!0,m)&&j;if(B=m.g=u,j=pi(B,b,!0,m)&&j,j=pi(B,b,!1,m)&&j,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],j=pi(B,b,!1,m)&&j}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)fe(v[b]);delete u.g[m],u.h--}}this.G=null},Tt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Tt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function pi(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const Ae=ee.listener,gt=ee.ha||ee.src;ee.fa&&_e(u.i,ee),j=Ae.call(gt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Qh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function hc(u){u.g=Qh(()=>{u.g=null,u.i&&(u.i=!1,hc(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(u){V.call(this),this.h=u,this.g={}}S(yr,V);var Ro=[];function Io(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},u),u.g={}}yr.prototype.N=function(){yr.Z.N.call(this),Io(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=f.JSON.stringify,Xh=f.JSON.parse,fc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function dc(){}function pc(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){O.call(this,"d")}S(Ft,O);function Dn(){O.call(this,"c")}S(Dn,O);var mt={},mc=null;function aa(){return mc=mc||new Tt}mt.Ia="serverreachability";function gc(u){O.call(this,mt.Ia,u)}S(gc,O);function cs(u){const m=aa();Lt(m,new gc(m))}mt.STAT_EVENT="statevent";function _r(u,m){O.call(this,mt.STAT_EVENT,u),this.stat=m}S(_r,O);function At(u){const m=aa();Lt(m,new _r(m,u))}mt.Ja="timingevent";function us(u,m){O.call(this,mt.Ja,u),this.size=m}S(us,O);function hs(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function $h(u,m,v,b,j,B){u.info(function(){if(u.g)if(B){var ee="",Ae=B.split("&");for(let qe=0;qe<Ae.length;qe++){var gt=Ae[qe].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const kn=lt.split("_");ee=kn.length>=2&&kn[1]=="type"?ee+(lt+"="+gt+"&"):ee+(lt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+ee})}function yc(u,m,v,b,j,B,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ee})}function fs(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(u,v)+(b?" "+b:"")})}function vr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return mi(B)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function Tr(){}S(Tr,dc),Tr.prototype.g=function(){return new XMLHttpRequest},No=new Tr;function Ps(u){return encodeURIComponent(String(u))}function _c(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var bt={},zt={};function ds(u,m,v){u.M=1,u.A=Ar(St(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),ps(u),u.B=St(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Xn,u.g=Mc(u.j,v?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ro[0]=j.toString()),j=Ro);for(let B=0;B<j.length;B++){const ee=ot(v,j[B],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),cs(),$h(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=Zn(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ae!=4||gt==7||(gt==8||qe<=0?cs(3):cs(2)),ms(this);var m=this.g.ca();this.X=m;var v=Zh(this);if(this.o=m==200,yc(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var B=b;break t}}B=null}if(u=B)fs(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gs(this,u);else{this.o=!1,this.m=3,At(12),vn(this),On(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Ec(this,v),lt==zt){Ae==4&&(this.m=4,At(14),u=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==bt){this.m=4,At(15),fs(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fs(this.i,this.l,lt,null),gs(this,lt);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)fs(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(ee),ee.P=!0,At(11))}}else fs(this.i,this.l,v,null),gs(this,v);Ae==4&&vn(this),this.o&&!this.K&&(Ae==4?Cc(this.j,this):(this.o=!1,ps(this)))}else Bs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),vn(this),On(this)}}}catch{}};function Zh(u){if(!vc(u))return u.g.la();const m=Gt(u.g);if(m==="")return"";let v="";const b=m.length,j=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),On(u),"";u.h.i=new f.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ec(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?zt:(v=Number(m.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>m.length?zt:(m=m.slice(b,b+v),u.C=b+v,m)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function ps(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hs(y(u.aa,u),m)}function ms(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vr(this.i,this.B),this.M!=2&&(cs(),At(17)),vn(this),this.m=2,On(this)):la(this,this.T-u)};function On(u){u.j.I==0||u.K||Cc(u.j,u)}function vn(u){ms(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Io(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gs(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_s(v.h,u))){if(!u.L&&_s(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ga(v),bi(v);else break e;Cr(v),At(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hs(y(v.Va,v),6e3));ys(v.h)<=1&&v.ta&&(v.ta=void 0)}else xs(v,11)}else if((u.L||v.g==u)&&ga(v),!I(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let qe=j[m];const lt=qe[0];if(!(lt<=v.K))if(v.K=lt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const kn=qe[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Ss=qe[4];Ss!=null&&(v.za=Ss,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const es=u.g;if(es){const Nr=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=b.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(b.G){const ya=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Ye(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=u;if(b.na=Oc(b,b.L?b.ba:null,b.W),ee.L){Vo(b.h,ee);var Ae=ee,gt=b.O;gt&&(Ae.H=gt),Ae.D&&(ms(Ae),ps(Ae)),b.g=ee}else Rc(b);v.i.length>0&&bs(v)}else qe[0]!="stop"&&qe[0]!="close"||xs(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xs(v,7):Ho(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}cs(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ys(u){return u.h?1:u.g?u.g.size:0}function _s(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,B=null;b>=0?(j=u[v].substring(0,b),B=u[v].substring(b+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,gi(this,u.u),this.h=u.h,Lo(this,Sc(u.i)),this.m=u.m):u&&(m=String(u).match(Tc))?(this.l=!1,Bt(this,m[1]||"",!0),this.o=vs(m[2]||""),this.g=vs(m[3]||"",!0),gi(this,m[4]),this.h=vs(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=vs(m[7]||"")):(this.l=!1,this.i=new _i(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ua,!0),"@"),u.push(Ps(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?jo:Ac,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,bc)),u.join("")},En.prototype.resolve=function(u){const m=St(this);let v=!!u.j;v?Bt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)gi(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ee=0;ee<j.length;){const Ae=j[ee++];Ae=="."?b&&ee==j.length&&B.push(""):Ae==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ee==j.length&&B.push("")):(B.push(Ae),b=!0)}b=B.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?Lo(m,Sc(u.i)):v=!!u.m,v&&(m.m=u.m),m};function St(u){return new En(u)}function Bt(u,m,v){u.j=v?vs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,v){m instanceof _i?(u.i=m,fa(u.i,u.l)):(v||(m=br(m,yi)),u.i=new _i(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function Ar(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,Ac=/[#\?:]/g,jo=/[#\?]/g,yi=/[#\?@]/g,bc=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_i.prototype,r.add=function(u,m){hn(this),this.i=null,u=vi(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xc(u,m){hn(u),m=vi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return hn(u),m=vi(u,m),u.g.has(m)}r.forEach=function(u,m){hn(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function Po(u,m){hn(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(vi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return hn(this),this.i=null,u=vi(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){xc(u,m),v.length>0&&(u.i=null,u.g.set(vi(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=Ps(v);v=Po(this,v);for(let B=0;B<v.length;B++){let ee=j;v[B]!==""&&(ee+="="+Ps(v[B])),u.push(ee)}}return this.i=u.join("&")};function Sc(u){const m=new _i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(xc(this,b),ha(this,j,v))},u)),u.j=m}function $n(u,m){const v=new Yn;if(f.Image){const b=new Image;b.onload=A(Mn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Mn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Mn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Mn,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function zo(u,m){const v=new Yn,b=new AbortController,j=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(j),B.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Ei(){this.g=new fc}function Es(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Es,dc),Es.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){Tt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xr,Tt),r=xr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ti(this):Jn(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ti(this))},r.Na=function(u){this.g&&(this.response=u,Ti(this))},r.ga=function(){this.g&&Ti(this)};function Ti(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Ue(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Vn(v),typeof u=="string"?v!=null&&Ps(v):Ye(u,m,v))}function $e(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,Tt);var Ts=/^https?$/i,Bo=["POST","PUT"];r=$e.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),zs(u)}function qo(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Lt(this,"complete"),Lt(this,"abort"),zs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Lt(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ee=String(u.D).match(Tc)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),b=!Ts.test(ee?ee.toLowerCase():"")}v=b}if(v)Lt(u,"complete"),Lt(u,"success");else{u.o=6;try{var j=Zn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",qo(u)}}finally{zs(u)}}}}function zs(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Lt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xh(m)}};function Gt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(I(u[b]))continue;var v=_c(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ke(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ai(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,u),this.Za=As("retryDelaySeedMs",1e4,u),this.Ta=As("forwardChannelMaxRetries",2,u),this.va=As("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Ei,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ai.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){At(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Oc(this,null,this.W),bs(this)};function Ho(u){if(pa(u),u.I==3){var m=u.V++,v=St(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Ir(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=Ar(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ps(m)}Dc(u)}function bi(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function pa(u){bi(u),u.v&&(f.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function bs(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||x(),Ve||(et(),Ve=!0),N.add(m,u),u.D=0}}function ma(u,m){return ys(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hs(y(u.Ea,u,m),Nc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=wc(this,j,m),v=St(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ir(this,v),B&&(this.R?m="headers="+Ps(Vn(B))+"&"+m:this.u&&Sr(v,this.u,B)),Mo(this.h,j),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),j.U=!0,ds(j,v,null)):ds(j,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const b=St(u.J);Ye(b,"SID",u.M),Ye(b,"RID",v),Ye(b,"AID",u.K),Ir(u,b),u.u&&u.o&&Sr(b,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),ds(v,b,m)}function Ir(u,m){u.H&&Ue(u.H,function(v,b){Ye(m,b,v)}),u.l&&Ue({},function(v,b){Ye(m,b,v)})}function wc(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ae=-1;for(;;){const gt=["count="+v];Ae==-1?v>0?(Ae=j[0].g,gt.push("ofs="+Ae)):Ae=0:gt.push("ofs="+Ae);let qe=!0;for(let lt=0;lt<v;lt++){var B=j[lt].g;const kn=j[lt].map;if(B-=Ae,B<0)Ae=Math.max(0,j[lt].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var ee=kn instanceof Map?kn:Object.entries(kn);for(const[Ss,Wn]of ee){let es=Wn;p(Wn)&&(es=mi(Wn)),gt.push(B+Ss+"="+encodeURIComponent(es))}}catch(Ss){throw gt.push(B+"type="+encodeURIComponent("_badmap")),Ss}}catch{b&&b(kn)}}if(qe){ee=gt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Rc(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||x(),Ve||(et(),Ve=!0),N.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hs(y(u.Da,u),Nc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hs(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),bi(this),Ic(this))};function Go(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Ic(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=St(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ar(St(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,bi(this),Cr(this),At(19))};function ga(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Cc(u,m){var v=null;if(u.g==m){ga(u),Go(u),u.g=null;var b=2}else if(_s(u.h,m))v=m.G,Vo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=aa(),Lt(b,new us(b,v)),bs(u)}else Rc(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&ma(u,m)||b==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:xs(u,5);break;case 4:xs(u,10);break;case 3:xs(u,6);break;default:xs(u,2)}}}function Nc(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xs(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const j=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(b,"https"),Ar(b),j?$n(b.toString(),v):zo(b.toString(),v)}else At(2);u.I=0,u.l&&u.l.pa(m),Dc(u),pa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Dc(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Oc(u,m,v){var b=v instanceof En?St(v):new En(v);if(b.g!="")m&&(b.g=m+"."+b.g),gi(b,b.u);else{var j=f.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new En(null);b&&Bt(B,b),m&&(B.g=m),j&&gi(B,j),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Ye(b,v,m),Ye(b,"VER",u.ka),Ir(u,b),b}function Mc(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new Es({ab:v})):new $e(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}r=Vc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xi(){}xi.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Tt.call(this),this.g=new Ai(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qs(this)}S(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ho(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mi(u),u=v);m.i.push(new xt(m.Ya++,u)),m.I==3&&bs(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,ln.Z.N.call(this)};function kc(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(kc,Ft);function Lc(){Dn.call(this),this.status=1}S(Lc,Dn);function qs(u){this.g=u}S(qs,Vc),qs.prototype.ra=function(){Lt(this.g,"a")},qs.prototype.qa=function(u){Lt(this.g,new kc(u))},qs.prototype.pa=function(u){Lt(this.g,new Lc)},qs.prototype.oa=function(){Lt(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Y1=function(){return new xi},K1=function(){return aa()},G1=mt,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Ju=Er,Co.COMPLETE="complete",F1=Co,pc.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ml=pc,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,H1=$e}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let _o="12.9.0";function nR(r){_o=r}const Zr=new Fp("@firebase/firestore");function Ya(){return Zr.logLevel}function ie(r,...e){if(Zr.logLevel<=Ne.DEBUG){const n=e.map(tm);Zr.debug(`Firestore (${_o}): ${r}`,...n)}}function ci(r,...e){if(Zr.logLevel<=Ne.ERROR){const n=e.map(tm);Zr.error(`Firestore (${_o}): ${r}`,...n)}}function Wr(r,...e){if(Zr.logLevel<=Ne.WARN){const n=e.map(tm);Zr.warn(`Firestore (${_o}): ${r}`,...n)}}function tm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Q1(r,i,n)}function Q1(r,e,n){let i=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ci(i),new Error(i)}function Ge(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Q1(e,o,i)}function Te(r,e){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class X1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class iR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ai,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ai)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new X1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class aR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const i=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=cR(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function De(r,e){return r<e?-1:r>e?1:0}function Sp(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return ap(o)===ap(c)?De(o,c):ap(o)?1:-1}return De(r.length,e.length)}const uR=55296,hR=57343;function ap(r){const e=r.charCodeAt(0);return e>=uR&&e<=hR}function oo(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const Gv="__name__";class Ns{constructor(e,n,i){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ye(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=Ns.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return De(e.length,n.length)}static compareSegments(e,n){const i=Ns.isNumericId(e),o=Ns.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):Sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}}class nt extends Ns{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ns{construct(e,n,i){return new Zt(e,n,i)}static isValidIdentifier(e){return fR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Zt([Gv])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(i+=p,o++):(c(),o++)}if(c(),f)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(nt.fromString(e))}static fromName(e){return new he(nt.fromString(e).popFirst(5))}static empty(){return new he(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new nt(e.slice()))}}function $1(r,e,n){if(!n)throw new se(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dR(r,e,n,i){if(e===!0&&i===!0)throw new se(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Kv(r){if(!he.isDocumentKey(r))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yv(r){if(he.isDocumentKey(r))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(r);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function ic(r,e){if(!J1(r))throw new se(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const f=r[i];if(o&&typeof f!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new se(Q.INVALID_ARGUMENT,n);return!0}const Qv=-62135596800,Xv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Xv);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qv)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ic(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new rt(0,0))}static max(){return new ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function pR(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new rr(o,he.empty(),e)}function mR(r){return new rr(r.readTime,r.key,Kl)}class rr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rr(ve.min(),he.empty(),Kl)}static max(){return new rr(ve.max(),he.empty(),Kl)}}function gR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(r.documentKey,e.documentKey),n!==0?n:De(r.largestBatchId,e.largestBatchId))}const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==yR)throw r;ie("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,i)=>{n(e)}))}static reject(e){return new J(((n,i)=>{i(e)}))}static waitFor(e){return new J(((n,i)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&n()}),(g=>i(g)))})),f=!0,c===o&&n()}))}static or(e){let n=J.resolve(!1);for(const i of e)n=n.next((o=>o?J.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new J(((i,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((A=>{f[y]=A,++p,p===c&&i(f)}),(A=>o(A)))}}))}static doWhile(e,n){return new J(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function vR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const sm=-1;function Mh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function ER(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Z1="";function TR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$v(e)),e=AR(r.get(n),e);return $v(e)}function AR(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case Z1:n+="";break;default:n+=c}}return n}function $v(r){return r+Z1+""}function Jv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function dr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function W1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new $t(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ut(Zt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eE("Invalid base64 string: "+c):c}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const bR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=bR.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function or(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const tE="server_timestamp",nE="__type__",sE="__previous_value__",iE="__local_write_time__";function im(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===tE}function Vh(r){const e=r.mapValue.fields[sE];return im(e)?Vh(e):e}function Yl(r){const e=ar(r.mapValue.fields[iE].timestampValue);return new rt(e.seconds,e.nanos)}class xR{constructor(e,n,i,o,c,f,p,g,y,A,S){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const mh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function SR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(r.options.projectId,e)}const rE="__type__",wR="__max__",Hu={mapValue:{}},aE="__vector__",gh="value";function lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?im(r)?4:IR(r)?9007199254740991:RR(r)?10:11:ye(28295,{value:r})}function Us(r,e){if(r===e)return!0;const n=lr(r);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ar(o.timestampValue),p=ar(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return or(o.bytesValue).isEqual(or(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),p=vt(c.doubleValue);return f===p?ph(f)===ph(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Jv(f)!==Jv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Us(f[g],p[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find((n=>Us(n,e)))!==void 0}function lo(r,e){if(r===e)return 0;const n=lr(r),i=lr(e);if(n!==i)return De(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=vt(c.integerValue||c.doubleValue),g=vt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return Wv(r.timestampValue,e.timestampValue);case 4:return Wv(Yl(r),Yl(e));case 5:return Sp(r.stringValue,e.stringValue);case 6:return(function(c,f){const p=or(c),g=or(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const A=De(p[y],g[y]);if(A!==0)return A}return De(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=De(vt(c.latitude),vt(f.latitude));return p!==0?p:De(vt(c.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return e0(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[gh]?.arrayValue,A=g[gh]?.arrayValue,S=De(y?.values?.length||0,A?.values?.length||0);return S!==0?S:e0(y,A)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Hu.mapValue&&f===Hu.mapValue)return 0;if(c===Hu.mapValue)return 1;if(f===Hu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const w=Sp(g[S],A[S]);if(w!==0)return w;const q=lo(p[g[S]],y[A[S]]);if(q!==0)return q}return De(g.length,A.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Wv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const n=ar(r),i=ar(e),o=De(n.seconds,i.seconds);return o!==0?o:De(n.nanos,i.nanos)}function e0(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=lo(n[o],i[o]);if(c)return c}return De(n.length,i.length)}function co(r){return wp(r)}function wp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=ar(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return or(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return he.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=wp(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${wp(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function Zu(r){switch(lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Zu(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return dr(i.fields,((c,f)=>{o+=c.length+Zu(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function t0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rp(r){return!!r&&"integerValue"in r}function rm(r){return!!r&&"arrayValue"in r}function n0(r){return!!r&&"nullValue"in r}function s0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wu(r){return!!r&&"mapValue"in r}function RR(r){return(r?.mapValue?.fields||{})[rE]?.stringValue===aE}function Pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return dr(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Pl(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return e}return{...r}}function IR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wR}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Zt.emptyPath(),i={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}f?i[p.lastSegment()]=Pl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){dr(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new _n(Pl(this.value))}}function oE(r){const e=[];return dr(r.fields,((n,i)=>{const o=new Zt([n]);if(Wu(i)){const c=oE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class sn{constructor(e,n,i,o,c,f,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,ve.min(),ve.min(),ve.min(),_n.empty(),0)}static newFoundDocument(e,n,i,o){return new sn(e,1,n,ve.min(),i,o,0)}static newNoDocument(e,n){return new sn(e,2,n,ve.min(),ve.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,ve.min(),ve.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function i0(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?i=he.comparator(he.fromName(f.referenceValue),n.key):i=lo(f,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function r0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Us(r.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function CR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lE{}class Dt extends lE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new DR(e,n,i):n==="array-contains"?new VR(e,i):n==="in"?new kR(e,i):n==="not-in"?new LR(e,i):n==="array-contains-any"?new jR(e,i):new Dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new OR(e,i):new MR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends lE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return cE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cE(r){return r.op==="and"}function uE(r){return NR(r)&&cE(r)}function NR(r){for(const e of r.filters)if(e instanceof os)return!1;return!0}function Ip(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+co(r.value);if(uE(r))return r.filters.map((e=>Ip(e))).join(",");{const e=r.filters.map((n=>Ip(n))).join(",");return`${r.op}(${e})`}}function hE(r,e){return r instanceof Dt?(function(i,o){return o instanceof Dt&&i.op===o.op&&i.field.isEqual(o.field)&&Us(i.value,o.value)})(r,e):r instanceof os?(function(i,o){return o instanceof os&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,f,p)=>c&&hE(f,o.filters[p])),!0):!1})(r,e):void ye(19439)}function fE(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(r):r instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"})(r):"Filter"}class DR extends Dt{constructor(e,n,i){super(e,n,i),this.key=he.fromName(i.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class OR extends Dt{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MR extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dE(r,e){return(e.arrayValue?.values||[]).map((n=>he.fromName(n.referenceValue)))}class VR extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rm(n)&&Xl(n.arrayValue,this.value)}}class kR extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class LR extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class jR extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Xl(this.value.arrayValue,i)))}}class UR{constructor(e,n=null,i=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function a0(r,e=null,n=[],i=[],o=null,c=null,f=null){return new UR(r,e,n,i,o,c,f)}function am(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ip(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>co(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>co(i))).join(",")),e.Te=n}return e.Te}function om(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!CR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r0(r.startAt,e.startAt)&&r0(r.endAt,e.endAt)}function Cp(r){return he.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class rc{constructor(e,n=null,i=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PR(r,e,n,i,o,c,f,p){return new rc(r,e,n,i,o,c,f,p)}function lm(r){return new rc(r)}function o0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zR(r){return he.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function pE(r){return r.collectionGroup!==null}function zl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ut(Zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _h(c,i))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new _h(Zt.keyField(),i))}return e.Ie}function ks(r){const e=Te(r);return e.Ee||(e.Ee=BR(e,zl(r))),e.Ee}function BR(r,e){if(r.limitType==="F")return a0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new _h(o.field,c)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Np(r,e){const n=r.filters.concat([e]);return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Dp(r,e,n){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return om(ks(r),ks(e))&&r.limitType===e.limitType}function mE(r){return`${am(ks(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>fE(o))).join(", ")}]`),Mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${i})`})(ks(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):he.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of zl(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(f,p,g){const y=i0(f,p,g);return f.inclusive?y<=0:y<0})(i.startAt,zl(i),o)||i.endAt&&!(function(f,p,g){const y=i0(f,p,g);return f.inclusive?y>=0:y>0})(i.endAt,zl(i),o))})(r,e)}function qR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gE(r){return(e,n)=>{let i=!1;for(const o of zl(r)){const c=HR(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function HR(r,e,n){const i=r.field.isKeyField()?he.comparator(e.key,n.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?lo(g,y):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:r.dir})}}class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}const FR=new ft(he.comparator);function hi(){return FR}const yE=new ft(he.comparator);function Vl(...r){let e=yE;for(const n of r)e=e.insert(n.key,n);return e}function _E(r){let e=yE;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Yr(){return Bl()}function vE(){return Bl()}function Bl(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GR=new ft(he.comparator),KR=new Ut(he.comparator);function Oe(...r){let e=KR;for(const n of r)e=e.add(n);return e}const YR=new Ut(De);function QR(){return YR}function cm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function EE(r){return{integerValue:""+r}}function XR(r,e){return ER(e)?EE(e):cm(r,e)}class jh{constructor(){this._=void 0}}function $R(r,e,n){return r instanceof vh?(function(o,c){const f={fields:{[nE]:{stringValue:tE},[iE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&im(c)&&(c=Vh(c)),c&&(f.fields[sE]=c),{mapValue:f}})(n,e):r instanceof $l?AE(r,e):r instanceof Jl?bE(r,e):(function(o,c){const f=TE(o,c),p=l0(f)+l0(o.Ae);return Rp(f)&&Rp(o.Ae)?EE(p):cm(o.serializer,p)})(r,e)}function JR(r,e,n){return r instanceof $l?AE(r,e):r instanceof Jl?bE(r,e):n}function TE(r,e){return r instanceof Eh?(function(i){return Rp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class vh extends jh{}class $l extends jh{constructor(e){super(),this.elements=e}}function AE(r,e){const n=xE(e);for(const i of r.elements)n.some((o=>Us(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Jl extends jh{constructor(e){super(),this.elements=e}}function bE(r,e){let n=xE(e);for(const i of r.elements)n=n.filter((o=>!Us(o,i)));return{arrayValue:{values:n}}}class Eh extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function l0(r){return vt(r.integerValue||r.doubleValue)}function xE(r){return rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZR(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof $l&&o instanceof $l||i instanceof Jl&&o instanceof Jl?oo(i.elements,o.elements,Us):i instanceof Eh&&o instanceof Eh?Us(i.Ae,o.Ae):i instanceof vh&&o instanceof vh})(r.transform,e.transform)}class WR{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function SE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ph(r.key,Nn.none()):new ac(r.key,r.data,Nn.none());{const n=r.data,i=_n.empty();let o=new Ut(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?i.delete(c):i.set(c,f),o=o.add(c)}return new pr(r.key,i,new Cn(o.toArray()),Nn.none())}}function eI(r,e,n){r instanceof ac?(function(o,c,f){const p=o.value.clone(),g=u0(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof pr?(function(o,c,f){if(!eh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=u0(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(wE(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(r,e,n,i){return r instanceof ac?(function(c,f,p,g){if(!eh(c.precondition,f))return p;const y=c.value.clone(),A=h0(c.fieldTransforms,g,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof pr?(function(c,f,p,g){if(!eh(c.precondition,f))return p;const y=h0(c.fieldTransforms,g,f),A=f.data;return A.setAll(wE(c)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,n,i):(function(c,f,p){return eh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function tI(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=TE(i.transform,o||null);c!=null&&(n===null&&(n=_n.empty()),n.set(i.field,c))}return n||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oo(i,o,((c,f)=>ZR(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ac extends Uh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pr extends Uh{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function u0(r,e,n){const i=new Map;Ge(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);i.set(c.field,JR(f,p,n[o]))}return i}function h0(r,e,n){const i=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);i.set(o.field,$R(c,f,e))}return i}class Ph extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nI extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sI{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&eI(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ql(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ql(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=SE(f,p);g!==null&&i.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,i)=>c0(n,i)))&&oo(this.baseMutations,e.baseMutations,((n,i)=>c0(n,i)))}}class um{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ge(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return GR})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,i[f].version);return new um(e,n,i,o)}}class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,je;function aI(r){switch(r){case Q.OK:return ye(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function RE(r){if(r===void 0)return ci("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Nt.OK:return Q.OK;case Nt.CANCELLED:return Q.CANCELLED;case Nt.UNKNOWN:return Q.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Q.INTERNAL;case Nt.UNAVAILABLE:return Q.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Q.NOT_FOUND;case Nt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Nt.ABORTED:return Q.ABORTED;case Nt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Nt.DATA_LOSS:return Q.DATA_LOSS;default:return ye(39323,{code:r})}}(je=Nt||(Nt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function oI(){return new TextEncoder}const lI=new nr([4294967295,4294967295],0);function f0(r){const e=oI().encode(r),n=new q1;return n.update(e),new Uint8Array(n.digest())}function d0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new nr([n,i],0),new nr([o,c],0)]}class hm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(i<0)throw new kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nr.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(nr.fromNumber(i)));return o.compare(lI)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f0(e),[i,o]=d0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);if(!this.we(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new hm(c,o,n);return i.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=f0(e),[i,o]=d0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new zh(ve.min(),o,new ft(De),hi(),Oe())}}class oc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new oc(i,n,Oe(),Oe(),Oe())}}class th{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class IE{constructor(e,n){this.targetId=e,this.Ce=n}}class CE{constructor(e,n,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class p0{constructor(){this.ve=0,this.Fe=m0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),i=Oe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye(38017,{changeType:c})}})),new oc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=m0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cI{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.He=Fu(),this.Je=Fu(),this.Ze=new ft(De)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Cp(c))if(i===0){const f=new he(c.path);this.et(n,f,sn.newNoDocument(f,ve.min()))}else Ge(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=or(i).toUint8Array()}catch(g){if(g instanceof eE)return Wr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new hm(f,o,c)}catch(g){return Wr(g instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&Cp(p.target)){const g=new he(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,sn.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let i=Oe();this.Je.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new zh(e,n,this.Ze,this.je,i);return this.je=hi(),this.He=Fu(),this.Je=Fu(),this.Ze=new ft(De),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new p0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(De),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(De),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fu(){return new ft(he.comparator)}function m0(){return new ft(he.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},hI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class dI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(r,e){return r.useProto3Json||Mh(e)?e:{value:e}}function Th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pI(r,e){return Th(r,e.toTimestamp())}function Ls(r){return Ge(!!r,49232),ve.fromTimestamp((function(n){const i=ar(n);return new rt(i.seconds,i.nanos)})(r))}function fm(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function DE(r){const e=nt.fromString(r);return Ge(LE(e),10190,{key:e.toString()}),e}function Vp(r,e){return fm(r.databaseId,e.path)}function op(r,e){const n=DE(e);if(n.get(1)!==r.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new he(ME(n))}function OE(r,e){return fm(r.databaseId,e)}function mI(r){const e=DE(r);return e.length===4?nt.emptyPath():ME(e)}function kp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ME(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function g0(r,e,n){return{name:Vp(r,e),fields:n.value.mapValue.fields}}function gI(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ge(A===void 0||typeof A=="string",58123),Wt.fromBase64String(A||"")):(Ge(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Wt.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const A=y.code===void 0?Q.UNKNOWN:RE(y.code);return new se(A,y.message||"")})(f);n=new CE(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=op(r,i.document.name),c=Ls(i.document.updateTime),f=i.document.createTime?Ls(i.document.createTime):ve.min(),p=new _n({mapValue:{fields:i.document.fields}}),g=sn.newFoundDocument(o,c,f,p),y=i.targetIds||[],A=i.removedTargetIds||[];n=new th(y,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=op(r,i.document),c=i.readTime?Ls(i.readTime):ve.min(),f=sn.newNoDocument(o,c),p=i.removedTargetIds||[];n=new th([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=op(r,i.document),c=i.removedTargetIds||[];n=new th([],c,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,f=new rI(o,c),p=i.targetId;n=new IE(p,f)}}return n}function yI(r,e){let n;if(e instanceof ac)n={update:g0(r,e.key,e.value)};else if(e instanceof Ph)n={delete:Vp(r,e.key)};else if(e instanceof pr)n={update:g0(r,e.key,e.data),updateMask:wI(e.fieldMask)};else{if(!(e instanceof nI))return ye(16599,{dt:e.type});n={verify:Vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,f){const p=f.transform;if(p instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:pI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(r,e.precondition)),n}function _I(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?Ls(o.updateTime):Ls(c);return f.isEqual(ve.min())&&(f=Ls(c)),new WR(f,o.transformResults||[])})(n,e)))):[]}function vI(r,e){return{documents:[OE(r,e.path)]}}function EI(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=OE(r,o);const c=(function(y){if(y.length!==0)return kE(os.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((A=>(function(w){return{field:Xa(w.field),direction:bI(w.dir)}})(A)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Op(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function TI(r){let e=mI(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ge(i===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];n.where&&(c=(function(S){const w=VE(S);return w instanceof os&&uE(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(Z){return new _h($a(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,Mh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,q=S.values||[];return new yh(q,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,q=S.values||[];return new yh(q,w)})(n.endAt)),PR(e,o,f,c,p,"F",g,y)}function AI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$a(n.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((i=>VE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function bI(r){return uI[r]}function xI(r){return hI[r]}function SI(r){return fI[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Zt.fromServerFormat(r.fieldPath)}function kE(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:xI(n.op),value:n.value}}})(r):r instanceof os?(function(n){const i=n.getFilters().map((o=>kE(o)));return i.length===1?i[0]:{compositeFilter:{op:SI(n.op),filters:i}}})(r):ye(54877,{filter:r})}function wI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function jE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Zi{constructor(e,n,i,o,c=ve.min(),f=ve.min(),p=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RI{constructor(e){this.yt=e}}function II(r){const e=TI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dp(e,e.limit,"L"):e}class CI{constructor(){this.Sn=new NI}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(rr.min())}updateCollectionGroup(e,n,i){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class NI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Ut(nt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(nt.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(UE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}const _0="LruGarbageCollector",DI=1048576;function v0([r,e],[n,i]){const o=De(r,n);return o===0?De(e,i):o}class OI{constructor(e){this.Pr=e,this.buffer=new Ut(v0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();v0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(_0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ie(_0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Ar(3e5)}))}}class VI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Oh.ce);const i=new OI(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(y0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,c,f,p,g,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(i=S,p=Date.now(),this.removeTargets(e,i,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((S=>(y=Date.now(),Ya()<=Ne.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function kI(r,e){return new VI(r,e)}class LI{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?J.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&ql(i.mutation,o,Cn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Oe()){const o=Yr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let f=Vl();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const i=Yr();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Oe())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,i,o){let c=hi();const f=Bl(),p=(function(){return Bl()})();return n.forEach(((g,y)=>{const A=i.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof pr)?c=c.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),ql(A.mutation,y,A.mutation.getFieldMask(),rt.now())):f.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,A)=>f.set(y,A))),n.forEach(((y,A)=>p.set(y,new jI(A,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Bl();let o=new ft(((f,p)=>f-p)),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let A=i.get(g)||Cn.empty();A=p.applyToLocalView(y,A),i.set(g,A);const S=(o.get(p.batchId)||Oe()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,A=g.value,S=vE();A.forEach((w=>{if(!c.has(w)){const q=SE(n.get(w),i.get(w));q!==null&&S.set(w,q),c=c.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return zR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):J.resolve(Yr());let p=Kl,g=c;return f.next((y=>J.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((w=>{g=g.insert(A,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Oe()))).next((A=>({batchId:p,changes:_E(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((i=>{let o=Vl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(g=>{const y=(function(S,w){return new rc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((A=>{A.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((f=>{c.forEach(((g,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,sn.newInvalidDocument(A)))}));let p=Vl();return f.forEach(((g,y)=>{const A=c.get(g);A!==void 0&&ql(A.mutation,y,Cn.empty(),rt.now()),Lh(n,y)&&(p=p.insert(g,y))})),p}))}}class PI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ls(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:II(o.bundledQuery),readTime:Ls(o.readTime)}})(n)),J.resolve()}}class zI{constructor(){this.overlays=new ft(he.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Yr();return J.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.bt(e,n,c)})),J.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(i)),J.resolve()}getOverlaysForCollection(e,n,i){const o=Yr(),c=n.length+1,f=new he(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new ft(((y,A)=>y-A));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let A=c.get(y.largestBatchId);A===null&&(A=Yr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Yr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return J.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new iI(n,i));let c=this.Lr.get(n);c===void 0&&(c=Oe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(i.key))}}class BI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class dm{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Ht(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new he(new nt([])),i=new Ht(n,e),o=new Ht(n,e+1),c=[];return this.qr.forEachInRange([i,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new he(new nt([])),i=new Ht(n,e),o=new Ht(n,e+1);let c=Oe();return this.qr.forEachInRange([i,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ht(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return he.comparator(e.key,n.key)||De(e.Hr,n.Hr)}static Ur(e,n){return De(e.Hr,n.Hr)||he.comparator(e.key,n.key)}}class qI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sI(c,n,i,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new Ht(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([i,o],(f=>{const p=this.Zr(f.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ut(De);return n.forEach((o=>{const c=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(p=>{i=i.add(p.Hr)}))})),J.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;he.isDocumentKey(c)||(c=c.child(""));const f=new Ht(new he(c),0);let p=new Ut(De);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),f),J.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return J.forEach(n.mutations,(o=>{const c=new Ht(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Ht(n,0),o=this.Jr.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HI{constructor(e){this.ti=e,this.docs=(function(){return new ft(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return J.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let i=hi();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():sn.newInvalidDocument(o))})),J.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=hi();const f=n.path,p=new he(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||gR(mR(A),i)<=0||(o.has(A.key)||Lh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,i,o){ye(9500)}ni(e,n){return J.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new FI(this)}getSize(e){return J.resolve(this.size)}}class FI extends LI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class GI{constructor(e){this.persistence=e,this.ri=new ta((n=>am(n)),om),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new dm,this.targetCount=0,this.oi=uo._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return J.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),J.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return J.resolve(i)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}class PE{constructor(e,n){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new BI,this.referenceDelegate=e(this),this.li=new GI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(o){return new HI(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new RI(n),this.Pi=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new qI(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ie("MemoryPersistence","Starting transaction:",e);const o=new KI(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return J.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class KI extends _R{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.Ri=new dm,this.Ai=null}static Vi(e){return new pm(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),J.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(i=>{const o=he.fromPath(i);return this.mi(e,o).next((c=>{c||n.removeEntry(o,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.fi=new ta((i=>TR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=kI(this,n)}static Vi(e,n){return new Ah(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((c=>c?J.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(i++,c.removeEntry(f,ve.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}wr(e,n,i){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Oe(),o=Oe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mm(e,n.fromCache,i,o)}}class YI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ex()?8:vR(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,i).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new YI;return this.ys(e,n,f).next((p=>{if(c.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>c.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Ya()<=Ne.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ya()<=Ne.DEBUG&&ie("QueryEngine","Query:",Qa(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Ya()<=Ne.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):J.resolve())}gs(e,n){if(o0(n))return J.resolve(null);let i=ks(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dp(n,null,"F"),i=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const f=Oe(...c);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,Dp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return o0(n)||o.isEqual(ve.min())?J.resolve(null):this.fs.getDocuments(e,i).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,i,o)?J.resolve(null):(Ya()<=Ne.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Ds(e,f,n,pR(o,Kl)).next((p=>p)))}))}bs(e,n){let i=new Ut(gE(e));return n.forEach(((o,c)=>{Lh(e,c)&&(i=i.add(c))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,i){return Ya()<=Ne.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(e,n,rr.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const gm="LocalStore",XI=3e8;class $I{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(De),this.Fs=new ta((c=>am(c)),om),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function JI(r,e,n,i){return new $I(r,e,n,i)}async function zE(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const f=[],p=[];let g=Oe();for(const y of o){f.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function ZI(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,A){const S=y.batch,w=S.keys();let q=J.resolve();return w.forEach((Z=>{q=q.next((()=>A.getEntry(g,Z))).next((F=>{const W=y.docVersions.get(Z);Ge(W!==null,48541),F.version.compareTo(W)<0&&(S.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),A.addEntry(F)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Oe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function BE(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function WI(r,e){const n=Te(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((A,S)=>{const w=o.get(S);if(!w)return;p.push(n.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,A.addedDocuments,S))));let q=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(Wt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,i)),o=o.insert(S,q),(function(F,W,le){return F.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=XI?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(w,q,A)&&p.push(n.li.updateTargetData(c,q))}));let g=hi(),y=Oe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(eC(c,f,e.documentUpdates).next((A=>{g=A.Bs,y=A.Ls}))),!i.isEqual(ve.min())){const A=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(A)}return J.waitFor(p).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function eC(r,e,n){let i=Oe(),o=Oe();return n.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let f=hi();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ie(gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function tC(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=sm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function nC(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((c=>c?(o=c,J.resolve(o)):n.li.allocateTargetId(i).next((f=>(o=new Zi(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Lp(r,e,n){const i=Te(r),o=i.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ie(gm,`Failed to update sequence numbers for target ${e}: ${f}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function E0(r,e,n){const i=Te(r);let o=ve.min(),c=Oe();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,A){const S=Te(g),w=S.Fs.get(A);return w!==void 0?J.resolve(S.vs.get(w)):S.li.getTargetData(y,A)})(i,f,ks(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?c:Oe()))).next((p=>(sC(i,qR(e),p),{documents:p,ks:c})))))}function sC(r,e,n){let i=r.Ms.get(e)||ve.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Ms.set(e,i)}class T0{constructor(){this.activeTargetIds=QR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this.vo=new T0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new T0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rC{Mo(e){}shutdown(){}}const A0="ConnectivityMonitor";class b0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(A0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(A0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gu=null;function jp(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}const lp="RestConnection",aC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===mh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,c){const f=jp(),p=this.Qo(e,n.toUriEncodedString());ie(lp,`Sending RPC '${e}' ${f}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),A=po(y);return this.zo(e,p,g,i,A).then((S=>(ie(lp,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Wr(lp,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",i),S}))}jo(e,n,i,o,c,f){return this.Wo(e,n,i,o,c)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const i=aC[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class lC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const tn="WebChannelConnection",Nl=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class to extends oC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!to.c_){const e=K1();Nl(e,G1.STAT_EVENT,(n=>{n.stat===xp.PROXY?ie(tn,"STAT_EVENT: detected buffering proxy"):n.stat===xp.NOPROXY&&ie(tn,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(e,n,i,o,c){const f=jp();return new Promise(((p,g)=>{const y=new H1;y.setWithCredentials(!0),y.listenOnce(F1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ju.NO_ERROR:const S=y.getResponseJson();ie(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case Ju.TIMEOUT:ie(tn,`RPC '${e}' ${f} timed out`),g(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const w=y.getStatus();if(ie(tn,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const F=(function(le){const ce=le.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ce)>=0?ce:Q.UNKNOWN})(Z.status);g(new se(F,Z.message))}else g(new se(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new se(Q.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ie(tn,`RPC '${e}' ${f} completed.`)}}));const A=JSON.stringify(o);ie(tn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",A,i,15)}))}T_(e,n,i){const o=jp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=c.join("");ie(tn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const A=f.createWebChannel(y,p);this.I_(A);let S=!1,w=!1;const q=new lC({Ho:Z=>{w?ie(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(S||(ie(tn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ie(tn,`RPC '${e}' stream ${o} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return Nl(A,Ml.EventType.OPEN,(()=>{w||(ie(tn,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Nl(A,Ml.EventType.CLOSE,(()=>{w||(w=!0,ie(tn,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(A))})),Nl(A,Ml.EventType.ERROR,(Z=>{w||(w=!0,Wr(tn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),q.o_(new se(Q.UNAVAILABLE,"The operation could not be completed")))})),Nl(A,Ml.EventType.MESSAGE,(Z=>{if(!w){const F=Z.data[0];Ge(!!F,16349);const W=F,le=W?.error||W[0]?.error;if(le){ie(tn,`RPC '${e}' stream ${o} received error:`,le);const ce=le.status;let de=(function(Ve){const N=Nt[Ve];if(N!==void 0)return RE(N)})(ce),Me=le.message;ce==="NOT_FOUND"&&Me.includes("database")&&Me.includes("does not exist")&&Me.includes(this.databaseId.database)&&Wr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),de===void 0&&(de=Q.INTERNAL,Me="Unknown error status: "+ce+" with message "+le.message),w=!0,q.o_(new se(de,Me)),A.close()}else ie(tn,`RPC '${e}' stream ${o} received:`,F),q.__(F)}})),to.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Y1()}}function cC(r){return new to(r)}function cp(){return typeof document<"u"?document:null}function Bh(r){return new dI(r,!0)}to.c_=!1;class qE{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const x0="PersistentStream";class HE{constructor(e,n,i,o,c,f,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new se(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ie(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends HE{constructor(e,n,i,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gI(this.serializer,e),i=(function(c){if(!("targetChange"in c))return ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Ls(f.readTime):ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=kp(this.serializer),n.addTarget=(function(c,f){let p;const g=f.target;if(p=Cp(g)?{documents:vI(c,g)}:{query:EI(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=NE(c,f.resumeToken);const y=Op(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){p.readTime=Th(c,f.snapshotVersion.toTimestamp());const y=Op(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=AI(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.K_(n)}}class hC extends HE{constructor(e,n,i,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_I(e.writeResults,e.commitTime),i=Ls(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=kp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>yI(this.serializer,i)))};this.K_(n)}}class fC{}class dC extends fC{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Mp(n,i),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Q.UNKNOWN,c.toString())}))}jo(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,Mp(n,i),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Q.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pC(r,e,n,i){return new dC(r,e,n,i)}class mC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class gC{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{i.enqueueAndForget((async()=>{na(this)&&(ie(ea,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await lc(y),y.Va.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Va=new mC(i,o)}}async function qh(r){if(na(r))for(const e of r.Ra)await e(!0)}async function lc(r){for(const e of r.Ra)await e(!1)}function FE(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Em(n)?vm(n):To(n).O_()&&_m(n,e))}function ym(r,e){const n=Te(r),i=To(n);n.Ia.delete(e),i.O_()&&GE(n,e),n.Ia.size===0&&(i.O_()?i.L_():na(n)&&n.Va.set("Unknown"))}function _m(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).Z_(e)}function GE(r,e){r.da.$e(e),To(r).X_(e)}function vm(r){r.da=new cI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Va.ua()}function Em(r){return na(r)&&!To(r).x_()&&r.Ia.size>0}function na(r){return Te(r).Ea.size===0}function KE(r){r.da=void 0}async function yC(r){r.Va.set("Online")}async function _C(r){r.Ia.forEach(((e,n)=>{_m(r,e)}))}async function vC(r,e){KE(r),Em(r)?(r.Va.ha(e),vm(r)):r.Va.set("Unknown")}async function EC(r,e,n){if(r.Va.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){ie(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bh(r,i)}else if(e instanceof th?r.da.Xe(e):e instanceof IE?r.da.st(e):r.da.tt(e),!n.isEqual(ve.min()))try{const i=await BE(r.localStore);n.compareTo(i)>=0&&await(function(c,f){const p=c.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(Wt.EMPTY_BYTE_STRING,A.snapshotVersion)),GE(c,g);const S=new Zi(A.target,g,y,A.sequenceNumber);_m(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){ie(ea,"Failed to raise snapshot:",i),await bh(r,i)}}async function bh(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await lc(r),r.Va.set("Offline"),n||(n=()=>BE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await qh(r)}))}function YE(r,e){return e().catch((n=>bh(r,n,e)))}async function Hh(r){const e=Te(r),n=cr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sm;for(;TC(e);)try{const o=await tC(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,AC(e,o)}catch(o){await bh(e,o)}QE(e)&&XE(e)}function TC(r){return na(r)&&r.Ta.length<10}function AC(r,e){r.Ta.push(e);const n=cr(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function QE(r){return na(r)&&!cr(r).x_()&&r.Ta.length>0}function XE(r){cr(r).start()}async function bC(r){cr(r).ra()}async function xC(r){const e=cr(r);for(const n of r.Ta)e.ea(n.mutations)}async function SC(r,e,n){const i=r.Ta.shift(),o=um.from(i,e,n);await YE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Hh(r)}async function wC(r,e){e&&cr(r).Y_&&await(async function(i,o){if((function(f){return aI(f)&&f!==Q.ABORTED})(o.code)){const c=i.Ta.shift();cr(i).B_(),await YE(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Hh(i)}})(r,e),QE(r)&&XE(r)}async function S0(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),ie(ea,"RemoteStore received new credentials");const i=na(n);n.Ea.add(3),await lc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function RC(r,e){const n=Te(r);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await lc(n),n.Va.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(n,i,o){const c=Te(n);return c.sa(),new uC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:yC.bind(null,r),Yo:_C.bind(null,r),t_:vC.bind(null,r),J_:EC.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Em(r)?vm(r):r.Va.set("Unknown")):(await r.ma.stop(),KE(r))}))),r.ma}function cr(r){return r.fa||(r.fa=(function(n,i,o){const c=Te(n);return c.sa(),new hC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bC.bind(null,r),t_:wC.bind(null,r),ta:xC.bind(null,r),na:SC.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tm{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const f=Date.now()+i,p=new Tm(e,n,f,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(r,e){if(ci("AsyncQueue",`${e}: ${r}`),Eo(r))return new se(Q.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||he.comparator(n.key,i.key):(n,i)=>he.comparator(n.key,i.key),this.keyedMap=Vl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new no;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class w0{constructor(){this.ga=new ft(he.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ho{constructor(e,n,i,o,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new ho(e,n,no.emptySet(n),f,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class IC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class CC{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Te(n),c=o.queries;o.queries=R0(),c.forEach(((f,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new se(Q.ABORTED,"Firestore shutting down"))}}function R0(){return new ta((r=>mE(r)),kh)}async function $E(r,e){const n=Te(r);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(i=2):(c=new IC,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Am(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&bm(n)}async function JE(r,e){const n=Te(r),i=e.query;let o=3;const c=n.queries.get(i);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function NC(r,e){const n=Te(r);let i=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.ba)p.Fa(o)&&(i=!0);f.wa=o}}i&&bm(n)}function DC(r,e,n){const i=Te(r),o=i.queries.get(e);if(o)for(const c of o.ba)c.onError(n);i.queries.delete(e)}function bm(r){r.Ca.forEach((e=>{e.next()}))}var Up,I0;(I0=Up||(Up={})).Ma="default",I0.Cache="cache";class ZE{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}class WE{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class OC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Oe(),this.mutatedKeys=Oe(),this.eu=gE(e),this.tu=new no(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new w0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const w=o.get(A),q=Lh(this.query,S)?S:null,Z=!!w&&this.mutatedKeys.has(w.key),F=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;w&&q?w.data.isEqual(q.data)?Z!==F&&(i.track({type:3,doc:q}),W=!0):this.su(w,q)||(i.track({type:2,doc:q}),W=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(p=!0)):!w&&q?(i.track({type:0,doc:q}),W=!0):w&&!q&&(i.track({type:1,doc:w}),W=!0,(g||y)&&(p=!0)),W&&(q?(f=f.add(q),c=F?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),i.track({type:1,doc:A})}return{tu:f,iu:i,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((A,S)=>(function(q,Z){const F=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:W})}};return F(q)-F(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new ho(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Oe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new eT(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new WE(i))})),n}cu(e){this.Za=e.ks,this.Ya=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xm="SyncEngine";class MC{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class VC{constructor(e){this.key=e,this.hu=!1}}class kC{constructor(e,n,i,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((p=>mE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(he.comparator),this.Au=new Map,this.Vu=new dm,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LC(r,e,n=!0){const i=aT(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tT(i,e,n,!0),o}async function jC(r,e){const n=aT(r);await tT(n,e,!0,!1)}async function tT(r,e,n,i){const o=await nC(r.localStore,ks(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await UC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&FE(r.remoteStore,o),p}async function UC(r,e,n,i,o){r.pu=(S,w,q)=>(async function(F,W,le,ce){let de=W.view.ru(le);de.Ss&&(de=await E0(F.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,de))));const Me=ce&&ce.targetChanges.get(W.targetId),et=ce&&ce.targetMismatches.get(W.targetId)!=null,Ve=W.view.applyChanges(de,F.isPrimaryClient,Me,et);return N0(F,W.targetId,Ve.au),Ve.snapshot})(r,S,w,q);const c=await E0(r.localStore,e,!0),f=new OC(e,c.ks),p=f.ru(c.documents),g=oc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);N0(r,n,y.au);const A=new MC(e,n,f);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function PC(r,e,n){const i=Te(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((f=>!kh(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ym(i.remoteStore,o.targetId),Pp(i,o.targetId)})).catch(vo)):(Pp(i,o.targetId),await Lp(i.localStore,o.targetId,!0))}async function zC(r,e){const n=Te(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ym(n.remoteStore,i.targetId))}async function BC(r,e,n){const i=QC(r);try{const o=await(function(f,p){const g=Te(f),y=rt.now(),A=p.reduce(((q,Z)=>q.add(Z.key)),Oe());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=hi(),F=Oe();return g.xs.getEntries(q,A).next((W=>{Z=W,Z.forEach(((le,ce)=>{ce.isValidDocument()||(F=F.add(le))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,Z))).next((W=>{S=W;const le=[];for(const ce of p){const de=tI(ce,S.get(ce.key).overlayedDocument);de!=null&&le.push(new pr(ce.key,de,oE(de.value.mapValue),Nn.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,le,p)})).next((W=>{w=W;const le=W.applyToLocalDocumentSet(S,F);return g.documentOverlayCache.saveOverlays(q,W.batchId,le)}))})).then((()=>({batchId:w.batchId,changes:_E(S)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new ft(De)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(i,o.batchId,n),await cc(i,o.changes),await Hh(i.remoteStore)}catch(o){const c=Am(o,"Failed to persist write");n.reject(c)}}async function nT(r,e){const n=Te(r);try{const i=await WI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await cc(n,i,e)}catch(i){await vo(i)}}function C0(r,e,n){const i=Te(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Te(f);g.onlineState=p;let y=!1;g.queries.forEach(((A,S)=>{for(const w of S.ba)w.va(p)&&(y=!0)})),y&&bm(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qC(r,e,n){const i=Te(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let f=new ft(he.comparator);f=f.insert(c,sn.newNoDocument(c,ve.min()));const p=Oe().add(c),g=new zh(ve.min(),new Map,new ft(De),f,p);await nT(i,g),i.Ru=i.Ru.remove(c),i.Au.delete(e),Sm(i)}else await Lp(i.localStore,e,!1).then((()=>Pp(i,e,n))).catch(vo)}async function HC(r,e){const n=Te(r),i=e.batch.batchId;try{const o=await ZI(n.localStore,e);iT(n,i,null),sT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await cc(n,o)}catch(o){await vo(o)}}async function FC(r,e,n){const i=Te(r);try{const o=await(function(f,p){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ge(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>g.localDocuments.getDocuments(y,A)))}))})(i.localStore,e);iT(i,e,n),sT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await cc(i,o)}catch(o){await vo(o)}}function sT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function iT(r,e,n){const i=Te(r);let o=i.du[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||rT(r,i)}))}function rT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(ym(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Sm(r))}function N0(r,e,n){for(const i of n)i instanceof WE?(r.Vu.addReference(i.key,e),GC(r,i)):i instanceof eT?(ie(xm,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||rT(r,i.key)):ye(19791,{wu:i})}function GC(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(ie(xm,"New document in limbo: "+n),r.Eu.add(i),Sm(r))}function Sm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new he(nt.fromString(e)),i=r.fu.next();r.Au.set(i,new VC(n)),r.Ru=r.Ru.insert(n,i),FE(r.remoteStore,new Zi(ks(lm(n.path)),i,"TargetPurposeLimboResolution",Oh.ce))}}async function cc(r,e,n){const i=Te(r),o=[],c=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{f.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const A=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=mm.Es(g.targetId,y);c.push(A)}})))})),await Promise.all(f),i.Pu.J_(o),await(async function(g,y){const A=Te(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(w=>J.forEach(w.Ts,(q=>A.persistence.referenceDelegate.addReference(S,w.targetId,q))).next((()=>J.forEach(w.Is,(q=>A.persistence.referenceDelegate.removeReference(S,w.targetId,q)))))))))}catch(S){if(!Eo(S))throw S;ie(gm,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const q=A.vs.get(w),Z=q.snapshotVersion,F=q.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(w,F)}}})(i.localStore,c))}async function KC(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){ie(xm,"User change. New user:",e.toKey());const i=await zE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new se(Q.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cc(n,i.Ns)}}function YC(r,e){const n=Te(r),i=n.Au.get(e);if(i&&i.hu)return Oe().add(i.key);{let o=Oe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function aT(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qC.bind(null,e),e.Pu.J_=NC.bind(null,e.eventManager),e.Pu.yu=DC.bind(null,e.eventManager),e}function QC(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JI(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new PE(pm.Vi,this.serializer)}Du(e){return new iC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class XC extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Ah,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MI(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new PE((i=>Ah.Vi(i,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>C0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await RC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CC})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),i=cC(e.databaseInfo);return pC(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,f,p){return new gC(i,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>C0(this.syncEngine,n,0)),(function(){return b0.v()?new b0:new rC})())}createSyncEngine(e,n){return(function(o,c,f,p,g,y,A){const S=new kC(o,c,f,p,g,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Te(n);ie(ea,"RemoteStore shutting down."),i.Ea.add(5),await lc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zp.provider={build:()=>new zp};class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ur="FirestoreClient";class $C{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async f=>{ie(ur,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(ie(ur,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Am(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function up(r,e){r.asyncQueue.verifyOperationInProgress(),ie(ur,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await zE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function D0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await JC(r);ie(ur,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>S0(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>S0(e.remoteStore,o))),r._onlineComponents=e}async function JC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie(ur,"Using user provided OfflineComponentProvider");try{await up(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await up(r,new xh)}}else ie(ur,"Using default OfflineComponentProvider"),await up(r,new XC(void 0));return r._offlineComponents}async function lT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie(ur,"Using user provided OnlineComponentProvider"),await D0(r,r._uninitializedComponentsProvider._online)):(ie(ur,"Using default OnlineComponentProvider"),await D0(r,new zp))),r._onlineComponents}function ZC(r){return lT(r).then((e=>e.syncEngine))}async function cT(r){const e=await lT(r),n=e.eventManager;return n.onListen=LC.bind(null,e.syncEngine),n.onUnlisten=PC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zC.bind(null,e.syncEngine),n}function WC(r,e,n={}){const i=new ai;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const A=new oT({next:w=>{A.Nu(),f.enqueueAndForget((()=>JE(c,S)));const q=w.docs.has(p);!q&&w.fromCache?y.reject(new se(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&w.fromCache&&g&&g.source==="server"?y.reject(new se(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new ZE(lm(p.path),A,{includeMetadataChanges:!0,Ka:!0});return $E(c,S)})(await cT(r),r.asyncQueue,e,n,i))),i.promise}function eN(r,e,n={}){const i=new ai;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const A=new oT({next:w=>{A.Nu(),f.enqueueAndForget((()=>JE(c,S))),w.fromCache&&g.source==="server"?y.reject(new se(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new ZE(p,A,{includeMetadataChanges:!0,Ka:!0});return $E(c,S)})(await cT(r),r.asyncQueue,e,n,i))),i.promise}function tN(r,e){const n=new ai;return r.asyncQueue.enqueueAndForget((async()=>BC(await ZC(r),e,n))),n.promise}function uT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const nN="ComponentProvider",O0=new Map;function sN(r,e,n,i,o){return new xR(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,uT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const hT="firestore.googleapis.com",M0=!0;class V0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hT,this.ssl=M0}else this.host=e.host,this.ssl=e.ssl??M0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DI)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sR;switch(i.type){case"firstParty":return new oR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=O0.get(n);i&&(ie(nN,"Removing Datastore"),O0.delete(n),i.terminate())})(this),Promise.resolve()}}function iN(r,e,n,i={}){r=ui(r,Fh);const o=po(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(W0(`https://${p}`),e1("Firestore",!0)),c.host!==hT&&c.host!==p&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:i};if(!Xr(g,f)&&(r._setSettings(g),i.mockUserToken)){let y,A;if(typeof i.mockUserToken=="string")y=i.mockUserToken,A=nn.MOCK_USER;else{y=hx(i.mockUserToken,r._app?.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(S)}r._authCredentials=new iR(new X1(y,A))}}class Ao{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ic(n,Mt._jsonSchema))return new Mt(e,i||null,new he(nt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class sr extends Ao{constructor(e,n,i){super(e,n,lm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new he(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function nh(r,e,...n){if(r=Pt(r),$1("collection","path",e),r instanceof Fh){const i=nt.fromString(e,...n);return Yv(i),new sr(r,null,i)}{if(!(r instanceof Mt||r instanceof sr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return Yv(i),new sr(r.firestore,null,i)}}function Ds(r,e,...n){if(r=Pt(r),arguments.length===1&&(e=nm.newId()),$1("doc","path",e),r instanceof Fh){const i=nt.fromString(e,...n);return Kv(i),new Mt(r,null,new he(i))}{if(!(r instanceof Mt||r instanceof sr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return Kv(i),new Mt(r.firestore,r instanceof sr?r.converter:null,new he(i))}}const k0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qE(this,"async_queue_retry"),this._c=()=>{const i=cp();i&&ie(k0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ie(k0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",j0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tm.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:j0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class bo extends Fh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new L0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function rN(r,e){const n=typeof r=="object"?r:i1(),i=typeof r=="string"?r:mh,o=Kp(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=cx("firestore");c&&iN(o,...c)}return o}function Gh(r){if(r._terminated)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aN(r),r._firestoreClient}function aN(r){const e=r._freezeSettings(),n=sN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new $C(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Wt.fromBase64String(e))}catch(n){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ic(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rm{constructor(e){this._methodName=e}}class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(ic(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Ot("string",js._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ic(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rs(e.vectorValues);throw new se(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Ot("string",rs._jsonSchemaVersion),vectorValues:Ot("object")};const oN=/^__.*__$/;class lN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class Im{constructor(e,n,i,o,c,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dT(this.dataSource)&&oN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class cN{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Bh(e)}createContext(e,n,i,o=!1){return new Im({dataSource:e,methodName:n,targetDoc:i,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cm(r){const e=r._freezeSettings(),n=Bh(r._databaseId);return new cN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function pT(r,e,n,i,o,c={}){const f=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Nm("Data must be an object, but it was:",f,i);const p=mT(i,f);let g,y;if(c.merge)g=new Cn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const w=fo(e,S,n);if(!f.contains(w))throw new se(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);_T(A,w)||A.push(w)}g=new Cn(A),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new lN(new _n(p),g,y)}class Kh extends Rm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function uN(r,e,n,i){const o=r.createContext(1,e,n);Nm("Data must be an object, but it was:",o,i);const c=[],f=_n.empty();dr(i,((g,y)=>{const A=yT(e,g,n);y=Pt(y);const S=o.childContextForFieldPath(A);if(y instanceof Kh)c.push(A);else{const w=uc(y,S);w!=null&&(c.push(A),f.set(A,w))}}));const p=new Cn(c);return new fT(f,p,o.fieldTransforms)}function hN(r,e,n,i,o,c){const f=r.createContext(1,e,n),p=[fo(e,i,n)],g=[o];if(c.length%2!=0)throw new se(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(fo(e,c[w])),g.push(c[w+1]);const y=[],A=_n.empty();for(let w=p.length-1;w>=0;--w)if(!_T(y,p[w])){const q=p[w];let Z=g[w];Z=Pt(Z);const F=f.childContextForFieldPath(q);if(Z instanceof Kh)y.push(q);else{const W=uc(Z,F);W!=null&&(y.push(q),A.set(q,W))}}const S=new Cn(y);return new fT(A,S,f.fieldTransforms)}function fN(r,e,n,i=!1){return uc(n,r.createContext(i?4:3,e))}function uc(r,e){if(gT(r=Pt(r)))return Nm("Unsupported field value:",e,r),mT(r,e);if(r instanceof Rm)return(function(i,o){if(!dT(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const c=[];let f=0;for(const p of i){let g=uc(p,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=rt.fromDate(i);return{timestampValue:Th(o.serializer,c)}}if(i instanceof rt){const c=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Th(o.serializer,c)}}if(i instanceof js)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gn)return{bytesValue:NE(o.serializer,i._byteString)};if(i instanceof Mt){const c=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof rs)return(function(f,p){const g=f instanceof rs?f.toArray():f;return{mapValue:{fields:{[rE]:{stringValue:aE},[gh]:{arrayValue:{values:g.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return cm(p.serializer,A)}))}}}}}})(i,o);if(jE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Dh(i)}`)})(r,e)}function mT(r,e){const n={};return W1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(r,((i,o)=>{const c=uc(o,e.childContextForField(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function gT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof js||r instanceof Gn||r instanceof Mt||r instanceof Rm||r instanceof rs||jE(r))}function Nm(r,e,n){if(!gT(n)||!J1(n)){const i=Dh(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function fo(r,e,n){if((e=Pt(e))instanceof wm)return e._internalPath;if(typeof e=="string")return yT(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function yT(r,e,n){if(e.search(dN)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wm(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,i,o){const c=i&&!i.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${i}`),f&&(g+=` in document ${o}`),g+=")"),new se(Q.INVALID_ARGUMENT,p+r+g)}function _T(r,e){return r.some((n=>n.isEqual(e)))}class pN{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return dr(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((i=>vt(i.doubleValue)));return new rs(n)}convertGeoPoint(e){return new js(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ar(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);Ge(LE(i),9688,{name:e});const o=new Ql(i.get(1),i.get(3)),c=new he(i.popFirst(5));return o.isEqual(n)||ci(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class vT extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}const U0="@firebase/firestore",P0="4.11.0";class ET{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(fo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends ET{data(){return super.data()}}function gN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class yN extends Dm{}function TT(r,e,...n){let i=[];e instanceof Dm&&i.push(e),i=i.concat(n),(function(c){const f=c.filter((g=>g instanceof Om)).length,p=c.filter((g=>g instanceof Yh)).length;if(f>1||f>0&&p>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Yh extends yN{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Yh(e,n,i)}_apply(e){const n=this._parse(e);return bT(e._query,n),new Ao(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=Cm(e.firestore);return(function(c,f,p,g,y,A,S){let w;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){B0(S,A);const Z=[];for(const F of S)Z.push(z0(g,c,F));w={arrayValue:{values:Z}}}else w=z0(g,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||B0(S,A),w=fN(p,f,S,A==="in"||A==="not-in");return Dt.create(y,A,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AT(r,e,n){const i=e,o=fo("where",r);return Yh._create(o,i,n)}class Om extends Dm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Om(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)bT(f,g),f=Np(f,g)})(e._query,n),new Ao(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z0(r,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&n.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!he.isDocumentKey(i))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return t0(r,new he(i))}if(n instanceof Mt)return t0(r,n._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function B0(r,e){if(!Array.isArray(r)||r.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bT(r,e){const n=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function xT(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends ET{constructor(e,n,i,o,c,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(fo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ot("string",Qr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class sh extends Qr{data(e={}){return super.data(e)}}class so{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new sh(this._firestore,this._userDataWriter,i.key,i,new Ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),A=f.indexOf(p.doc.key)),{type:_N(p.type),doc:g,oldIndex:y,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _N(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ot("string",so._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cm(e)}set(e,n,i){this._verifyNotCommitted();const o=hp(e,this._firestore),c=xT(o.converter,n,i),f=pT(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,i);return this._mutations.push(f.toMutation(o._key,Nn.none())),this}update(e,n,i,...o){this._verifyNotCommitted();const c=hp(e,this._firestore);let f;return f=typeof(n=Pt(n))=="string"||n instanceof wm?hN(this._dataReader,"WriteBatch.update",c._key,n,i,o):uN(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hp(e,this._firestore);return this._mutations=this._mutations.concat(new Ph(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hp(r,e){if((r=Pt(r)).firestore!==e)throw new se(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function EN(r){r=ui(r,Mt);const e=ui(r.firestore,bo),n=Gh(e);return WC(n,r._key).then((i=>AN(e,r,i)))}function ih(r){r=ui(r,Ao);const e=ui(r.firestore,bo),n=Gh(e),i=new vT(e);return gN(r._query),eN(n,r._query).then((o=>new so(e,i,r,o)))}function Bp(r,e,n){r=ui(r,Mt);const i=ui(r.firestore,bo),o=xT(r.converter,e,n),c=Cm(i);return Mm(i,[pT(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Nn.none())])}function TN(r){return Mm(ui(r.firestore,bo),[new Ph(r._key,Nn.none())])}function Mm(r,e){const n=Gh(r);return tN(n,e)}function AN(r,e,n){const i=n.docs.get(e._key),o=new vT(r);return new Qr(r,o,e._key,i,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}function rh(r){return r=ui(r,bo),Gh(r),new vN(r,(e=>Mm(r,e)))}(function(e,n=!0){nR(mo),ao(new $r("firestore",((i,{instanceIdentifier:o,options:c})=>{const f=i.getProvider("app").getImmediate(),p=new bo(new rR(i.getProvider("auth-internal")),new lR(f,i.getProvider("app-check-internal")),SR(f,o),f);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),tr(U0,P0,e),tr(U0,P0,"esm2020")})();const q0={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};let fp,Fn=null,Be=null;try{q0.apiKey?(fp=s1(q0),Fn=eR(fp),Be=rN(fp)):console.warn("Firebase /")}catch(r){console.error("Firebase init error:",r)}const io={geminiKey:"",openaiKey:"",googleTTSKey:"",selectedModel:"gemini",ttsProvider:"browser",userName:"Guest"},Vm=me.createContext(io);class qp{static audioCache=new Map;static currentAudio=null;static stop(){this.currentAudio&&(this.currentAudio.pause(),this.currentAudio=null),window.speechSynthesis.cancel()}static async play(e,n,i){this.stop();const o=`${n.ttsProvider}:${e}`;if(this.audioCache.has(o)){this.playBlob(this.audioCache.get(o),i);return}try{let c=null;n.ttsProvider==="google_cloud"&&n.googleTTSKey?c=await this.fetchGoogleCloudTTS(e,n.googleTTSKey):n.ttsProvider==="openai"&&n.openaiKey&&(c=await this.fetchOpenAITTS(e,n.openaiKey)),c?(this.audioCache.set(o,c),this.playBlob(c,i)):this.playBrowserTTS(e,i)}catch(c){console.error("Cloud TTS failed, using browser fallback:",c),this.playBrowserTTS(e,i)}}static playBlob(e,n){const i=new Audio(e);this.currentAudio=i,i.onended=()=>{this.currentAudio=null,n?.()},i.play().catch(o=>{console.warn("Audio play failed:",o),n?.()})}static playBrowserTTS(e,n){const i=new SpeechSynthesisUtterance(e);i.lang="fr-FR",i.rate=.9;const o=window.speechSynthesis.getVoices(),c=o.find(f=>f.lang.includes("fr")&&(f.name.includes("Google")||f.name.includes("Microsoft")))||o.find(f=>f.lang.includes("fr"));c&&(i.voice=c),i.onend=()=>n?.(),i.onerror=f=>{console.error("Browser TTS error:",f),n?.()},window.speechSynthesis.speak(i)}static async fetchGoogleCloudTTS(e,n){const i=await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:e},voice:{languageCode:"fr-FR",name:"fr-FR-Neural2-B"},audioConfig:{audioEncoding:"MP3"}})});if(!i.ok){const g=await i.json();throw new Error(g.error?.message||"Google TTS Error")}const o=await i.json(),c=window.atob(o.audioContent),f=new Uint8Array(c.length);for(let g=0;g<c.length;g++)f[g]=c.charCodeAt(g);const p=new Blob([f.buffer],{type:"audio/mp3"});return URL.createObjectURL(p)}static async fetchOpenAITTS(e,n){const i=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"tts-1",input:e,voice:"nova"})});if(!i.ok){const c=await i.json();throw new Error(c.error?.message||"OpenAI TTS Error")}const o=await i.blob();return URL.createObjectURL(o)}}const ut=r=>{if(!r)return[];const e=/([a-zA-Z-'-]+)(?:\[([^\]]+)\]|\(([^)]+)\))|([^a-zA-Z-'\[\]()]+)/gi,n=[];let i;if(Array.isArray(r))return r;if(typeof r!="string")return[];for(;(i=e.exec(r))!==null;)if(i[1]){const o=i[1],c=i[2]||i[3];n.push(c?{text:o,phonetic:c}:{text:o})}else i[4]&&n.push({text:i[4]});return n.length===0?[{text:r}]:n},bN=[{char:"A",name:"a",phonetic:"/a/",sound:"''",word_l:"ami[ami]",mean_l:"",sent_l:"C'est mon ami.",trans_l:"",word_b:"accord[ak]",mean_b:"",sent_b:"Signer un accord.",trans_b:""},{char:"B",name:"b",phonetic:"/be/",sound:"",word_l:"bonjour[bu]",mean_l:"",sent_l:"Bonjour ! Comment a va ?",trans_l:"",word_b:"budget[byd]",mean_b:"",sent_b:"Le budget annuel.",trans_b:""},{char:"C",name:"c",phonetic:"/se/",sound:"e,i/s//k/",word_l:"caf[kafe]",mean_l:"",sent_l:"Un caf, s'il vous plat.",trans_l:"",word_b:"contrat[kta]",mean_b:"",sent_b:"Signer le contrat.",trans_b:""},{char:"D",name:"d",phonetic:"/de/",sound:"",word_l:"deux[d]",mean_l:"",sent_l:"J'ai deux frres.",trans_l:"",word_b:"dlai[del]",mean_b:"",sent_b:"Respecter le dlai.",trans_b:""},{char:"E",name:"e",phonetic:"//",sound:"''",word_l:"eau[o]",mean_l:"",sent_l:"Un verre d'eau.",trans_l:"",word_b:"entreprise[tpriz]",mean_b:"",sent_b:"Crer une entreprise.",trans_b:""},{char:"F",name:"effe",phonetic:"/f/",sound:"",word_l:"fleur[fl]",mean_l:"",sent_l:"Une belle fleur.",trans_l:"",word_b:"facture[fakty]",mean_b:"",sent_b:"Payer la facture.",trans_b:""},{char:"G",name:"g",phonetic:"/e/",sound:"e,i///g/",word_l:"garon[as]",mean_l:"",sent_l:"Le petit garon.",trans_l:"",word_b:"gain[]",mean_b:"",sent_b:"Augmenter les gains.",trans_b:""},{char:"H",name:"hache",phonetic:"/a/",sound:"",word_l:"htel[otl]",mean_l:"",sent_l:" l'htel.",trans_l:"",word_b:"horaire[]",mean_b:"",sent_b:"Les horaires de travail.",trans_b:""},{char:"I",name:"i",phonetic:"/i/",sound:"''",word_l:"le[il]",mean_l:"",sent_l:"Une le paradisiaque.",trans_l:"",word_b:"investissement[vstism]",mean_b:"",sent_b:"Faire un investissement.",trans_b:""},{char:"J",name:"ji",phonetic:"/i/",sound:"",word_l:"jour[u]",mean_l:"",sent_l:"Bonjour !",trans_l:"",word_b:"projet[p]",mean_b:"",sent_b:"Lancer un projet.",trans_b:""},{char:"K",name:"ka",phonetic:"/ka/",sound:"",word_l:"kilo[kilo]",mean_l:"",sent_l:"Un kilo de pommes.",trans_l:"",word_b:"marketing[makti]",mean_b:"",sent_b:"Stratgie marketing.",trans_b:""},{char:"L",name:"elle",phonetic:"/l/",sound:"",word_l:"livre[liv]",mean_l:"",sent_l:"Lire un livre.",trans_l:"",word_b:"licenciement[lijssm]",mean_b:"",sent_b:"Le licenciement.",trans_b:""},{char:"M",name:"emme",phonetic:"/m/",sound:"",word_l:"mer[m]",mean_l:"",sent_l:"La mer est belle.",trans_l:"",word_b:"march[mae]",mean_b:"",sent_b:"tudier le march.",trans_b:""},{char:"N",name:"enne",phonetic:"/n/",sound:"",word_l:"nuit[ni]",mean_l:"",sent_l:"Cette nuit.",trans_l:"",word_b:"ngociation[nesjasj]",mean_b:"",sent_b:"La ngociation.",trans_b:""},{char:"O",name:"o",phonetic:"/o/",sound:"",word_l:"porte[pt]",mean_l:"",sent_l:"Ouvrir la porte.",trans_l:"",word_b:"objectif[bktif]",mean_b:"",sent_b:"Atteindre l'objectif.",trans_b:""},{char:"P",name:"p",phonetic:"/pe/",sound:"",word_l:"pain[p]",mean_l:"",sent_l:"Acheter du pain.",trans_l:"",word_b:"partenariat[patnja]",mean_b:"",sent_b:"Un partenariat.",trans_b:""},{char:"Q",name:"qu",phonetic:"/ky/",sound:"u/k//kw/",word_l:"quatre[kat]",mean_l:"",sent_l:"Quatre personnes.",trans_l:"",word_b:"qualit[kalite]",mean_b:"",sent_b:"Contrle qualit.",trans_b:""},{char:"R",name:"erre",phonetic:"//",sound:"",word_l:"rue[y]",mean_l:"",sent_l:"Dans la rue.",trans_l:"",word_b:"runion[eynj]",mean_b:"",sent_b:"Une runion.",trans_b:""},{char:"S",name:"esse",phonetic:"/s/",sound:"/s//z/",word_l:"soleil[slj]",mean_l:"",sent_l:"Le soleil brille.",trans_l:"",word_b:"stratgie[statei]",mean_b:"",sent_b:"La stratgie.",trans_b:""},{char:"T",name:"t",phonetic:"/te/",sound:"",word_l:"table[tabl]",mean_l:"",sent_l:"Sur la table.",trans_l:"",word_b:"travail[tavaj]",mean_b:"",sent_b:"Au travail.",trans_b:""},{char:"U",name:"u",phonetic:"/y/",sound:"",word_l:"une[yn]",mean_l:"()",sent_l:"Une belle journe.",trans_l:"",word_b:"usine[yzin]",mean_b:"",sent_b:"L'usine.",trans_b:""},{char:"V",name:"v",phonetic:"/ve/",sound:"",word_l:"vin[v]",mean_l:"",sent_l:"Un verre de vin.",trans_l:"",word_b:"vente[vt]",mean_b:"",sent_b:"La vente.",trans_b:""},{char:"W",name:"double v",phonetic:"/dublve/",sound:"",word_l:"wagon[va]",mean_l:"",sent_l:"Dans le wagon.",trans_l:"",word_b:"web[wb]",mean_b:"",sent_b:"Le web.",trans_b:""},{char:"X",name:"ixe",phonetic:"/iks/",sound:"/ks//gz/",word_l:"taxi[taksi]",mean_l:"",sent_l:"Prendre un taxi.",trans_l:"",word_b:"expert[ksp]",mean_b:"",sent_b:"Un expert.",trans_b:""},{char:"Y",name:"i grec",phonetic:"/ik/",sound:"/i//j/",word_l:"yoga[ja]",mean_l:"",sent_l:"Faire du yoga.",trans_l:"",word_b:"systme[sistm]",mean_b:"",sent_b:"Le systme.",trans_b:""},{char:"Z",name:"zde",phonetic:"/zd/",sound:"",word_l:"zoo[zo]",mean_l:"",sent_l:"Au zoo.",trans_l:"",word_b:"zone[zn]",mean_b:"",sent_b:"La zone.",trans_b:""}],xN=[{spelling:"an, am, en, em",phonetic:"//",sound:"''",examples:[{word:ut("enfant[f]"),meaning:""},{word:ut("dans[d]"),meaning:"..."},{word:ut("temps[t]"),meaning:""}]},{spelling:"in, im, ain, aim, ein",phonetic:"//",sound:"''",examples:[{word:ut("vin[v]"),meaning:""},{word:ut("pain[p]"),meaning:""},{word:ut("main[m]"),meaning:""}]},{spelling:"on, om",phonetic:"//",sound:"'ong'",examples:[{word:ut("bonjour[bu]"),meaning:""},{word:ut("nom[n]"),meaning:""},{word:ut("maison[mz]"),meaning:""}]},{spelling:"un, um",phonetic:"//",sound:"''",examples:[{word:ut("un[]"),meaning:""},{word:ut("lundi[ldi]"),meaning:""},{word:ut("parfum[paf]"),meaning:""}]}],SN=[{name:" + ",description:"les, desh",pattern:"les + /hdes + /h",examples:[{text:ut("les[le-z] amis"),translation:"le-z-ami"},{text:ut("des[de-z] amis"),translation:"de-z-ami"}]},{name:" + ",description:"",pattern:" + ",examples:[{text:ut("petit[pti-t] ami"),translation:"pti-t-ami"},{text:ut("grand[-t] homme"),translation:"-t-m"}]},{name:" + ",description:"",pattern:"nous/vous/ils/elles + ",examples:[{text:ut("nous[nu-z] avons"),translation:"nu-z-av"},{text:ut("ils[il-z] ont"),translation:"il-z-"}]},{name:"est + ",description:"tre",pattern:"est + ",examples:[{text:ut("c'est[s-t] un"),translation:"s-t-"},{text:ut("il est[il--t] "),translation:"il--t-a"}]}],wN=()=>bN.map(r=>({char:r.char,name:r.name,phonetic:r.phonetic,sound:r.sound,examples:{lifestyle:{word:ut(r.word_l),meaning:r.mean_l,sentence:ut(r.sent_l),translation:r.trans_l},business:{word:ut(r.word_b),meaning:r.mean_b,sentence:ut(r.sent_b),translation:r.trans_b}}}));class ht{static getSettings(){try{const e=localStorage.getItem("francais_app_settings");return e?{...io,...JSON.parse(e)}:io}catch{return io}}static saveSettings(e){localStorage.setItem("francais_app_settings",JSON.stringify(e))}static getDB(){try{const e=JSON.parse(localStorage.getItem("francais_app_db")||"{}");return{courses:Array.isArray(e.courses)?e.courses:[],srsItems:Array.isArray(e.srsItems)?e.srsItems:[],notebookItems:Array.isArray(e.notebookItems)?e.notebookItems:[]}}catch{return{courses:[],srsItems:[],notebookItems:[]}}}static saveDB(e){localStorage.setItem("francais_app_db",JSON.stringify(e))}}class km{static async loadSettings(e){let n=ht.getSettings();if(e&&Be)try{const i=Ds(Be,"users",e.uid,"settings","general"),o=await EN(i);if(o.exists()){const c=o.data();n={...n,...c},ht.saveSettings(n)}}catch(i){console.error("Sync fetch failed",i)}return n}static async saveSettings(e,n){if(ht.saveSettings(n),e&&Be)try{await Bp(Ds(Be,"users",e.uid,"settings","general"),n)}catch(i){console.error("Cloud save failed",i)}}static async archiveCourse(e,n){if(e){if(Be){const i=rh(Be),o=Ds(Be,"users",e.uid,"courses",n.id);i.set(o,n),n.vocabulary.forEach((c,f)=>{const p=`vocab-${n.id}-${f}`,g=Ds(Be,"users",e.uid,"srs_items",p),y={id:p,type:"vocab",content:c,srs_level:0,next_review:Date.now()};i.set(g,y)}),await i.commit()}}else{const i=ht.getDB();i.courses.find(o=>o.id===n.id)||(i.courses.push(n),n.vocabulary.forEach((o,c)=>{i.srsItems.push({id:`vocab-${n.id}-${c}`,type:"vocab",content:o,srs_level:0,next_review:Date.now()})}),ht.saveDB(i))}}static async getReviewQueue(e){const n=Date.now();if(e){if(Be){const i=TT(nh(Be,"users",e.uid,"srs_items"),AT("next_review","<=",n)),o=await ih(i),c=[];return o.forEach(f=>c.push(f.data())),c}}else return ht.getDB().srsItems.filter(o=>o.next_review<=n);return[]}static async updateSRS(e,n,i){const o=[0,1,3,7,14,30];if(i==="hard"?n.srs_level=Math.max(0,n.srs_level-1):i==="good"?n.srs_level=Math.min(5,n.srs_level+1):i==="easy"&&(n.srs_level=Math.min(5,n.srs_level+2)),n.next_review=Date.now()+o[n.srs_level]*864e5,e)Be&&await Bp(Ds(Be,"users",e.uid,"srs_items",n.id),n,{merge:!0});else{const c=ht.getDB(),f=c.srsItems.findIndex(p=>p.id===n.id);f!==-1&&(c.srsItems[f]=n,ht.saveDB(c))}}}class ro{static async listAllItems(e,n){if(!e||!Be){let f=ht.getDB().notebookItems||[];return n?.type&&(f=f.filter(p=>p.type===n.type)),n?.groupId&&(f=f.filter(p=>p.groupId===n.groupId)),f.sort((p,g)=>(g.createdAt||0)-(p.createdAt||0)),f}const i=await ih(nh(Be,"users",e.uid,"notebook_items"));let o=[];return i.forEach(c=>o.push(c.data())),n?.type&&(o=o.filter(c=>c.type===n.type)),n?.groupId&&(o=o.filter(c=>c.groupId===n.groupId)),o.sort((c,f)=>(f.createdAt||0)-(c.createdAt||0)),o}static async addVocabItems(e,n,i,o){const c=Date.now(),f=ht.getDB(),p=new Set;for(const A of f.notebookItems)A.type==="vocab"&&A.groupId===n&&A.dedupKey&&p.add(A.dedupKey);const g=[];for(const A of o){const S=IN(A);if(p.has(S))continue;p.add(S);const w=dp(n,"vocab",S);g.push({id:w,groupId:n,courseId:i,type:"vocab",dedupKey:S,content:A,createdAt:c,srs_level:0,next_review:c})}if(!g.length)return{added:0,skipped:o.length};if(!e||!Be)return f.notebookItems.push(...g),ht.saveDB(f),{added:g.length,skipped:o.length-g.length};const y=rh(Be);for(const A of g){const S=Ds(Be,"users",e.uid,"notebook_items",A.id);y.set(S,A,{merge:!0})}return await y.commit(),{added:g.length,skipped:o.length-g.length}}static async deleteItem(e,n){if(!e||!Be){const i=ht.getDB();i.notebookItems=i.notebookItems.filter(o=>o.id!==n),ht.saveDB(i);return}await TN(Ds(Be,"users",e.uid,"notebook_items",n))}static async addGrammarItems(e,n,i,o){const c=Date.now(),f=o.map(g=>{const y=`${g.point}__${JSON.stringify(g.example?.text||[])}`;return{id:dp(n,"grammar",y),groupId:n,courseId:i,type:"grammar",content:g,createdAt:c,srs_level:0,next_review:c}});if(!e||!Be){const g=ht.getDB();return g.notebookItems.push(...f),ht.saveDB(g),{added:f.length}}const p=rh(Be);for(const g of f){const y=Ds(Be,"users",e.uid,"notebook_items",g.id);p.set(y,g,{merge:!1})}return await p.commit(),{added:f.length}}static async addTextItems(e,n,i,o){const c=Date.now(),f=o.map(g=>{const A=`${ST(g.text)}__${g.translation||""}`;return{id:dp(n,"text",A),groupId:n,courseId:i,type:"text",content:g,createdAt:c,srs_level:0,next_review:c}});if(!e||!Be){const g=ht.getDB();return g.notebookItems.push(...f),ht.saveDB(g),{added:f.length}}const p=rh(Be);for(const g of f){const y=Ds(Be,"users",e.uid,"notebook_items",g.id);p.set(y,g,{merge:!1})}return await p.commit(),{added:f.length}}static async listGroups(e){if(!e||!Be){const o=ht.getDB(),c=new Map;for(const f of o.notebookItems)c.set(f.groupId,(c.get(f.groupId)||0)+1);return Array.from(c.entries()).map(([f,p])=>({groupId:f,count:p}))}const n=await ih(nh(Be,"users",e.uid,"notebook_items")),i=new Map;return n.forEach(o=>{const c=o.data();i.set(c.groupId,(i.get(c.groupId)||0)+1)}),Array.from(i.entries()).map(([o,c])=>({groupId:o,count:c}))}static async getReviewQueue(e,n){const i=Date.now();if(!e||!Be){let g=ht.getDB().notebookItems.filter(y=>y.next_review<=i);return n?.type&&(g=g.filter(y=>y.type===n.type)),n?.groupId&&(g=g.filter(y=>y.groupId===n.groupId)),g.sort((y,A)=>y.next_review-A.next_review),g}const o=TT(nh(Be,"users",e.uid,"notebook_items"),AT("next_review","<=",i)),c=await ih(o);let f=[];return c.forEach(p=>f.push(p.data())),n?.type&&(f=f.filter(p=>p.type===n.type)),n?.groupId&&(f=f.filter(p=>p.groupId===n.groupId)),f.sort((p,g)=>p.next_review-g.next_review),f}static async updateSRS(e,n,i){const o=[0,1,3,7,14,30];if(i==="hard"?n.srs_level=Math.max(0,n.srs_level-1):i==="good"?n.srs_level=Math.min(5,n.srs_level+1):i==="easy"&&(n.srs_level=Math.min(5,n.srs_level+2)),n.next_review=Date.now()+o[n.srs_level]*864e5,!e||!Be){const c=ht.getDB(),f=c.notebookItems.findIndex(p=>p.id===n.id);f!==-1&&(c.notebookItems[f]=n,ht.saveDB(c));return}await Bp(Ds(Be,"users",e.uid,"notebook_items",n.id),n,{merge:!0})}}const RN=r=>(r||"").trim().toLowerCase().replace(/\s+/g," ").replace(/[^\p{L}\p{N}\s]+/gu,""),H0=(r,e)=>`${RN(r)}__${e}`,ST=r=>Array.isArray(r)?r.map(e=>e.text||"").join(""):"",IN=r=>ST(r.word).trim().toLowerCase(),CN=r=>{let e=2166136261;for(let n=0;n<r.length;n++)e^=r.charCodeAt(n),e=Math.imul(e,16777619);return(e>>>0).toString(16)},dp=(r,e,n)=>`${e}-${CN(`${r}::${e}::${n}`)}`;class Fe{static LEVEL_CONFIG={A1:{vocab:12,grammar:3,dialogue:6,essay:8},A2:{vocab:15,grammar:3,dialogue:8,essay:10},B1:{vocab:18,grammar:4,dialogue:10,essay:12},B2:{vocab:22,grammar:4,dialogue:12,essay:14},C1:{vocab:25,grammar:5,dialogue:14,essay:16},C2:{vocab:30,grammar:5,dialogue:16,essay:18}};static COURSE_PROMPT=`
You are a professional French CEFR instructor.

Task:
Create a complete, pedagogically sound French learning session about [TOPIC],
strictly following target CEFR level: [LEVEL].

==================================================
CEFR LEVEL CONTROL (CUMULATIVE, MANDATORY)
==================================================
- Higher levels INCLUDE all lower-level abilities and ADD new ones.
- Do NOT exclude lower-level grammar/vocab at higher levels.
- Do NOT introduce grammar above [LEVEL].

==================================================
PER-LEVEL DIFFICULTY CONSTRAINTS (STRICT)
==================================================

A1 (Dbutant):
- Present tense only (prsent de l'indicatif)
- Basic vocabulary: greetings, numbers, family, food
- Simple sentences: SVO structure
- Avoid: past tenses, future, subjunctive, complex clauses

A2 (lmentaire):
- Includes A1, plus: pass compos, futur proche
- Basic descriptions, simple comparisons
- Avoid: subjunctive, conditional, plus-que-parfait

B1 (Seuil):
- Includes A2, plus: imparfait, futur simple, conditionnel prsent
- Basic subjunctive (il faut que, je veux que)
- Longer sentences with relative clauses (qui, que, o)
- Avoid: complex subjunctive, literary tenses

B2 (Avanc):
- Includes B1, plus: plus-que-parfait, conditionnel pass
- Full subjunctive usage
- Complex sentence structures
- Abstract topics and opinions
- Avoid: literary tenses (pass simple)

C1 (Autonome):
- Includes B2, plus: nuanced expressions, idioms
- Complex argumentation
- Register variation (formal/informal)
- Literary and academic vocabulary

C2 (Matrise):
- All previous levels with precision and fluency
- Rare and sophisticated vocabulary
- Native-like expression

==================================================
OUTPUT SIZE (MUST FOLLOW EXACTLY)
==================================================
- Vocabulary items: EXACTLY [VOCAB_COUNT]
- Grammar points: EXACTLY [GRAMMAR_COUNT]
- Dialogue lines: EXACTLY [DIALOGUE_COUNT]
- Essay sentences: EXACTLY [ESSAY_COUNT]

==================================================
CONTENT DIVERSITY (CRITICAL)
==================================================
Dialogue and Essay MUST be meaningfully different:
1) Dialogue = spoken, turn-based, situational interaction.
2) Essay = written narrative/explanation. NOT a paraphrase of the dialogue.

==================================================
OUTPUT REQUIREMENTS (STRICT)
==================================================
- Output MUST be strict valid JSON only. No markdown, no commentary.
- Use SIMPLIFIED CHINESE ONLY for explanations/translations.
- All French text MUST use Phonetic Segment format:
  {"text":"mot","phonetic":"mo"}
- Include IPA-style phonetic notation for each word.
- For each vocabulary item, include gender (m/f/none) and plural form.

==================================================
JSON STRUCTURE
==================================================
{
  "topic": "[TOPIC]",
  "title": [PhoneticSegment...],  // CRITICAL: title MUST be in FRENCH (not Chinese), with phonetic notation
  "vocabulary": [
    {
      "id": "v1",
      "word": [...],
      "gender": "m | f | none",
      "plural": "plural form or same",
      "meaning": "chinese",
      "grammar_tag": "noun | verb | adjective | adverb | pronoun | preposition | expression",
      "example": {
        "text": [...],
        "translation": "chinese",
        "grammar_point": "concise chinese explanation"
      }
    }
  ],
  "grammar": [
    {
      "id": "g1",
      "point": "...",
      "explanation": "chinese",
      "example": {
        "text": [...],
        "translation": "chinese"
      }
    }
  ],
  "texts": {
    "dialogue": [
      {
        "id": "d1",
        "role": "A",
        "name": "...",
        "text": [...],
        "translation": "chinese"
      }
    ],
    "essay": {
      "title": "...",
      "content": [
        {
          "id": "e1",
          "text": [...],
          "translation": "chinese"
        }
      ]
    }
  }
}
`;static GEMINI_PART_PROMPT=`
Role: Expert French CEFR Instructor.
You must output STRICT valid JSON only. No markdown. No extra text.
Use SIMPLIFIED CHINESE only for meanings/explanations/translations.
All French text MUST be Phonetic Segment format: {"text":"mot","phonetic":"mo"}.
Target: [TOPIC], level: [LEVEL].

Output size constraints:
- Vocabulary items: EXACTLY [VOCAB_COUNT]
- Grammar points: EXACTLY [GRAMMAR_COUNT]
- Dialogue lines: EXACTLY [DIALOGUE_COUNT]
- Essay sentences: EXACTLY [ESSAY_COUNT]

SECTION: [SECTION]
Return ONLY the JSON for this section according to the schema below.

Schemas:
1) SECTION=meta
{ "topic":"[TOPIC]", "title":[PhoneticSegment...] }  // CRITICAL: title MUST be in FRENCH, not Chinese

2) SECTION=vocabulary
{ "vocabulary":[ { "id":"v1", "word":[...], "gender":"m|f|none", "plural":"...", "meaning":"...", "grammar_tag":"...", "example":{ "text":[...], "translation":"...", "grammar_point":"..." } } ] }

3) SECTION=grammar
{ "grammar":[ { "id":"g1", "point":"...", "explanation":"...", "example":{ "text":[...], "translation":"..." } } ] }

4) SECTION=dialogue
{ "texts": { "dialogue":[ { "id":"d1", "role":"A", "name":"...", "text":[...], "translation":"..." } ] } }

5) SECTION=essay
{ "texts": { "essay": { "title":"...", "content":[ { "id":"e1", "text":[...], "translation":"..." } ] } } }

CRITICAL:
- Each SECTION must be internally complete and valid JSON.
- Respect EXACT counts for the requested section.
- Do NOT include other sections.
`;static DICT_PROMPT=`
Explain French word/phrase. Output JSON.
CRITICAL: Use SIMPLIFIED CHINESE. NO ENGLISH.
Include gender for nouns, conjugation info for verbs.
Structure:
{
  "word": [{"text":"mot","phonetic":"mo"}],
  "gender": "m | f | none",
  "plural": "plural form",
  "meaning": "chinese",
  "grammar_tag": "part of speech",
  "example": { "text": [{"text":"...","phonetic":"..."}], "translation": "chinese", "grammar_point": "Detailed grammar analysis in Chinese" }
}
`;static VISION_PROMPT=`
Identify main object in image. Output JSON in French.
CRITICAL: Use SIMPLIFIED CHINESE for meaning.
Structure:
{
  "word": [{"text":"mot","phonetic":"mo"}],
  "gender": "m | f | none",
  "plural": "plural form",
  "meaning": "chinese",
  "grammar_tag": "noun",
  "example": { "text": [{"text":"...","phonetic":"..."}], "translation": "chinese", "grammar_point": "usage note" }
}
`;static extractJSON(e){const n=e.indexOf("{"),i=e.lastIndexOf("}");return n===-1||i===-1?e:e.substring(n,i+1)}static parseJSONSafe(e){const n=this.extractJSON(e).replace(/\u00a0/g," ").replace(/,\s*([}\]])/g,"$1");return JSON.parse(n)}static normalizeSegment(e){return e}static normalizeSegments(e){return Array.isArray(e)?e.map(n=>Fe.normalizeSegment(n)):[]}static normalizeVocabItem(e){return{...e,word:Fe.normalizeSegments(e.word),example:{...e.example,text:Fe.normalizeSegments(e.example?.text||[])}}}static normalizeGrammarItem(e){return{...e,example:{...e.example,text:Fe.normalizeSegments(e.example?.text||[])}}}static normalizeTextItem(e){return{...e,text:Fe.normalizeSegments(e.text)}}static normalizeCourse(e){return{...e,title:Fe.normalizeSegments(e.title),vocabulary:e.vocabulary.map(n=>Fe.normalizeVocabItem(n)),grammar:e.grammar.map(n=>Fe.normalizeGrammarItem(n)),texts:{...e.texts,dialogue:e.texts.dialogue.map(n=>Fe.normalizeTextItem(n)),essay:{...e.texts.essay,content:e.texts.essay.content.map(n=>Fe.normalizeTextItem(n))}}}}static async requestGemini(e,n,i){if(!n.geminiKey)throw new Error(" Gemini Key");const o=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${n.geminiKey}`,c=[{text:e}];i&&c.push({inlineData:{mimeType:"image/jpeg",data:i}});const f=async p=>{const g=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:c}],generationConfig:{maxOutputTokens:p,temperature:.7,responseMimeType:"application/json"}})});if(!g.ok){const A=await g.text();throw new Error(`Gemini HTTP ${g.status}: ${A.slice(0,300)}`)}const y=await g.json();if(y.error)throw new Error(`Gemini Error: ${y.error.message}`);return y.candidates?.[0]?.content?.parts?.[0]?.text||""};try{return await f(4e4)}catch(p){return console.warn("Gemini request failed at 40000, fallback to 20000:",p?.message||p),await f(2e4)}}static async callGemini(e,n,i){const o=await this.requestGemini(e,n,i);try{return JSON.parse(o)}catch(c){console.warn("Gemini JSON parse error",c);try{return this.parseJSONSafe(o)}catch{throw new Error(" (JSON)")}}}static async callOpenAI(e,n,i){if(!n.openaiKey)throw new Error(" OpenAI Key");const o=[{role:"system",content:"You are an expert French CEFR Instructor. Output strict valid JSON."}];i?o.push({role:"user",content:[{type:"text",text:e},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${i}`}}]}):o.push({role:"user",content:e});const f=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.openaiKey}`},body:JSON.stringify({model:"gpt-5.2",response_format:{type:"json_object"},messages:o})})).json();if(f.error)throw new Error(`OpenAI Error: ${f.error.message}`);return this.parseJSONSafe(f.choices?.[0]?.message?.content||"{}")}static async generateCourse(e,n,i){const o=Fe.LEVEL_CONFIG[n],c=(S,w)=>{let q=S.replace(/\[TOPIC\]/g,e).replace(/\[LEVEL\]/g,n).replace(/\[VOCAB_COUNT\]/g,String(o.vocab)).replace(/\[GRAMMAR_COUNT\]/g,String(o.grammar)).replace(/\[DIALOGUE_COUNT\]/g,String(o.dialogue)).replace(/\[ESSAY_COUNT\]/g,String(o.essay));if(w)for(const[Z,F]of Object.entries(w))q=q.replace(new RegExp(`\\[${Z}\\]`,"g"),F);return q},f=globalThis.crypto?.randomUUID?.()??`${Date.now()}-${Math.random()}`;if(i.selectedModel==="gemini"){const S=async Me=>{const et=c(Fe.GEMINI_PART_PROMPT,{SECTION:Me});return await Fe.callGemini(et,i)},w=await S("meta"),q=await S("vocabulary"),Z=await S("grammar"),F=await S("dialogue"),W=await S("essay"),le={topic:w.topic??e,title:w.title??[{text:e}],vocabulary:q.vocabulary??[],grammar:Z.grammar??[],texts:{dialogue:F.texts?.dialogue??[],essay:W.texts?.essay??{title:"",content:[]}}},ce=H0(e,n),de={...le,id:f,groupId:ce,createdAt:Date.now(),level:n};return Fe.normalizeCourse(de)}const p=c(Fe.COURSE_PROMPT),g=await Fe.callOpenAI(p,i),y=H0(e,n),A={...g,id:f,groupId:y,createdAt:Date.now(),level:n};return Fe.normalizeCourse(A)}static async generateDictionary(e,n){const i=Fe.DICT_PROMPT+`
WORD: ${e}`,o=n.selectedModel==="gemini"?await Fe.callGemini(i,n):await Fe.callOpenAI(i,n);return typeof o.word=="string"&&(o.word=[{text:o.word}]),o.example&&typeof o.example.text=="string"&&(o.example.text=[{text:o.example.text}]),Fe.normalizeVocabItem(o)}static async identifyImage(e,n){const i=n.selectedModel==="gemini"?await Fe.callGemini(Fe.VISION_PROMPT,n,e):await Fe.callOpenAI(Fe.VISION_PROMPT,n,e);return typeof i.word=="string"&&(i.word=[{text:i.word}]),i.example&&typeof i.example.text=="string"&&(i.example.text=[{text:i.example.text}]),Fe.normalizeVocabItem(i)}}const Jt=({segments:r,className:e="",showPhonetic:n=!0})=>{if(!r)return null;const i=Array.isArray(r)?r:[];return E.jsx("span",{"code-path":"src/App.tsx:1294:5",className:`inline-flex flex-wrap items-baseline gap-x-0.5 leading-loose ${e}`,children:i.map((o,c)=>E.jsx(ab.Fragment,{children:o.phonetic&&n?E.jsxs("ruby",{"code-path":"src/App.tsx:1298:13",className:"group cursor-default font-normal",children:[o.text,E.jsx("rt",{"code-path":"src/App.tsx:1300:15",className:"text-[0.55em] text-indigo-500 font-normal select-none group-hover:text-indigo-700 transition-colors",children:o.phonetic})]}):E.jsx("span",{"code-path":"src/App.tsx:1305:13",children:o.text})},c))})},rn=({text:r,size:e="md"})=>{const[n,i]=me.useState(!1),o=me.useContext(Vm),c=()=>typeof r=="string"?r:Array.isArray(r)?r.map(y=>y.text).join(""):"",f=y=>{y.stopPropagation();const A=c();A&&(i(!0),qp.play(A,o,()=>i(!1)))},p={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},g={sm:12,md:16,lg:24};return E.jsx("button",{"code-path":"src/App.tsx:1336:5",onClick:f,className:`${p[e]} rounded-full flex items-center justify-center bg-indigo-50 text-indigo-600 hover:bg-indigo-100 ${n?"animate-pulse ring-2 ring-indigo-300":""}`,children:E.jsx(Wb,{"code-path":"src/App.tsx:1337:7",size:g[e]})})},NN=({segments:r})=>{const[e,n]=me.useState("idle"),i=me.useContext(Vm),o=me.useMemo(()=>r.map(f=>f.text.map(p=>p.text).join("")).join(". "),[r]),c=()=>{e==="playing"?(qp.stop(),n("idle")):(n("playing"),qp.play(o,i,()=>n("idle")))};return E.jsxs("button",{"code-path":"src/App.tsx:1359:5",onClick:c,className:"flex items-center gap-2 bg-indigo-100 text-indigo-700 px-4 py-2 rounded-full font-bold hover:bg-indigo-200 transition-colors",children:[e==="playing"?E.jsx(Ub,{"code-path":"src/App.tsx:1360:31",size:16}):E.jsx(zb,{"code-path":"src/App.tsx:1360:53",size:16}),e==="playing"?"":""]})},DN=({isOpen:r,onClose:e})=>{const[n,i]=me.useState(!0),[o,c]=me.useState(""),[f,p]=me.useState(""),[g,y]=me.useState(""),[A,S]=me.useState(!1),w=async()=>{if(!Fn){y("Firebase ");return}S(!0),y("");try{typeof __initial_auth_token<"u"&&__initial_auth_token?await N1(Fn,__initial_auth_token):n?await P2(Fn,o,f):await U2(Fn,o,f),e()}catch(q){y(q.message)}finally{S(!1)}};return r?E.jsx("div",{"code-path":"src/App.tsx:1392:5",className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:E.jsxs("div",{"code-path":"src/App.tsx:1393:7",className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl relative",children:[E.jsx("button",{"code-path":"src/App.tsx:1394:9",onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:E.jsx(Zl,{"code-path":"src/App.tsx:1394:104",size:20})}),E.jsx("h2",{"code-path":"src/App.tsx:1395:9",className:"text-2xl font-bold text-gray-900 mb-2",children:n?"":""}),E.jsxs("div",{"code-path":"src/App.tsx:1396:9",className:"space-y-4",children:[E.jsx("input",{"code-path":"src/App.tsx:1397:11",type:"email",placeholder:"",value:o,onChange:q=>c(q.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"}),E.jsx("input",{"code-path":"src/App.tsx:1398:11",type:"password",placeholder:"",value:f,onChange:q=>p(q.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"}),g&&E.jsx("div",{"code-path":"src/App.tsx:1399:21",className:"text-red-500 text-xs",children:g}),E.jsx("button",{"code-path":"src/App.tsx:1400:11",onClick:w,disabled:A,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-gray-800 flex justify-center",children:A?E.jsx(wh,{"code-path":"src/App.tsx:1401:24",className:"animate-spin"}):n?"":""}),E.jsx("div",{"code-path":"src/App.tsx:1403:11",className:"text-center text-sm text-gray-500 cursor-pointer hover:text-indigo-600",onClick:()=>i(!n),children:n?"? ":"? "})]})]})}):null},ON=()=>{const[r,e]=me.useState("alphabet"),[n,i]=me.useState(null),[o,c]=me.useState("lifestyle"),f=me.useMemo(()=>wN(),[]);return E.jsxs("div",{"code-path":"src/App.tsx:1422:5",className:"space-y-6 animate-in fade-in duration-500",children:[E.jsxs("div",{"code-path":"src/App.tsx:1423:7",className:"flex justify-between items-end",children:[E.jsxs("div",{"code-path":"src/App.tsx:1424:9",children:[E.jsx("h2",{"code-path":"src/App.tsx:1425:11",className:"text-3xl font-bold text-gray-900",children:""}),E.jsx("p",{"code-path":"src/App.tsx:1426:11",className:"text-gray-500",children:""})]}),E.jsxs("div",{"code-path":"src/App.tsx:1428:9",className:"flex bg-gray-200 p-1 rounded-lg",children:[E.jsx("button",{"code-path":"src/App.tsx:1429:11",onClick:()=>e("alphabet"),className:`px-3 py-1 text-sm font-bold rounded-md ${r==="alphabet"?"bg-white shadow-sm":"text-gray-500"}`,children:""}),E.jsx("button",{"code-path":"src/App.tsx:1430:11",onClick:()=>e("nasal"),className:`px-3 py-1 text-sm font-bold rounded-md ${r==="nasal"?"bg-white shadow-sm":"text-gray-500"}`,children:""}),E.jsx("button",{"code-path":"src/App.tsx:1431:11",onClick:()=>e("liaison"),className:`px-3 py-1 text-sm font-bold rounded-md ${r==="liaison"?"bg-white shadow-sm":"text-gray-500"}`,children:""})]})]}),r==="alphabet"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{"code-path":"src/App.tsx:1437:11",className:"grid grid-cols-5 md:grid-cols-7 gap-2",children:f.map((p,g)=>E.jsxs("button",{"code-path":"src/App.tsx:1439:15",onClick:()=>i(p),className:"aspect-square bg-white rounded-xl border border-gray-100 shadow-sm flex flex-col items-center justify-center hover:text-indigo-600 hover:shadow-md transition-all group",children:[E.jsx("span",{"code-path":"src/App.tsx:1444:17",className:"text-2xl font-bold text-gray-800 group-hover:text-indigo-600",children:p.char}),E.jsx("span",{"code-path":"src/App.tsx:1445:17",className:"text-[10px] text-gray-400",children:p.phonetic})]},g))}),n&&E.jsx("div",{"code-path":"src/App.tsx:1451:13",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in",children:E.jsxs("div",{"code-path":"src/App.tsx:1452:15",className:"bg-white w-full max-w-2xl rounded-3xl overflow-hidden shadow-2xl relative animate-in zoom-in-95",children:[E.jsxs("div",{"code-path":"src/App.tsx:1453:17",className:"bg-gray-50 px-6 py-4 flex justify-between items-center border-b border-gray-100",children:[E.jsx("h3",{"code-path":"src/App.tsx:1454:19",className:"font-bold text-gray-500",children:""}),E.jsx("button",{"code-path":"src/App.tsx:1455:19",onClick:()=>i(null),className:"p-1 hover:bg-gray-200 rounded-full",children:E.jsx(Zl,{"code-path":"src/App.tsx:1455:114",size:20})})]}),E.jsxs("div",{"code-path":"src/App.tsx:1457:17",className:"p-8 flex flex-col md:flex-row gap-8",children:[E.jsxs("div",{"code-path":"src/App.tsx:1458:19",className:"flex flex-col items-center shrink-0 w-full md:w-40",children:[E.jsx("div",{"code-path":"src/App.tsx:1459:21",className:"w-32 h-32 bg-indigo-600 text-white rounded-3xl flex items-center justify-center text-7xl font-bold shadow-lg shadow-indigo-200 mb-4",children:n.char}),E.jsx(rn,{"code-path":"src/App.tsx:1462:21",text:n.char,size:"lg"}),E.jsxs("div",{"code-path":"src/App.tsx:1463:21",className:"mt-4 text-center",children:[E.jsx("span",{"code-path":"src/App.tsx:1464:23",className:"text-xs font-bold text-gray-400 uppercase",children:""}),E.jsx("p",{"code-path":"src/App.tsx:1465:23",className:"text-lg font-bold text-indigo-600",children:n.name}),E.jsx("p",{"code-path":"src/App.tsx:1466:23",className:"text-sm text-gray-500",children:n.phonetic})]}),E.jsxs("div",{"code-path":"src/App.tsx:1468:21",className:"mt-4 text-center",children:[E.jsx("span",{"code-path":"src/App.tsx:1469:23",className:"text-xs font-bold text-gray-400 uppercase",children:""}),E.jsx("p",{"code-path":"src/App.tsx:1470:23",className:"text-sm text-gray-600 mt-1",children:n.sound})]})]}),E.jsxs("div",{"code-path":"src/App.tsx:1473:19",className:"flex-1 space-y-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:1474:21",className:"flex bg-gray-100 p-1 rounded-xl",children:[E.jsxs("button",{"code-path":"src/App.tsx:1475:23",onClick:()=>c("lifestyle"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 ${o==="lifestyle"?"bg-white shadow-sm text-indigo-600":"text-gray-500"}`,children:[E.jsx(Nb,{"code-path":"src/App.tsx:1475:255",size:16})," "]}),E.jsxs("button",{"code-path":"src/App.tsx:1476:23",onClick:()=>c("business"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 ${o==="business"?"bg-white shadow-sm text-blue-700":"text-gray-500"}`,children:[E.jsx(bb,{"code-path":"src/App.tsx:1476:251",size:16})," "]})]}),E.jsxs("div",{"code-path":"src/App.tsx:1478:21",className:"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm",children:[E.jsxs("div",{"code-path":"src/App.tsx:1479:23",className:"mb-6",children:[E.jsx("div",{"code-path":"src/App.tsx:1480:25",className:"text-xs text-gray-400 font-bold uppercase mb-1",children:""}),E.jsxs("div",{"code-path":"src/App.tsx:1481:25",className:"flex justify-between items-center",children:[E.jsxs("div",{"code-path":"src/App.tsx:1482:27",children:[E.jsx("div",{"code-path":"src/App.tsx:1483:29",className:"text-2xl font-bold text-gray-900",children:E.jsx(Jt,{"code-path":"src/App.tsx:1484:31",segments:n.examples[o].word})}),E.jsx("div",{"code-path":"src/App.tsx:1486:29",className:"text-sm text-gray-500",children:n.examples[o].meaning})]}),E.jsx(rn,{"code-path":"src/App.tsx:1488:27",text:n.examples[o].word,size:"md"})]})]}),E.jsxs("div",{"code-path":"src/App.tsx:1491:23",className:"pt-4 border-t border-gray-100",children:[E.jsx("div",{"code-path":"src/App.tsx:1492:25",className:"text-xs text-gray-400 font-bold uppercase mb-2",children:""}),E.jsxs("div",{"code-path":"src/App.tsx:1493:25",className:"flex gap-3 items-start",children:[E.jsx(rn,{"code-path":"src/App.tsx:1494:27",text:n.examples[o].sentence,size:"sm"}),E.jsxs("div",{"code-path":"src/App.tsx:1495:27",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1496:29",segments:n.examples[o].sentence,className:"text-base text-gray-800 font-medium"}),E.jsx("div",{"code-path":"src/App.tsx:1497:29",className:"text-xs text-gray-400 mt-1",children:n.examples[o].translation})]})]})]})]})]})]})]})})]}),r==="nasal"&&E.jsxs("div",{"code-path":"src/App.tsx:1511:9",className:"space-y-6",children:[E.jsx("p",{"code-path":"src/App.tsx:1512:11",className:"text-gray-600",children:""}),E.jsx("div",{"code-path":"src/App.tsx:1513:11",className:"grid md:grid-cols-2 gap-4",children:xN.map((p,g)=>E.jsxs("div",{"code-path":"src/App.tsx:1515:15",className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[E.jsxs("div",{"code-path":"src/App.tsx:1516:17",className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{"code-path":"src/App.tsx:1517:19",className:"w-16 h-16 bg-indigo-100 rounded-xl flex items-center justify-center",children:E.jsx("span",{"code-path":"src/App.tsx:1518:21",className:"text-2xl font-bold text-indigo-600",children:p.phonetic})}),E.jsxs("div",{"code-path":"src/App.tsx:1520:19",children:[E.jsx("div",{"code-path":"src/App.tsx:1521:21",className:"text-sm text-gray-400",children:""}),E.jsx("div",{"code-path":"src/App.tsx:1522:21",className:"font-bold text-gray-800",children:p.spelling}),E.jsx("div",{"code-path":"src/App.tsx:1523:21",className:"text-sm text-gray-500",children:p.sound})]})]}),E.jsx("div",{"code-path":"src/App.tsx:1526:17",className:"space-y-2",children:p.examples.map((y,A)=>E.jsxs("div",{"code-path":"src/App.tsx:1528:21",className:"flex items-center justify-between bg-gray-50 p-2 rounded-lg",children:[E.jsxs("div",{"code-path":"src/App.tsx:1529:23",className:"flex items-center gap-2",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1530:25",segments:y.word}),E.jsx("span",{"code-path":"src/App.tsx:1531:25",className:"text-sm text-gray-500",children:y.meaning})]}),E.jsx(rn,{"code-path":"src/App.tsx:1533:23",text:y.word,size:"sm"})]},A))})]},g))})]}),r==="liaison"&&E.jsxs("div",{"code-path":"src/App.tsx:1544:9",className:"space-y-6",children:[E.jsx("p",{"code-path":"src/App.tsx:1545:11",className:"text-gray-600",children:"Liaison"}),E.jsx("div",{"code-path":"src/App.tsx:1546:11",className:"space-y-4",children:SN.map((p,g)=>E.jsxs("div",{"code-path":"src/App.tsx:1548:15",className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[E.jsxs("div",{"code-path":"src/App.tsx:1549:17",className:"flex items-center gap-2 mb-2",children:[E.jsx(Lb,{"code-path":"src/App.tsx:1550:19",size:18,className:"text-indigo-600"}),E.jsx("h4",{"code-path":"src/App.tsx:1551:19",className:"font-bold text-gray-800",children:p.name})]}),E.jsx("p",{"code-path":"src/App.tsx:1553:17",className:"text-sm text-gray-600 mb-2",children:p.description}),E.jsx("div",{"code-path":"src/App.tsx:1554:17",className:"text-xs text-indigo-600 bg-indigo-50 inline-block px-2 py-1 rounded mb-3",children:p.pattern}),E.jsx("div",{"code-path":"src/App.tsx:1555:17",className:"grid md:grid-cols-2 gap-3",children:p.examples.map((y,A)=>E.jsxs("div",{"code-path":"src/App.tsx:1557:21",className:"bg-gray-50 p-3 rounded-lg",children:[E.jsxs("div",{"code-path":"src/App.tsx:1558:23",className:"flex items-center gap-2 mb-1",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1559:25",segments:y.text}),E.jsx(rn,{"code-path":"src/App.tsx:1560:25",text:y.text,size:"sm"})]}),E.jsx("div",{"code-path":"src/App.tsx:1562:23",className:"text-xs text-gray-500",children:y.translation})]},A))})]},g))})]})]})},MN=({settings:r,user:e,topic:n,setTopic:i,loading:o,setLoading:c,errorMsg:f,setErrorMsg:p,course:g,setCourse:y})=>{const[A,S]=me.useState("A1"),[w,q]=me.useState(null),[Z,F]=me.useState(!1),[W,le]=me.useState(""),ce=async()=>{if(n){c(!0),y(null),p("");try{const x=await Fe.generateCourse(n,A,r);y(x),F(!1)}catch(x){p(x.message||"")}finally{c(!1)}}},de=async()=>{g&&(await km.archiveCourse(e,g),F(!0))},Me=()=>{if(!g)throw new Error("");if(!g.groupId)throw new Error(" groupId");return g},et=async x=>{const R=Me(),V=await ro.addVocabItems(e,R.groupId,R.id,x);le(` ${V.added} ${V.skipped}`),setTimeout(()=>le(""),2500)},Ve=async x=>{const R=Me(),V=await ro.addGrammarItems(e,R.groupId,R.id,x);le(` ${V.added}`),setTimeout(()=>le(""),2500)},N=async x=>{const R=Me(),V=await ro.addTextItems(e,R.groupId,R.id,x);le(` ${V.added}`),setTimeout(()=>le(""),2500)};return E.jsxs("div",{"code-path":"src/App.tsx:1625:5",className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[W&&E.jsx("div",{"code-path":"src/App.tsx:1627:9",className:"max-w-xl mx-auto text-center text-sm bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-2 rounded-xl",children:W}),E.jsxs("div",{"code-path":"src/App.tsx:1632:7",className:"text-center space-y-6 pt-10",children:[E.jsx("h2",{"code-path":"src/App.tsx:1633:9",className:"text-3xl font-bold text-gray-900",children:""}),E.jsxs("div",{"code-path":"src/App.tsx:1634:9",className:"flex flex-col gap-4 max-w-xl mx-auto",children:[E.jsxs("div",{"code-path":"src/App.tsx:1635:11",className:"flex items-center gap-2 bg-white p-2 rounded-2xl shadow-sm border border-gray-200",children:[E.jsx("input",{"code-path":"src/App.tsx:1636:13",value:n,onChange:x=>i(x.target.value),placeholder:": , , ...",className:"flex-1 px-4 py-2 bg-transparent outline-none text-lg",onKeyDown:x=>x.key==="Enter"&&ce()}),E.jsxs("button",{"code-path":"src/App.tsx:1643:13",onClick:ce,disabled:o,className:"bg-gray-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 disabled:opacity-50 transition-all",children:[o?E.jsx(wh,{"code-path":"src/App.tsx:1648:26",className:"animate-spin"}):E.jsx(pp,{"code-path":"src/App.tsx:1648:67",size:20})," "]})]}),E.jsx("div",{"code-path":"src/App.tsx:1652:11",className:"flex justify-center gap-2 flex-wrap",children:["A1","A2","B1","B2","C1","C2"].map(x=>E.jsx("button",{"code-path":"src/App.tsx:1654:15",onClick:()=>S(x),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-all ${A===x?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-400 hover:bg-gray-50"}`,children:x},x))})]}),E.jsx("div",{"code-path":"src/App.tsx:1667:9",className:"flex justify-center gap-2 text-xs text-gray-400",children:E.jsxs("span",{"code-path":"src/App.tsx:1668:11",children:[": ",r.selectedModel==="gemini"?" Gemini Flash":" GPT-5.2"]})}),f&&E.jsx("div",{"code-path":"src/App.tsx:1671:22",className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:f})]}),g&&E.jsxs("div",{"code-path":"src/App.tsx:1675:9",className:"space-y-12 animate-in slide-in-from-bottom-8 duration-700",children:[E.jsxs("div",{"code-path":"src/App.tsx:1676:11",className:"text-center border-b border-gray-200 pb-6",children:[E.jsxs("span",{"code-path":"src/App.tsx:1677:13",className:"text-xs font-bold text-indigo-600 tracking-widest uppercase",children:["AI  (",A,")"]}),E.jsxs("div",{"code-path":"src/App.tsx:1678:13",className:"text-4xl font-bold text-gray-900 mt-2 mb-2 flex justify-center gap-3",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1679:15",segments:g.title}),E.jsx(rn,{"code-path":"src/App.tsx:1680:15",text:g.title,size:"lg"})]}),E.jsx("p",{"code-path":"src/App.tsx:1682:13",className:"text-gray-500",children:g.topic})]}),E.jsxs("section",{"code-path":"src/App.tsx:1686:11",children:[E.jsxs("div",{"code-path":"src/App.tsx:1687:13",className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{"code-path":"src/App.tsx:1688:15",className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[E.jsx("div",{"code-path":"src/App.tsx:1689:17",className:"w-1 h-6 bg-indigo-500 rounded-full"})," "]}),E.jsx("button",{"code-path":"src/App.tsx:1691:15",onClick:()=>et(g.vocabulary),className:"text-xs font-bold bg-indigo-50 text-indigo-700 px-3 py-2 rounded-full hover:bg-indigo-100",children:""})]}),E.jsx("div",{"code-path":"src/App.tsx:1699:13",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.vocabulary.map((x,R)=>E.jsxs("button",{"code-path":"src/App.tsx:1701:17",onClick:()=>q(x),className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-indigo-200 transition-all text-left group",children:[E.jsx("div",{"code-path":"src/App.tsx:1706:19",className:"flex items-center gap-2 mb-1",children:E.jsx("span",{"code-path":"src/App.tsx:1707:21",className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${x.gender==="m"?"bg-blue-100 text-blue-700":x.gender==="f"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-600"}`,children:x.gender==="m"?"m":x.gender==="f"?"f":"-"})}),E.jsx("div",{"code-path":"src/App.tsx:1711:19",className:"text-lg font-bold text-gray-800 mb-1 group-hover:text-indigo-600",children:E.jsx(Jt,{"code-path":"src/App.tsx:1712:21",segments:x.word,showPhonetic:!1})}),E.jsx("div",{"code-path":"src/App.tsx:1714:19",className:"text-xs text-gray-400 truncate",children:x.meaning})]},R))})]}),E.jsxs("section",{"code-path":"src/App.tsx:1721:11",children:[E.jsxs("div",{"code-path":"src/App.tsx:1722:13",className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{"code-path":"src/App.tsx:1723:15",className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[E.jsx("div",{"code-path":"src/App.tsx:1724:17",className:"w-1 h-6 bg-pink-500 rounded-full"})," "]}),E.jsx("button",{"code-path":"src/App.tsx:1726:15",onClick:()=>Ve(g.grammar),className:"text-xs font-bold bg-pink-50 text-pink-700 px-3 py-2 rounded-full hover:bg-pink-100",children:""})]}),E.jsx("div",{"code-path":"src/App.tsx:1734:13",className:"space-y-4",children:g.grammar.map((x,R)=>E.jsxs("div",{"code-path":"src/App.tsx:1736:17",className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[E.jsxs("div",{"code-path":"src/App.tsx:1737:19",className:"flex items-center justify-between mb-2",children:[E.jsx("div",{"code-path":"src/App.tsx:1738:21",className:"font-bold text-lg text-indigo-600",children:x.point}),E.jsx("button",{"code-path":"src/App.tsx:1739:21",onClick:()=>Ve([x]),className:"text-xs font-bold bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full hover:bg-gray-200",children:""})]}),E.jsx("p",{"code-path":"src/App.tsx:1747:19",className:"text-sm text-gray-600 mb-4",children:x.explanation}),E.jsxs("div",{"code-path":"src/App.tsx:1749:19",className:"bg-gray-50 p-3 rounded-xl flex gap-3 items-start",children:[E.jsx(rn,{"code-path":"src/App.tsx:1750:21",text:x.example.text,size:"sm"}),E.jsxs("div",{"code-path":"src/App.tsx:1751:21",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1752:23",segments:x.example.text}),E.jsx("div",{"code-path":"src/App.tsx:1753:23",className:"text-xs text-gray-400 mt-1",children:x.example.translation})]})]})]},R))})]}),E.jsxs("section",{"code-path":"src/App.tsx:1762:11",children:[E.jsxs("h3",{"code-path":"src/App.tsx:1763:13",className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[E.jsx("div",{"code-path":"src/App.tsx:1764:15",className:"w-1 h-6 bg-emerald-500 rounded-full"})," "]}),E.jsxs("div",{"code-path":"src/App.tsx:1767:13",className:"grid md:grid-cols-2 gap-6",children:[E.jsxs("div",{"code-path":"src/App.tsx:1769:15",className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:1770:17",className:"flex items-center justify-between mb-4",children:[E.jsx("h4",{"code-path":"src/App.tsx:1771:19",className:"font-bold text-gray-400 text-xs uppercase",children:""}),E.jsx("button",{"code-path":"src/App.tsx:1772:19",onClick:()=>N(g.texts.dialogue),className:"text-xs font-bold bg-emerald-50 text-emerald-700 px-3 py-2 rounded-full hover:bg-emerald-100",children:""})]}),g.texts.dialogue.map((x,R)=>E.jsxs("div",{"code-path":"src/App.tsx:1781:19",className:"flex gap-3",children:[E.jsx("div",{"code-path":"src/App.tsx:1782:21",className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 shrink-0",children:x.role}),E.jsx("div",{"code-path":"src/App.tsx:1786:21",className:"flex-1",children:E.jsxs("div",{"code-path":"src/App.tsx:1787:23",className:"flex items-start justify-between gap-2",children:[E.jsxs("div",{"code-path":"src/App.tsx:1788:25",children:[E.jsxs("div",{"code-path":"src/App.tsx:1789:27",className:"flex items-center gap-2",children:[E.jsx(rn,{"code-path":"src/App.tsx:1790:29",text:x.text,size:"sm"}),E.jsx(Jt,{"code-path":"src/App.tsx:1791:29",segments:x.text,className:"text-lg font-medium"})]}),E.jsx("p",{"code-path":"src/App.tsx:1793:27",className:"text-sm text-gray-400 pl-8",children:x.translation})]}),E.jsx("button",{"code-path":"src/App.tsx:1796:25",onClick:V=>{V.stopPropagation(),N([x])},className:"text-[11px] font-bold bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full hover:bg-gray-200 shrink-0",children:""})]})})]},R))]}),E.jsxs("div",{"code-path":"src/App.tsx:1812:15",className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[E.jsxs("div",{"code-path":"src/App.tsx:1813:17",className:"flex justify-between items-center mb-4 gap-2",children:[E.jsx("h4",{"code-path":"src/App.tsx:1814:19",className:"font-bold text-gray-400 text-xs uppercase",children:g.texts.essay.title}),E.jsxs("div",{"code-path":"src/App.tsx:1816:19",className:"flex items-center gap-2",children:[E.jsx("button",{"code-path":"src/App.tsx:1817:21",onClick:()=>N(g.texts.essay.content),className:"text-xs font-bold bg-emerald-50 text-emerald-700 px-3 py-2 rounded-full hover:bg-emerald-100",children:""}),E.jsx(NN,{"code-path":"src/App.tsx:1823:21",segments:g.texts.essay.content})]})]}),E.jsx("div",{"code-path":"src/App.tsx:1827:17",className:"space-y-6",children:g.texts.essay.content.map((x,R)=>E.jsx("div",{"code-path":"src/App.tsx:1829:21",className:"group cursor-pointer hover:bg-gray-50 rounded-lg p-2 -mx-2 transition-colors",children:E.jsxs("div",{"code-path":"src/App.tsx:1830:23",className:"flex gap-3 items-start justify-between",children:[E.jsxs("div",{"code-path":"src/App.tsx:1831:25",className:"flex gap-3 items-start",children:[E.jsx(rn,{"code-path":"src/App.tsx:1832:27",text:x.text,size:"sm"}),E.jsxs("div",{"code-path":"src/App.tsx:1833:27",children:[E.jsx(Jt,{"code-path":"src/App.tsx:1834:29",segments:x.text,className:"text-lg text-gray-800 leading-8"}),E.jsx("div",{"code-path":"src/App.tsx:1835:29",className:"text-sm text-gray-500 mt-1 border-t border-gray-100 pt-1",children:x.translation})]})]}),E.jsx("button",{"code-path":"src/App.tsx:1839:25",onClick:V=>{V.stopPropagation(),N([x])},className:"text-[11px] font-bold bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full hover:bg-gray-200 shrink-0",children:""})]})},R))})]})]})]}),E.jsx("div",{"code-path":"src/App.tsx:1856:11",className:"flex justify-center pb-10",children:E.jsxs("button",{"code-path":"src/App.tsx:1857:13",onClick:de,disabled:Z,className:`px-8 py-4 rounded-full font-bold flex items-center gap-2 transition-all shadow-lg ${Z?"bg-green-100 text-green-700":"bg-gray-900 text-white hover:scale-105"}`,children:[Z?E.jsx(Ku,{"code-path":"src/App.tsx:1864:26",size:20}):E.jsx(Hb,{"code-path":"src/App.tsx:1864:54",size:20})," ",Z?"":""]})})]}),w&&E.jsx("div",{"code-path":"src/App.tsx:1872:9",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in",children:E.jsxs("div",{"code-path":"src/App.tsx:1873:11",className:"bg-white w-full max-w-lg rounded-3xl p-8 shadow-2xl relative animate-in zoom-in-95 duration-200",children:[E.jsx("button",{"code-path":"src/App.tsx:1874:13",onClick:()=>q(null),className:"absolute top-4 right-4 p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:E.jsx(Zl,{"code-path":"src/App.tsx:1878:15",size:20})}),E.jsxs("div",{"code-path":"src/App.tsx:1881:13",className:"flex flex-col items-center text-center space-y-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:1882:15",className:"flex items-center gap-2",children:[E.jsx("span",{"code-path":"src/App.tsx:1883:17",className:"text-xs font-bold bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full uppercase tracking-wider",children:w.grammar_tag}),E.jsx("span",{"code-path":"src/App.tsx:1886:17",className:`text-xs font-bold px-2 py-1 rounded-full ${w.gender==="m"?"bg-blue-100 text-blue-700":w.gender==="f"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-600"}`,children:w.gender==="m"?"":w.gender==="f"?"":"-"})]}),E.jsx("div",{"code-path":"src/App.tsx:1891:15",className:"text-5xl font-bold text-gray-900 mb-2",children:E.jsx(Jt,{"code-path":"src/App.tsx:1892:17",segments:w.word})}),w.plural&&w.plural!=="same"&&E.jsxs("div",{"code-path":"src/App.tsx:1896:17",className:"text-sm text-gray-500",children:[": ",w.plural]}),E.jsx(rn,{"code-path":"src/App.tsx:1899:15",text:w.word,size:"lg"}),E.jsx("p",{"code-path":"src/App.tsx:1901:15",className:"text-xl text-gray-600 font-medium",children:w.meaning}),E.jsxs("div",{"code-path":"src/App.tsx:1903:15",className:"w-full bg-gray-50 rounded-2xl p-6 mt-6 text-left",children:[E.jsx("div",{"code-path":"src/App.tsx:1904:17",className:"text-xs text-gray-400 font-bold uppercase mb-3",children:""}),E.jsxs("div",{"code-path":"src/App.tsx:1906:17",className:"flex gap-3 items-start mb-2",children:[E.jsx(rn,{"code-path":"src/App.tsx:1907:19",text:w.example.text,size:"sm"}),E.jsx(Jt,{"code-path":"src/App.tsx:1908:19",segments:w.example.text,className:"text-lg font-medium text-gray-800"})]}),E.jsx("p",{"code-path":"src/App.tsx:1911:17",className:"text-sm text-gray-500 pl-9",children:w.example.translation}),w.example.grammar_point&&E.jsxs("div",{"code-path":"src/App.tsx:1914:19",className:"mt-4 pt-3 border-t border-gray-200/50",children:[E.jsxs("div",{"code-path":"src/App.tsx:1915:21",className:"flex gap-2 items-center mb-1",children:[E.jsx(pp,{"code-path":"src/App.tsx:1916:23",size:14,className:"text-pink-500"}),E.jsx("span",{"code-path":"src/App.tsx:1917:23",className:"text-xs font-bold text-gray-400 uppercase",children:""})]}),E.jsx("p",{"code-path":"src/App.tsx:1919:21",className:"text-sm text-gray-700 leading-relaxed pl-6",children:w.example.grammar_point})]})]}),E.jsx("button",{"code-path":"src/App.tsx:1924:15",onClick:()=>et([w]),className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 mt-2",children:""})]})]})})]})},VN=({user:r})=>{const[e,n]=me.useState([]),[i,o]=me.useState(!1),[c,f]=me.useState("all"),[p,g]=me.useState(null),y=async()=>{o(!0);try{const F=await ro.listAllItems(r);n(F)}finally{o(!1)}};me.useEffect(()=>{y()},[r]);const A=e.filter(F=>c==="all"?!0:F.type===c),S=F=>F.type==="vocab"?F.content.word?.map(W=>W.text).join("")||"":F.type==="grammar"?F.content.point||"":F.content.text?.map(W=>W.text).join("")||"",w=F=>F.type==="vocab"?F.content.meaning||"":F.type==="grammar"?F.content.explanation||"":F.content.translation||"",q=F=>F.type==="vocab"?"":F.type==="grammar"?"":"",Z=F=>{if(F.type!=="vocab")return null;const W=F.content.gender;return W==="m"?"":W==="f"?"":null};return E.jsxs("div",{"code-path":"src/App.tsx:1984:5",className:"max-w-4xl mx-auto pt-6 space-y-6 animate-in fade-in",children:[E.jsxs("div",{"code-path":"src/App.tsx:1985:7",className:"flex items-end justify-between gap-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:1986:9",children:[E.jsx("h2",{"code-path":"src/App.tsx:1987:11",className:"text-3xl font-bold text-gray-900",children:""}),E.jsx("p",{"code-path":"src/App.tsx:1988:11",className:"text-gray-500",children:" /  / "})]}),E.jsxs("button",{"code-path":"src/App.tsx:1991:9",onClick:y,className:"px-4 py-2 rounded-xl bg-gray-900 text-white font-bold text-sm hover:bg-gray-800 flex items-center gap-2",children:[E.jsx(wh,{"code-path":"src/App.tsx:1995:11",size:16,className:i?"animate-spin":""}),""]})]}),E.jsx("div",{"code-path":"src/App.tsx:2000:7",className:"flex flex-wrap gap-2",children:["all","vocab","grammar","text"].map(F=>E.jsxs("button",{"code-path":"src/App.tsx:2002:11",onClick:()=>f(F),className:`px-4 py-2 rounded-full text-sm font-bold border transition-all ${c===F?"bg-indigo-600 text-white border-indigo-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[F==="all"?"":F==="vocab"?"":F==="grammar"?"":"",E.jsx("span",{"code-path":"src/App.tsx:2012:13",className:"ml-2 text-xs opacity-80",children:F==="all"?e.length:e.filter(W=>W.type===F).length})]},F))}),E.jsx("div",{"code-path":"src/App.tsx:2021:7",className:"bg-white border border-gray-100 rounded-3xl shadow-sm overflow-hidden",children:A.length===0?E.jsx("div",{"code-path":"src/App.tsx:2023:11",className:"p-12 text-center text-gray-500",children:c==="all"?'"//"':""}):E.jsx("div",{"code-path":"src/App.tsx:2027:11",className:"divide-y divide-gray-100",children:A.map(F=>E.jsxs("div",{"code-path":"src/App.tsx:2029:15",className:"p-5 flex items-start justify-between gap-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:2030:17",className:"min-w-0 cursor-pointer",onClick:()=>g(F),children:[E.jsxs("div",{"code-path":"src/App.tsx:2031:19",className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{"code-path":"src/App.tsx:2032:21",className:"text-[11px] font-bold bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:q(F)}),Z(F)&&E.jsx("span",{"code-path":"src/App.tsx:2036:23",className:`text-[11px] font-bold px-2 py-1 rounded-full ${F.content.gender==="m"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:Z(F)}),E.jsx("span",{"code-path":"src/App.tsx:2040:21",className:"text-xs text-gray-400",children:F.groupId})]}),E.jsx("div",{"code-path":"src/App.tsx:2042:19",className:"font-bold text-gray-900 truncate",children:S(F)}),E.jsx("div",{"code-path":"src/App.tsx:2043:19",className:"text-sm text-gray-500 line-clamp-2 mt-1",children:w(F)})]}),E.jsx("div",{"code-path":"src/App.tsx:2046:17",className:"flex gap-2 shrink-0",children:E.jsx("button",{"code-path":"src/App.tsx:2047:19",onClick:async()=>{await ro.deleteItem(r,F.id),await y()},className:"px-3 py-2 rounded-xl bg-red-50 text-red-600 font-bold text-xs hover:bg-red-100",children:""})})]},F.id))})}),p&&E.jsx("div",{"code-path":"src/App.tsx:2065:9",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in",children:E.jsxs("div",{"code-path":"src/App.tsx:2066:11",className:"bg-white w-full max-w-2xl rounded-3xl p-8 shadow-2xl relative animate-in zoom-in-95 duration-200",children:[E.jsx("button",{"code-path":"src/App.tsx:2067:13",onClick:()=>g(null),className:"absolute top-4 right-4 p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:E.jsx(Zl,{"code-path":"src/App.tsx:2071:15",size:20})}),E.jsxs("div",{"code-path":"src/App.tsx:2074:13",className:"flex items-center justify-between gap-4 mb-6",children:[E.jsxs("div",{"code-path":"src/App.tsx:2075:15",children:[E.jsx("div",{"code-path":"src/App.tsx:2076:17",className:"text-xs font-bold text-gray-400 uppercase mb-2",children:q(p)}),E.jsx("div",{"code-path":"src/App.tsx:2077:17",className:"text-3xl font-black text-gray-900 break-words",children:S(p)}),E.jsx("div",{"code-path":"src/App.tsx:2078:17",className:"text-gray-500 mt-2 break-words",children:w(p)}),E.jsx("div",{"code-path":"src/App.tsx:2079:17",className:"text-xs text-gray-400 mt-2",children:p.groupId})]}),E.jsx("button",{"code-path":"src/App.tsx:2082:15",onClick:async()=>{await ro.deleteItem(r,p.id),g(null),await y()},className:"px-4 py-3 rounded-2xl bg-red-50 text-red-600 font-bold hover:bg-red-100",children:""})]}),p.type==="vocab"&&E.jsxs("div",{"code-path":"src/App.tsx:2095:15",className:"bg-gray-50 rounded-2xl p-6 space-y-3",children:[E.jsxs("div",{"code-path":"src/App.tsx:2096:17",className:"flex items-center justify-between",children:[E.jsx("div",{"code-path":"src/App.tsx:2097:19",className:"font-bold text-gray-900 text-xl",children:E.jsx(Jt,{"code-path":"src/App.tsx:2098:21",segments:p.content.word})}),E.jsx(rn,{"code-path":"src/App.tsx:2100:19",text:p.content.word,size:"md"})]}),E.jsxs("div",{"code-path":"src/App.tsx:2102:17",className:"flex items-center gap-2",children:[E.jsx("span",{"code-path":"src/App.tsx:2103:19",className:`text-xs font-bold px-2 py-1 rounded-full ${p.content.gender==="m"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:p.content.gender==="m"?"":""}),p.content.plural&&p.content.plural!=="same"&&E.jsxs("span",{"code-path":"src/App.tsx:2107:21",className:"text-xs text-gray-500",children:[": ",p.content.plural]})]}),E.jsx("div",{"code-path":"src/App.tsx:2110:17",className:"text-gray-700",children:p.content.meaning}),E.jsxs("div",{"code-path":"src/App.tsx:2111:17",className:"text-sm text-gray-500",children:["",E.jsx(Jt,{"code-path":"src/App.tsx:2112:22",segments:p.content.example.text})]}),E.jsx("div",{"code-path":"src/App.tsx:2114:17",className:"text-sm text-gray-400",children:p.content.example.translation})]}),p.type==="grammar"&&E.jsxs("div",{"code-path":"src/App.tsx:2119:15",className:"bg-gray-50 rounded-2xl p-6 space-y-3",children:[E.jsx("div",{"code-path":"src/App.tsx:2120:17",className:"font-bold text-indigo-600 text-xl",children:p.content.point}),E.jsx("div",{"code-path":"src/App.tsx:2121:17",className:"text-gray-700",children:p.content.explanation}),E.jsxs("div",{"code-path":"src/App.tsx:2122:17",className:"flex items-start gap-3 pt-2",children:[E.jsx(rn,{"code-path":"src/App.tsx:2123:19",text:p.content.example.text,size:"sm"}),E.jsxs("div",{"code-path":"src/App.tsx:2124:19",children:[E.jsx(Jt,{"code-path":"src/App.tsx:2125:21",segments:p.content.example.text,className:"text-lg font-medium text-gray-800"}),E.jsx("div",{"code-path":"src/App.tsx:2126:21",className:"text-sm text-gray-500 mt-1",children:p.content.example.translation})]})]})]}),p.type==="text"&&E.jsxs("div",{"code-path":"src/App.tsx:2133:15",className:"bg-gray-50 rounded-2xl p-6 space-y-3",children:[E.jsxs("div",{"code-path":"src/App.tsx:2134:17",className:"flex items-start justify-between gap-3",children:[E.jsx("div",{"code-path":"src/App.tsx:2135:19",className:"text-xl font-bold text-gray-900 leading-8",children:E.jsx(Jt,{"code-path":"src/App.tsx:2136:21",segments:p.content.text})}),E.jsx(rn,{"code-path":"src/App.tsx:2138:19",text:p.content.text,size:"md"})]}),E.jsx("div",{"code-path":"src/App.tsx:2140:17",className:"text-gray-600 border-t border-gray-200 pt-3",children:p.content.translation})]})]})})]})},kN=({settings:r})=>{const[e,n]=me.useState(""),[i,o]=me.useState(null),[c,f]=me.useState(!1),[p,g]=me.useState(""),y=me.useRef(null),A=async()=>{if(e){f(!0),o(null),g("");try{const w=await Fe.generateDictionary(e,r);o(w)}catch{g(" Key")}finally{f(!1)}}},S=w=>{const q=w.target.files?.[0];if(!q)return;const Z=new FileReader;Z.onloadend=async()=>{const F=Z.result.replace("data:","").replace(/^.+,/,"");f(!0),g(""),o(null);try{const W=await Fe.identifyImage(F,r);o(W)}catch(W){g(": "+W.message)}finally{f(!1)}},Z.readAsDataURL(q)};return E.jsxs("div",{"code-path":"src/App.tsx:2179:5",className:"max-w-2xl mx-auto pt-10 space-y-8 animate-in fade-in",children:[E.jsxs("div",{"code-path":"src/App.tsx:2180:7",className:"text-center space-y-4",children:[E.jsx("h2",{"code-path":"src/App.tsx:2181:9",className:"text-2xl font-bold text-gray-900",children:"AI "}),E.jsxs("div",{"code-path":"src/App.tsx:2182:9",className:"flex gap-2 bg-white p-2 rounded-2xl shadow-sm border border-gray-200",children:[E.jsx("input",{"code-path":"src/App.tsx:2183:11",className:"flex-1 px-4 outline-none",placeholder:"...",value:e,onChange:w=>n(w.target.value),onKeyDown:w=>w.key==="Enter"&&A()}),E.jsx("input",{"code-path":"src/App.tsx:2184:11",type:"file",ref:y,className:"hidden",accept:"image/*",onChange:S}),E.jsx("button",{"code-path":"src/App.tsx:2185:11",onClick:()=>y.current?.click(),className:"bg-gray-100 p-3 rounded-xl hover:bg-gray-200 text-gray-500",children:E.jsx(Sb,{"code-path":"src/App.tsx:2185:136",size:20})}),E.jsx("button",{"code-path":"src/App.tsx:2186:11",onClick:A,className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700",children:c?E.jsx(wh,{"code-path":"src/App.tsx:2186:125",className:"animate-spin",size:20}):E.jsx(G0,{"code-path":"src/App.tsx:2186:176",size:20})})]}),p&&E.jsx("div",{"code-path":"src/App.tsx:2188:19",className:"text-red-500 text-sm",children:p})]}),i&&E.jsxs("div",{"code-path":"src/App.tsx:2191:9",className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 space-y-6 animate-in slide-in-from-bottom-4",children:[E.jsxs("div",{"code-path":"src/App.tsx:2192:11",className:"flex justify-between items-start",children:[E.jsxs("div",{"code-path":"src/App.tsx:2193:13",children:[E.jsxs("div",{"code-path":"src/App.tsx:2194:15",className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{"code-path":"src/App.tsx:2195:17",className:"text-xs font-bold text-indigo-500 uppercase",children:i.grammar_tag}),i.gender&&E.jsx("span",{"code-path":"src/App.tsx:2197:19",className:`text-xs font-bold px-2 py-0.5 rounded-full ${i.gender==="m"?"bg-blue-100 text-blue-700":i.gender==="f"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-600"}`,children:i.gender==="m"?"":i.gender==="f"?"":"-"})]}),E.jsx("div",{"code-path":"src/App.tsx:2202:15",className:"text-4xl font-bold text-gray-900",children:E.jsx(Jt,{"code-path":"src/App.tsx:2202:65",segments:i.word})}),i.plural&&i.plural!=="same"&&E.jsxs("div",{"code-path":"src/App.tsx:2204:17",className:"text-sm text-gray-500 mt-1",children:[": ",i.plural]}),E.jsx("div",{"code-path":"src/App.tsx:2206:15",className:"text-xl text-gray-500 mt-1",children:i.meaning})]}),E.jsx(rn,{"code-path":"src/App.tsx:2208:13",text:i.word,size:"lg"})]}),E.jsxs("div",{"code-path":"src/App.tsx:2210:11",className:"bg-gray-50 p-6 rounded-2xl",children:[E.jsxs("div",{"code-path":"src/App.tsx:2211:13",className:"flex gap-3 items-start",children:[E.jsx(rn,{"code-path":"src/App.tsx:2211:53",text:i.example.text,size:"sm"}),E.jsxs("div",{"code-path":"src/App.tsx:2212:15",children:[E.jsx(Jt,{"code-path":"src/App.tsx:2213:17",segments:i.example.text,className:"text-lg text-gray-800"}),E.jsx("div",{"code-path":"src/App.tsx:2214:17",className:"text-gray-500 mt-1",children:i.example.translation})]})]}),i.example.grammar_point&&E.jsxs("div",{"code-path":"src/App.tsx:2217:46",className:"mt-3 pt-3 border-t border-gray-200 text-sm text-gray-600",children:[E.jsx("span",{"code-path":"src/App.tsx:2217:120",className:"font-bold text-gray-400 uppercase text-xs",children:":"})," ",i.example.grammar_point]})]})]})]})},LN=({isOpen:r,onClose:e,onSave:n})=>{const[i,o]=me.useState(io);return me.useEffect(()=>{o(ht.getSettings())},[r]),r?E.jsx("div",{"code-path":"src/App.tsx:2236:5",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4 animate-in fade-in",children:E.jsxs("div",{"code-path":"src/App.tsx:2237:7",className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[E.jsxs("div",{"code-path":"src/App.tsx:2238:9",className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h3",{"code-path":"src/App.tsx:2238:95",className:"font-bold text-lg text-gray-800 flex items-center gap-2",children:[E.jsx(K0,{"code-path":"src/App.tsx:2238:167",size:20})," "]}),E.jsx("button",{"code-path":"src/App.tsx:2238:199",onClick:e,children:E.jsx(Zl,{"code-path":"src/App.tsx:2238:225",size:20,className:"text-gray-400"})})]}),E.jsxs("div",{"code-path":"src/App.tsx:2239:9",className:"p-6 space-y-6 h-[60vh] overflow-y-auto",children:[E.jsxs("div",{"code-path":"src/App.tsx:2240:11",children:[E.jsx("label",{"code-path":"src/App.tsx:2240:16",className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:""}),E.jsx("input",{"code-path":"src/App.tsx:2240:99",value:i.userName,onChange:c=>o({...i,userName:c.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),E.jsxs("div",{"code-path":"src/App.tsx:2242:11",children:[E.jsx("label",{"code-path":"src/App.tsx:2243:13",className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:" (AI Tutor)"}),E.jsxs("div",{"code-path":"src/App.tsx:2244:13",className:"grid grid-cols-2 gap-2",children:[E.jsx("button",{"code-path":"src/App.tsx:2245:15",onClick:()=>o({...i,selectedModel:"gemini"}),className:`p-2 border rounded-lg text-sm font-bold ${i.selectedModel==="gemini"?"bg-indigo-50 border-indigo-500 text-indigo-700":"text-gray-500"}`,children:" Gemini Flash"}),E.jsx("button",{"code-path":"src/App.tsx:2246:15",onClick:()=>o({...i,selectedModel:"openai"}),className:`p-2 border rounded-lg text-sm font-bold ${i.selectedModel==="openai"?"bg-green-50 border-green-500 text-green-700":"text-gray-500"}`,children:" GPT-5.2"})]})]}),E.jsxs("div",{"code-path":"src/App.tsx:2250:11",children:[E.jsx("label",{"code-path":"src/App.tsx:2251:13",className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:" (TTS Provider)"}),E.jsxs("div",{"code-path":"src/App.tsx:2252:13",className:"space-y-2",children:[E.jsxs("button",{"code-path":"src/App.tsx:2253:15",onClick:()=>o({...i,ttsProvider:"browser"}),className:`w-full p-3 border rounded-xl text-left flex items-center justify-between ${i.ttsProvider==="browser"?"bg-gray-100 border-gray-400":""}`,children:[E.jsx("span",{"code-path":"src/App.tsx:2254:17",className:"font-bold text-sm",children:" ()"}),i.ttsProvider==="browser"&&E.jsx(Ku,{"code-path":"src/App.tsx:2255:56",size:16,className:"text-gray-900"})]}),E.jsxs("button",{"code-path":"src/App.tsx:2257:15",onClick:()=>o({...i,ttsProvider:"google_cloud"}),className:`w-full p-3 border rounded-xl text-left flex items-center justify-between ${i.ttsProvider==="google_cloud"?"bg-blue-50 border-blue-500 text-blue-700":""}`,children:[E.jsxs("div",{"code-path":"src/App.tsx:2258:17",children:[E.jsx("div",{"code-path":"src/App.tsx:2258:22",className:"font-bold text-sm",children:"Google Cloud TTS"}),E.jsx("div",{"code-path":"src/App.tsx:2258:79",className:"text-xs opacity-70",children:"Neural2 ()"})]}),i.ttsProvider==="google_cloud"&&E.jsx(Ku,{"code-path":"src/App.tsx:2259:61",size:16})]}),E.jsxs("button",{"code-path":"src/App.tsx:2261:15",onClick:()=>o({...i,ttsProvider:"openai"}),className:`w-full p-3 border rounded-xl text-left flex items-center justify-between ${i.ttsProvider==="openai"?"bg-green-50 border-green-500 text-green-700":""}`,children:[E.jsxs("div",{"code-path":"src/App.tsx:2262:17",children:[E.jsx("div",{"code-path":"src/App.tsx:2262:22",className:"font-bold text-sm",children:"OpenAI TTS"}),E.jsx("div",{"code-path":"src/App.tsx:2262:73",className:"text-xs opacity-70",children:"TTS-1 ()"})]}),i.ttsProvider==="openai"&&E.jsx(Ku,{"code-path":"src/App.tsx:2263:55",size:16})]})]})]}),E.jsxs("div",{"code-path":"src/App.tsx:2268:11",children:[E.jsx("label",{"code-path":"src/App.tsx:2269:13",className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"API "}),E.jsxs("div",{"code-path":"src/App.tsx:2270:13",className:"space-y-3",children:[E.jsx("input",{"code-path":"src/App.tsx:2271:15",type:"password",placeholder:"Gemini API Key",value:i.geminiKey,onChange:c=>o({...i,geminiKey:c.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm"}),E.jsx("input",{"code-path":"src/App.tsx:2272:15",type:"password",placeholder:"OpenAI API Key ()",value:i.openaiKey,onChange:c=>o({...i,openaiKey:c.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm"}),i.ttsProvider==="google_cloud"&&E.jsxs("div",{"code-path":"src/App.tsx:2274:17",className:"animate-in slide-in-from-top-2 fade-in",children:[E.jsx("input",{"code-path":"src/App.tsx:2275:19",type:"password",placeholder:"Google Cloud TTS API Key",value:i.googleTTSKey,onChange:c=>o({...i,googleTTSKey:c.target.value}),className:"w-full px-3 py-2 border border-blue-200 bg-blue-50 rounded-lg text-sm text-blue-800 placeholder-blue-300"}),E.jsx("p",{"code-path":"src/App.tsx:2276:19",className:"text-[10px] text-blue-500 mt-1",children:" Google Cloud Console  Text-to-Speech API"})]})]})]})]}),E.jsx("div",{"code-path":"src/App.tsx:2282:9",className:"p-4 bg-gray-50 flex justify-end",children:E.jsx("button",{"code-path":"src/App.tsx:2282:58",onClick:()=>{km.saveSettings(null,i),n(i),e()},className:"bg-gray-900 text-white px-6 py-2 rounded-lg font-bold",children:""})})]})}):null};function jN(){const[r,e]=me.useState(null),[n,i]=me.useState("course"),[o,c]=me.useState(io),[f,p]=me.useState(!1),[g,y]=me.useState(!1),[A,S]=me.useState(""),[w,q]=me.useState(!1),[Z,F]=me.useState(""),[W,le]=me.useState(null);return me.useEffect(()=>{(async()=>{if(Fn)try{typeof __initial_auth_token<"u"&&__initial_auth_token&&await N1(Fn,__initial_auth_token)}catch(de){console.warn("Auth warning",de)}})()},[]),me.useEffect(()=>{if(Fn)return q2(Fn,async ce=>{e(ce);const de=await km.loadSettings(ce);c(de)});c(ht.getSettings())},[]),E.jsx(Vm.Provider,{"code-path":"src/App.tsx:2327:5",value:o,children:E.jsxs("div",{"code-path":"src/App.tsx:2328:7",className:"min-h-screen bg-[#F5F5F7] text-gray-800 font-sans",children:[E.jsxs("header",{"code-path":"src/App.tsx:2329:9",className:"sticky top-0 bg-white/80 backdrop-blur-md border-b z-50 h-16 px-4 flex items-center justify-between",children:[E.jsxs("div",{"code-path":"src/App.tsx:2330:11",className:"flex items-center gap-2 font-bold text-lg",children:[E.jsx("div",{"code-path":"src/App.tsx:2331:13",className:"bg-indigo-600 text-white p-1 rounded flex items-center justify-center w-8 h-8",children:E.jsx(Xb,{"code-path":"src/App.tsx:2332:15",size:20})}),"Franais Flow Pro"]}),E.jsxs("div",{"code-path":"src/App.tsx:2336:11",className:"flex items-center gap-4",children:[r?E.jsxs("div",{"code-path":"src/App.tsx:2338:15",className:"flex items-center gap-2 text-sm",children:[E.jsxs("span",{"code-path":"src/App.tsx:2339:17",className:"text-green-600 flex items-center gap-1",children:[E.jsx(Ib,{"code-path":"src/App.tsx:2339:74",size:14})," Synced"]}),E.jsx("span",{"code-path":"src/App.tsx:2340:17",className:"font-bold",children:r.email?.split("@")[0]}),E.jsx("button",{"code-path":"src/App.tsx:2341:17",onClick:()=>Fn&&H2(Fn),className:"text-gray-400 hover:text-red-500",children:E.jsx(Vb,{"code-path":"src/App.tsx:2341:108",size:16})})]}):E.jsxs("button",{"code-path":"src/App.tsx:2344:15",onClick:()=>p(!0),className:"flex items-center gap-2 text-sm font-bold bg-gray-100 px-3 py-1.5 rounded-full hover:bg-gray-200",children:[E.jsx(Jb,{"code-path":"src/App.tsx:2344:166",size:16}),"  / "]}),E.jsx("button",{"code-path":"src/App.tsx:2346:13",onClick:()=>y(!0),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:E.jsx(K0,{"code-path":"src/App.tsx:2346:118",size:18})})]})]}),E.jsxs("main",{"code-path":"src/App.tsx:2350:9",className:"pt-8 px-4 max-w-4xl mx-auto pb-24",children:[n==="foundation"&&E.jsx(ON,{"code-path":"src/App.tsx:2351:44"}),n==="course"&&E.jsx(MN,{"code-path":"src/App.tsx:2353:13",settings:o,user:r,topic:A,setTopic:S,loading:w,setLoading:q,errorMsg:Z,setErrorMsg:F,course:W,setCourse:le}),n==="review"&&E.jsx(VN,{"code-path":"src/App.tsx:2366:40",user:r}),n==="dict"&&E.jsx(kN,{"code-path":"src/App.tsx:2367:38",settings:o})]}),E.jsx("nav",{"code-path":"src/App.tsx:2370:9",className:"fixed bottom-0 w-full bg-white border-t flex justify-around p-2 pb-safe z-40",children:[{id:"foundation",icon:Eb,label:""},{id:"course",icon:Ob,label:""},{id:"review",icon:pp,label:""},{id:"dict",icon:G0,label:""}].map(ce=>E.jsxs("button",{"code-path":"src/App.tsx:2377:13",onClick:()=>i(ce.id),className:`flex flex-col items-center p-2 rounded-xl transition-all ${n===ce.id?"text-indigo-600 scale-110":"text-gray-400"}`,children:[E.jsx(ce.icon,{"code-path":"src/App.tsx:2378:15",size:24,strokeWidth:n===ce.id?2.5:2}),E.jsx("span",{"code-path":"src/App.tsx:2379:15",className:"text-[10px] font-bold mt-1",children:ce.label})]},ce.id))}),E.jsx(DN,{"code-path":"src/App.tsx:2384:9",isOpen:f,onClose:()=>p(!1)}),E.jsx(LN,{"code-path":"src/App.tsx:2385:9",isOpen:g,onClose:()=>y(!1),onSave:c}),!Fn&&E.jsxs("div",{"code-path":"src/App.tsx:2388:11",className:"fixed bottom-24 left-4 right-4 bg-amber-50 border border-amber-200 p-4 rounded-xl text-sm text-amber-800 flex gap-3 shadow-lg z-50",children:[E.jsx(Yb,{"code-path":"src/App.tsx:2389:13",className:"shrink-0"}),E.jsxs("div",{"code-path":"src/App.tsx:2390:13",children:[E.jsx("strong",{"code-path":"src/App.tsx:2391:15",children:"Firebase "}),E.jsx("p",{"code-path":"src/App.tsx:2392:15",children:" firebaseConfig "})]})]})]})})}db.createRoot(document.getElementById("root")).render(E.jsx(me.StrictMode,{"code-path":"src/main.tsx:7:3",children:E.jsx(jN,{"code-path":"src/main.tsx:8:5"})}));
